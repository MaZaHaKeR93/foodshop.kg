  [1m[36m (124.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (166.5ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateEstablishments (20170825133328)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "establishments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170825133328"]]
  [1m[35m (152.8ms)[0m  commit transaction
Migrating to CreateDishes (20170825133556)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  CREATE TABLE "dishes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "price" decimal, "establishment_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.5ms)[0m  [1mCREATE  INDEX "index_dishes_on_establishment_id" ON "dishes" ("establishment_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170825133556"]]
  [1m[36m (105.9ms)[0m  [1mcommit transaction[0m
Migrating to CreateOrders (20170825133708)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "status" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170825133708"]]
  [1m[36m (85.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateOrderItems (20170825133816)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "order_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" integer, "title" varchar, "price" decimal, "order_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_order_items_on_order_id" ON "order_items" ("order_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170825133816"]]
  [1m[35m (87.8ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_order_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_order_items_on_order_id' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateOrderItems (20170825133816)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  DROP TABLE "order_items"
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170825133816"]]
  [1m[35m (83.8ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'

  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateOrderItems (20170825133816)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "order_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" integer, "dish_title" varchar, "price" decimal, "order_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_order_items_on_order_id" ON "order_items" ("order_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170825133816"]]
  [1m[36m (82.0ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_order_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_order_items_on_order_id' AND type='index'

  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateOrderItems (20170825133816)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "order_items"
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170825133816"]]
  [1m[35m (95.5ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'

  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateOrderItems (20170825133816)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "order_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" integer, "dish_title" varchar, "price" decimal, "order_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_order_items_on_order_id" ON "order_items" ("order_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170825133816"]]
  [1m[36m (89.9ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_order_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_order_items_on_order_id' AND type='index'

  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateOrderItems (20170825133816)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "order_items"
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170825133816"]]
  [1m[35m (84.4ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'

  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateOrderItems (20170825133816)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "order_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" integer, "dish_title" varchar, "price" decimal, "order_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_order_items_on_order_id" ON "order_items" ("order_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170825133816"]]
  [1m[36m (103.3ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_order_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_order_items_on_order_id' AND type='index'

  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateOrderItems (20170825133816)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  DROP TABLE "order_items"
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170825133816"]]
  [1m[35m (95.0ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'

  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateOrderItems (20170825133816)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "order_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" integer, "dish_title" varchar, "price" decimal, "order_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_order_items_on_order_id" ON "order_items" ("order_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170825133816"]]
  [1m[36m (172.5ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_order_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_order_items_on_order_id' AND type='index'

  [1m[36m (141.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (112.4ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateEstablishments (20170825133328)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  CREATE TABLE "establishments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170825133328"]]
  [1m[35m (104.8ms)[0m  commit transaction
Migrating to CreateDishes (20170825133556)
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  CREATE TABLE "dishes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "price" decimal, "establishment_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_dishes_on_establishment_id" ON "dishes" ("establishment_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170825133556"]]
  [1m[36m (94.3ms)[0m  [1mcommit transaction[0m
Migrating to CreateOrders (20170825133708)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "status" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170825133708"]]
  [1m[36m (103.2ms)[0m  [1mcommit transaction[0m
Migrating to CreateOrderItems (20170825133816)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "order_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" integer, "dish_title" varchar, "price" decimal, "order_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "index_order_items_on_order_id" ON "order_items" ("order_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170825133816"]]
  [1m[35m (83.8ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_order_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_order_items_on_order_id' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "establishments" ("title", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Golden Dragon"], ["description", "hotel 5 stars"], ["created_at", "2017-08-25 14:23:30.327410"], ["updated_at", "2017-08-25 14:23:30.327410"]]
  [1m[35m (98.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "establishments" ("title", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["title", "Ninja Sushi"], ["description", "Sushes, rolls, etc"], ["created_at", "2017-08-25 14:23:30.430669"], ["updated_at", "2017-08-25 14:23:30.430669"]]
  [1m[36m (64.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "establishments" ("title", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Коффейня Coffee"], ["description", "Кофейня там, все дела"], ["created_at", "2017-08-25 14:23:30.497290"], ["updated_at", "2017-08-25 14:23:30.497290"]]
  [1m[35m (85.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "establishments" ("title", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["title", "Циклон"], ["description", "Ничего не знаю об этом ресторане"], ["created_at", "2017-08-25 14:23:30.585905"], ["updated_at", "2017-08-25 14:23:30.585905"]]
  [1m[36m (64.3ms)[0m  [1mcommit transaction[0m
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments"  ORDER BY "establishments"."id" DESC LIMIT 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["price", 13.5], ["description", "Fois gras is a luxury food product made of the liver of a duck or goose that has been specially fattened. By French law, foie gras is defined as the liver of a duck or goose fattened by force-feeding corn with a feeding tube, a process also known as gavage."], ["created_at", "2017-08-25 14:25:02.616277"], ["updated_at", "2017-08-25 14:25:02.616277"]]
  [1m[35m (109.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["title", "Gruton"], ["price", 8.0], ["description", "Потому что гренки не могут стоить $8 за штуку, а gruton - может"], ["created_at", "2017-08-25 14:25:02.731094"], ["updated_at", "2017-08-25 14:25:02.731094"]]
  [1m[36m (86.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Sushi"], ["price", 7.5], ["description", "Су́ши, или су́си — блюдо традиционной японской кухни, приготовленное из риса с уксусной приправой и различных морепродуктов, а также других ингредиентов. С начала 1980-х суши получили широкую популярность в мире."], ["created_at", "2017-08-25 14:25:02.819654"], ["updated_at", "2017-08-25 14:25:02.819654"]]
  [1m[35m (64.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["title", "Pizza"], ["price", 15.0], ["description", "Пи́цца — итальянское национальное блюдо в виде круглой открытой лепешки, покрытой в классическом варианте томатами и расплавленным сыром. Сыр является главным ингредиентом пиццы. Одно из самых популярных блюд в мире."], ["created_at", "2017-08-25 14:25:02.886276"], ["updated_at", "2017-08-25 14:25:02.886276"]]
  [1m[36m (122.0ms)[0m  [1mcommit transaction[0m
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes"  ORDER BY "dishes"."id" DESC LIMIT 1


Started GET "/" for 127.0.0.1 at 2017-08-25 20:35:13 +0600
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m

ActionController::RoutingError (uninitialized constant EstatablishmentController):
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:261:in `const_get'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:261:in `block in constantize'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `each'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `inject'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `constantize'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:70:in `controller_reference'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:60:in `controller'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:39:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (23.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (28.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (131.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (52.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (83.8ms)


Started GET "/" for 127.0.0.1 at 2017-08-25 20:35:14 +0600

ActionController::RoutingError (uninitialized constant EstatablishmentController):
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:261:in `const_get'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:261:in `block in constantize'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `each'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `inject'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `constantize'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:70:in `controller_reference'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:60:in `controller'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:39:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (43.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.5ms)


Started GET "/dish" for 127.0.0.1 at 2017-08-25 20:35:33 +0600

ActionController::RoutingError (No route matches [GET] "/dish"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (38.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.9ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-25 20:35:36 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (17.8ms)
Completed 200 OK in 1542ms (Views: 1535.8ms | ActiveRecord: 0.8ms)


Started GET "/assets/dishes.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2017-08-25 20:35:38 +0600


Started GET "/assets/application.self-e80e8f2318043e8af94dddc2adad5a4f09739a8ebb323b3ab31cd71d45fd9113.css?body=1" for 127.0.0.1 at 2017-08-25 20:35:38 +0600


Started GET "/assets/jquery.self-bd7ddd393353a8d2480a622e80342adf488fb6006d667e8b42e4c0073393abee.js?body=1" for 127.0.0.1 at 2017-08-25 20:35:38 +0600


Started GET "/assets/establishments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2017-08-25 20:35:38 +0600


Started GET "/assets/turbolinks.self-1d1fddf91adc38ac2045c51f0a3e05ca97d07d24d15a4dcbf705009106489e69.js?body=1" for 127.0.0.1 at 2017-08-25 20:35:38 +0600


Started GET "/assets/dishes.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for 127.0.0.1 at 2017-08-25 20:35:38 +0600


Started GET "/assets/jquery_ujs.self-784a997f6726036b1993eb2217c9cb558e1cbb801c6da88105588c56f13b466a.js?body=1" for 127.0.0.1 at 2017-08-25 20:35:38 +0600


Started GET "/assets/establishments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for 127.0.0.1 at 2017-08-25 20:35:38 +0600


Started GET "/assets/application.self-3b8dabdc891efe46b9a144b400ad69e37d7e5876bdc39dee783419a69d7ca819.js?body=1" for 127.0.0.1 at 2017-08-25 20:35:38 +0600


Started GET "/dishes" for 127.0.0.1 at 2017-08-25 20:35:59 +0600
Processing by DishesController#index as HTML
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered dishes/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 68ms (Views: 64.6ms | ActiveRecord: 0.4ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-25 20:36:07 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (5.5ms)
Completed 200 OK in 58ms (Views: 54.6ms | ActiveRecord: 0.4ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-25 20:36:20 +0600
Processing by DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered dishes/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 27ms (Views: 25.3ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-08-25 20:37:15 +0600

ActionController::RoutingError (uninitialized constant EstatablishmentController):
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:261:in `const_get'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:261:in `block in constantize'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `each'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `inject'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `constantize'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:70:in `controller_reference'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:60:in `controller'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:39:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (41.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.6ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-25 20:37:31 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (9.2ms)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.5ms)

ActionView::Template::Error (undefined method `price' for #<Establishment:0x007f5e256b5730>):
     9: 	<tr>
    10: 		<td><%= establishment.title %></td>
    11: 		<td><%= establishment.description %></td>
    12: 		<td><%= establishment.price %></td>
    13: 	</tr>
    14: <% end %>
    15: </table>
  app/views/establishments/index.html.erb:12:in `block in _app_views_establishments_index_html_erb__4557678851161991117_70021229343960'
  app/views/establishments/index.html.erb:8:in `_app_views_establishments_index_html_erb__4557678851161991117_70021229343960'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (53.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.0ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-25 20:37:40 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 24ms (Views: 22.4ms | ActiveRecord: 0.2ms)


Started GET "/establishments/1" for 127.0.0.1 at 2017-08-25 20:40:08 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 1]]
  Rendered establishments/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 60ms (Views: 21.0ms | ActiveRecord: 0.3ms)


Started GET "/establishments/1" for 127.0.0.1 at 2017-08-25 20:40:43 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered establishments/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 23ms (Views: 20.7ms | ActiveRecord: 0.2ms)


Started GET "/establishments/1" for 127.0.0.1 at 2017-08-25 20:41:53 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 1]]
  Rendered establishments/show.html.erb within layouts/application (0.2ms)
Completed 200 OK in 25ms (Views: 23.0ms | ActiveRecord: 0.1ms)


Started GET "/dishes/1" for 127.0.0.1 at 2017-08-25 20:41:57 +0600
Processing by DishesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered dishes/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 24ms (Views: 20.7ms | ActiveRecord: 0.4ms)
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m


Started GET "/dishes/1" for 127.0.0.1 at 2017-08-25 20:42:38 +0600
Processing by DishesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 1]]
  Rendered dishes/show.html.erb within layouts/application (0.1ms)
Completed 200 OK in 19ms (Views: 17.7ms | ActiveRecord: 0.2ms)


Started GET "/dishes/1" for 127.0.0.1 at 2017-08-25 20:46:26 +0600
Processing by DishesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered dishes/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 22ms (Views: 20.4ms | ActiveRecord: 0.1ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 20:54:15 +0600

ActionController::RoutingError (uninitialized constant Admin::EstablishmentsController):
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:276:in `const_get'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:276:in `block in constantize'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `each'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `inject'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `constantize'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:70:in `controller_reference'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:60:in `controller'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:39:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (42.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (40.5ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 20:54:28 +0600

ActionController::RoutingError (uninitialized constant Admin::EstablishmentsController):
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:276:in `const_get'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:276:in `block in constantize'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `each'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `inject'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `constantize'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:70:in `controller_reference'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:60:in `controller'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:39:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (12.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (51.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (41.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 20:55:42 +0600

ActionController::RoutingError (uninitialized constant Admin::EstablishmentsController):
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:276:in `const_get'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:276:in `block in constantize'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `each'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `inject'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `constantize'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:70:in `controller_reference'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:60:in `controller'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:39:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (43.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.9ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 20:56:02 +0600

ActionController::RoutingError (uninitialized constant Admin::EstablishmentsController):
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:276:in `const_get'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:276:in `block in constantize'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `each'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `inject'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `constantize'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:70:in `controller_reference'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:60:in `controller'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:39:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (42.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.8ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 20:57:04 +0600

ActionController::RoutingError (uninitialized constant Admin::EstablishmentsController):
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:276:in `const_get'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:276:in `block in constantize'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `each'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `inject'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `constantize'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:70:in `controller_reference'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:60:in `controller'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:39:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (42.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.9ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 20:58:51 +0600
Processing by Admin::DishesController#index as HTML
Filter chain halted as #<Proc:0x007f5e2d7f49b8@/home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 20:58:53 +0600
Processing by Admin::DishesController#index as HTML
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms)

ActionView::MissingTemplate (Missing template admin/dishes/index, admin/index with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
  actionview (4.2.6) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.6) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.6) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.6) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.6) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.6) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.6) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (13.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (40.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.5ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 20:59:51 +0600
Processing by Admin::EstablishmentsController#index as HTML
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms)

ActionView::MissingTemplate (Missing template admin/establishments/index, admin/index with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
  actionview (4.2.6) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.6) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.6) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.6) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.6) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.6) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.6) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (28.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (19.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (41.4ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 21:00:28 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.6ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (10.3ms)
Completed 200 OK in 15ms (Views: 12.4ms | ActiveRecord: 1.0ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 21:00:47 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (3.3ms)
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 0.2ms)


Started GET "/admin/establishments1" for 127.0.0.1 at 2017-08-25 21:00:52 +0600

ActionController::RoutingError (No route matches [GET] "/admin/establishments1"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (37.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.5ms)


Started GET "/admin/establishments/1" for 127.0.0.1 at 2017-08-25 21:00:54 +0600

AbstractController::ActionNotFound (The action 'show' could not be found for Admin::EstablishmentsController):
  actionpack (4.2.6) lib/abstract_controller/base.rb:132:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.6ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 21:00:57 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (2.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.2ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 21:02:18 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (3.3ms)
Completed 200 OK in 25ms (Views: 23.3ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-08-25 22:20:50 +0600
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m

ActionController::RoutingError (uninitialized constant EstatablishmentController):
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:261:in `const_get'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:261:in `block in constantize'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `each'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `inject'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `constantize'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:70:in `controller_reference'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:60:in `controller'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:39:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (21.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (25.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (105.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (63.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (91.1ms)


Started GET "/" for 127.0.0.1 at 2017-08-25 22:20:51 +0600

ActionController::RoutingError (uninitialized constant EstatablishmentController):
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:261:in `const_get'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:261:in `block in constantize'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `each'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `inject'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `constantize'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:70:in `controller_reference'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:60:in `controller'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:39:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (42.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.8ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 22:21:19 +0600
Processing by Admin::EstablishmentsController#index as HTML
Filter chain halted as #<Proc:0x0055daa3528310@/home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 22:21:21 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (10.0ms)
Completed 200 OK in 776ms (Views: 720.2ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-08-25 22:21:26 +0600

ActionController::RoutingError (uninitialized constant EstatablishmentController):
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:261:in `const_get'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:261:in `block in constantize'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `each'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `inject'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `constantize'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:70:in `controller_reference'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:60:in `controller'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:39:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (4.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (3.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (62.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (32.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (2.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (60.9ms)


Started GET "/" for 127.0.0.1 at 2017-08-25 22:21:35 +0600

ActionController::RoutingError (uninitialized constant EstatablishmentsController):
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:261:in `const_get'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:261:in `block in constantize'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `each'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `inject'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `constantize'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:70:in `controller_reference'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:60:in `controller'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:39:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (44.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.9ms)


Started GET "/" for 127.0.0.1 at 2017-08-25 22:21:48 +0600

ActionController::RoutingError (uninitialized constant EstablishmentController):
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:261:in `const_get'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:261:in `block in constantize'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `each'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `inject'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `constantize'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:70:in `controller_reference'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:60:in `controller'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:39:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (44.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.6ms)


Started GET "/" for 127.0.0.1 at 2017-08-25 22:21:53 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.5ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (7.7ms)
Completed 200 OK in 45ms (Views: 40.3ms | ActiveRecord: 1.0ms)


Started GET "/admin/genres" for 127.0.0.1 at 2017-08-25 22:22:10 +0600

ActionController::RoutingError (No route matches [GET] "/admin/genres"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (39.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 22:22:16 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (3.3ms)
Completed 200 OK in 27ms (Views: 25.5ms | ActiveRecord: 0.3ms)


Started DELETE "/admin/establishments/1" for 127.0.0.1 at 2017-08-25 22:22:33 +0600
Processing by Admin::EstablishmentsController#destroy as HTML
  Parameters: {"authenticity_token"=>"yp1zPjUAuPPYcCJSj9Zk5OXkH8d2dQd6yJrnyKIbVzTFMeXh8o7d7cGWI/JBIF6YNDjRGXikvfFsyeHWHmmu2g==", "id"=>"1"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (16.3ms)[0m  [1mDELETE FROM "establishments" WHERE "establishments"."id" = ?[0m  [["id", 1]]
  [1m[35m (109.1ms)[0m  commit transaction
Redirected to http://localhost:3000/establishments
Completed 302 Found in 202ms (ActiveRecord: 125.7ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-25 22:22:33 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 23ms (Views: 21.4ms | ActiveRecord: 0.2ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 22:22:40 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (2.2ms)
Completed 200 OK in 22ms (Views: 20.5ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 22:26:54 +0600
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (10.6ms)
Completed 200 OK in 6328ms (Views: 6310.4ms | ActiveRecord: 0.8ms)


Started GET "/assets/bootstrap/transition.self-6ad2488465135ab731a045a8ebbe3ea2fc501aed286042496eda1664fdd07ba9.js?body=1" for 127.0.0.1 at 2017-08-25 22:27:01 +0600


Started GET "/assets/bootstrap/alert.self-742145c5bb847aafdadc6e339be795628f8bc25f177e851f03a8c42278eb0312.js?body=1" for 127.0.0.1 at 2017-08-25 22:27:01 +0600


Started GET "/assets/application.self-218408cf494a351e4c6479d5457ac55b2b7c7363dac4fd33aabaab11da287f57.css?body=1" for 127.0.0.1 at 2017-08-25 22:27:01 +0600


Started GET "/assets/bootstrap/button.self-126ac9bf0e7f2d8568f8da3a00fd5f0fac6eae0946331003370161fbf8d7975e.js?body=1" for 127.0.0.1 at 2017-08-25 22:27:01 +0600


Started GET "/assets/bootstrap/tab.self-5bf7078b682f8b131332eefa46b45fa5eff2eca745fc0d03e2991450888f7c28.js?body=1" for 127.0.0.1 at 2017-08-25 22:27:01 +0600


Started GET "/assets/bootstrap/collapse.self-2eb697f62b587bb786ff940d82dd4be88cdeeaf13ca128e3da3850c5fcaec301.js?body=1" for 127.0.0.1 at 2017-08-25 22:27:01 +0600


Started GET "/assets/bootstrap/dropdown.self-561cca1cbaf67474e01e9536f106bad541594860a6df997004591c1c1957a147.js?body=1" for 127.0.0.1 at 2017-08-25 22:27:01 +0600


Started GET "/assets/bootstrap/modal.self-3e78617ade5663314b7ee0ea10375a5b34d59ffbade44939e3f2a4e4ef2019b3.js?body=1" for 127.0.0.1 at 2017-08-25 22:27:01 +0600


Started GET "/assets/bootstrap/carousel.self-e47323f363ceb3dc0bdbce05e36e709ed428e339833a41140a85cb0af24b8127.js?body=1" for 127.0.0.1 at 2017-08-25 22:27:01 +0600


Started GET "/assets/bootstrap/affix.self-6d6f1a7fc5c8aabf3547fa1b794fab6268f54bc55ad815e55873c71f52513517.js?body=1" for 127.0.0.1 at 2017-08-25 22:27:01 +0600


Started GET "/assets/bootstrap/scrollspy.self-969f3c5f48cdf1e439c7fa1154c13b948715f5c689f87837c0b64521d3b46ef6.js?body=1" for 127.0.0.1 at 2017-08-25 22:27:01 +0600


Started GET "/assets/bootstrap/popover.self-0aa93860b59fe7393f1dd490f54b3cb994f9d6155adffce034d4e14ae361b041.js?body=1" for 127.0.0.1 at 2017-08-25 22:27:01 +0600


Started GET "/assets/bootstrap/tooltip.self-05afb177e08f98997ccfc84fa08a215e4b27d48d5fe4d049080675e9dffd8199.js?body=1" for 127.0.0.1 at 2017-08-25 22:27:01 +0600


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for 127.0.0.1 at 2017-08-25 22:27:01 +0600


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for 127.0.0.1 at 2017-08-25 22:27:01 +0600


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-25 22:32:38 +0600
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  Rendered establishments/show.html.erb within layouts/application (2.6ms)
Completed 200 OK in 520ms (Views: 479.0ms | ActiveRecord: 0.9ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-25 22:32:42 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered establishments/show.html.erb within layouts/application (0.3ms)
Completed 200 OK in 65ms (Views: 62.2ms | ActiveRecord: 0.2ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-25 22:42:15 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  Rendered establishments/show.html.erb within layouts/application (0.2ms)
Completed 200 OK in 62ms (Views: 60.1ms | ActiveRecord: 0.2ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-25 22:42:17 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered establishments/show.html.erb within layouts/application (0.2ms)
Completed 200 OK in 63ms (Views: 61.2ms | ActiveRecord: 0.2ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-25 22:42:18 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  Rendered establishments/show.html.erb within layouts/application (0.2ms)
Completed 200 OK in 64ms (Views: 61.9ms | ActiveRecord: 0.2ms)


Started GET "/admin/establishments/2/edit" for 127.0.0.1 at 2017-08-25 22:45:45 +0600
Processing by Admin::EstablishmentsController#edit as HTML
  Parameters: {"id"=>"2"}
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms)

ActionView::MissingTemplate (Missing template admin/establishments/edit, admin/edit with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
  actionview (4.2.6) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.6) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.6) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.6) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.6) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.6) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.6) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (11.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (51.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (29.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (54.8ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 22:45:49 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (3.5ms)
Completed 200 OK in 58ms (Views: 56.6ms | ActiveRecord: 0.2ms)


Started GET "/admin/" for 127.0.0.1 at 2017-08-25 22:46:10 +0600

ActionController::RoutingError (No route matches [GET] "/admin"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (7.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (43.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.0ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 22:49:43 +0600
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (18.9ms)
Completed 500 Internal Server Error in 545ms (ActiveRecord: 0.6ms)

ActionView::Template::Error (undefined local variable or method `admin_books_path' for #<#<Class:0x0055a41f2f8d48>:0x0055a41f2a70b0>):
    17:         <span class="icon-bar"></span>
    18:         <span class="icon-bar"></span>
    19:       </button>
    20:       <a class="navbar-brand" href="<%= admin_books_path %>">Раритет</a>
    21:     </div>
    22: 
    23:     <!-- Collect the nav links, forms, and other content for toggling -->
  app/views/layouts/admin.html.erb:20:in `_app_views_layouts_admin_html_erb___3145103172201831036_47081692140260'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (33.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (28.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (57.0ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 22:50:46 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (2.3ms)
Completed 500 Internal Server Error in 75ms (ActiveRecord: 0.3ms)

ActionView::Template::Error (undefined local variable or method `admin_books_path' for #<#<Class:0x0055a41f2f8d48>:0x007f06c6ccf9b0>):
    23:     <!-- Collect the nav links, forms, and other content for toggling -->
    24:     <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    25:       <ul class="nav navbar-nav">
    26:         <li><a href="<%= admin_books_path %>">Книги</a></li>
    27:         <li><a href="<%= admin_authors_path %>">Авторы</a></li>
    28:         <li><a href="<%= admin_genres_path %>">Жанры</a></li>
    29:       </ul>
  app/views/layouts/admin.html.erb:26:in `_app_views_layouts_admin_html_erb___3145103172201831036_69833534546520'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (12.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (44.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.9ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 22:51:36 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (3.2ms)
Completed 500 Internal Server Error in 78ms (ActiveRecord: 0.4ms)

ActionView::Template::Error (undefined local variable or method `admin_books_path' for #<#<Class:0x0055a41f2f8d48>:0x007f06c72b11f8>):
    30:       <ul class="nav navbar-nav navbar-right">
    31:         <li><a href="<%= root_path %>">Главная</a></li>
    32:         <li class="dropdown">
    33:           <a href="<%= admin_books_path %>" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Добавить <span class="caret"></span></a>
    34:           <ul class="dropdown-menu">
    35:             <li><a href="<%= new_admin_book_path %>">Книгу</a></li>
    36:             <li><a href="<%= new_admin_author_path %>">Автора</a></li>
  app/views/layouts/admin.html.erb:33:in `_app_views_layouts_admin_html_erb___3145103172201831036_69833543987000'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (31.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.6ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 22:53:08 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (2.0ms)
Completed 500 Internal Server Error in 66ms (ActiveRecord: 0.3ms)

ActionView::Template::Error (undefined local variable or method `new_admin_dishes_path' for #<#<Class:0x0055a41f2f8d48>:0x007f06c68d20b0>):
    33:           <a href="<%= admin_establishments_path %>" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Добавить <span class="caret"></span></a>
    34:           <ul class="dropdown-menu">
    35:             <li><a href="<%= new_admin_establishment_path %>">Заведение</a></li>
    36:             <li><a href="<%= new_admin_dishes_path %>">Блюдо</a></li>
    37:             <li><a href="#">Категорию</a></li>
    38:           </ul>
    39:         </li>
  app/views/layouts/admin.html.erb:36:in `_app_views_layouts_admin_html_erb___3145103172201831036_69833538852540'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (34.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.2ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 22:53:32 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (2.3ms)
Completed 200 OK in 66ms (Views: 64.5ms | ActiveRecord: 0.2ms)


Started GET "/admin/establishments/new" for 127.0.0.1 at 2017-08-25 22:53:39 +0600
Processing by Admin::EstablishmentsController#new as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)

ActionView::MissingTemplate (Missing template admin/establishments/new, admin/new with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
  actionview (4.2.6) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.6) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.6) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.6) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.6) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.6) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.6) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (29.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (19.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (40.5ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 22:53:44 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (5.8ms)
Completed 200 OK in 82ms (Views: 79.9ms | ActiveRecord: 0.3ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 22:53:46 +0600
Processing by Admin::DishesController#index as HTML
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.0ms)

ActionView::MissingTemplate (Missing template admin/dishes/index, admin/index with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
  actionview (4.2.6) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.6) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.6) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.6) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.6) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.6) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.6) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (39.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 22:53:51 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (3.7ms)
Completed 200 OK in 118ms (Views: 116.0ms | ActiveRecord: 0.4ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 22:53:53 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (4.7ms)
Completed 200 OK in 85ms (Views: 82.5ms | ActiveRecord: 0.4ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 22:53:54 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (4.7ms)
Completed 200 OK in 84ms (Views: 81.5ms | ActiveRecord: 0.4ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 22:53:54 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (4.6ms)
Completed 200 OK in 82ms (Views: 79.8ms | ActiveRecord: 0.4ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 22:53:54 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (3.1ms)
Completed 200 OK in 75ms (Views: 73.2ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 22:58:15 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (2.9ms)
Completed 200 OK in 76ms (Views: 74.1ms | ActiveRecord: 0.2ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 22:58:47 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (2.7ms)
Completed 200 OK in 60ms (Views: 58.5ms | ActiveRecord: 0.2ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 23:01:11 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (5.4ms)
Completed 200 OK in 70ms (Views: 66.7ms | ActiveRecord: 0.4ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 23:01:32 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (4.5ms)
Completed 200 OK in 69ms (Views: 67.2ms | ActiveRecord: 0.4ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 23:01:53 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (3.4ms)
Completed 200 OK in 67ms (Views: 64.6ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 23:03:57 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (2.6ms)
Completed 200 OK in 68ms (Views: 66.2ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 23:03:58 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (2.8ms)
Completed 200 OK in 69ms (Views: 67.4ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 23:04:00 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (9.6ms)
Completed 200 OK in 85ms (Views: 83.1ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 23:04:00 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (5.3ms)
Completed 200 OK in 77ms (Views: 75.2ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 23:04:00 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (4.6ms)
Completed 200 OK in 78ms (Views: 76.4ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 23:06:32 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (4.6ms)
Completed 200 OK in 71ms (Views: 69.5ms | ActiveRecord: 0.4ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:06:33 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered admin/dishes/index.html.erb within layouts/admin (16.8ms)
Completed 200 OK in 74ms (Views: 70.9ms | ActiveRecord: 0.9ms)


Started GET "/dishes/2" for 127.0.0.1 at 2017-08-25 23:07:14 +0600
Processing by DishesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered dishes/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 78ms (Views: 58.9ms | ActiveRecord: 0.4ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:10:45 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered admin/dishes/index.html.erb within layouts/admin (3.5ms)
Completed 200 OK in 63ms (Views: 60.4ms | ActiveRecord: 0.4ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 23:10:48 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (5.1ms)
Completed 200 OK in 88ms (Views: 86.4ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 23:14:49 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (2.0ms)
Completed 200 OK in 61ms (Views: 59.0ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 23:15:25 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (2.2ms)
Completed 200 OK in 63ms (Views: 61.8ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 23:15:27 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (1.8ms)
Completed 200 OK in 63ms (Views: 61.3ms | ActiveRecord: 0.2ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 23:15:27 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (2.1ms)
Completed 200 OK in 60ms (Views: 57.7ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments/2/edit" for 127.0.0.1 at 2017-08-25 23:15:39 +0600
Processing by Admin::EstablishmentsController#edit as HTML
  Parameters: {"id"=>"2"}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms)

ActionView::MissingTemplate (Missing template admin/establishments/edit, admin/edit with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
  actionview (4.2.6) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.6) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.6) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.6) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.6) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.6) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.6) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (32.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.0ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:16:05 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered admin/dishes/index.html.erb within layouts/admin (4.4ms)
Completed 200 OK in 72ms (Views: 70.9ms | ActiveRecord: 0.3ms)


Started GET "/admin/dishes/1/edit" for 127.0.0.1 at 2017-08-25 23:16:07 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"1"}
  Rendered admin/dishes/_form.html.erb (6.5ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (19.8ms)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.0ms)

ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for [:admin, @dish] do |f| %>
    2: 
    3: 	<div style="float: right;">
    4: 		<div class="alert alert-danger" role="alert">
  app/views/admin/dishes/_form.html.erb:1:in `_app_views_admin_dishes__form_html_erb__2462503101599152140_69833534729280'
  app/views/admin/dishes/edit.html.erb:3:in `_app_views_admin_dishes_edit_html_erb__3513184066274621832_69833534819700'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (10.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (35.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.6ms)


Started GET "/admin/dishes/1/edit" for 127.0.0.1 at 2017-08-25 23:17:59 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"1"}
  Rendered admin/dishes/_form.html.erb (3.4ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (4.5ms)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms)

ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for [:admin, @dish] do |f| %>
    2: 
    3: 	<div style="float: right;">
    4: 		<div class="alert alert-danger" role="alert">
  app/views/admin/dishes/_form.html.erb:1:in `_app_views_admin_dishes__form_html_erb__2462503101599152140_69833534729280'
  app/views/admin/dishes/edit.html.erb:3:in `_app_views_admin_dishes_edit_html_erb__3513184066274621832_69833534819700'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (10.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (38.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (46.6ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:18:02 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered admin/dishes/index.html.erb within layouts/admin (4.3ms)
Completed 200 OK in 63ms (Views: 61.4ms | ActiveRecord: 0.3ms)


Started GET "/admin/dishes/new" for 127.0.0.1 at 2017-08-25 23:18:11 +0600
Processing by Admin::DishesController#new as HTML
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/dishes/_form.html.erb (72.4ms)
  Rendered admin/dishes/new.html.erb within layouts/admin (74.5ms)
Completed 200 OK in 129ms (Views: 127.4ms | ActiveRecord: 0.2ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:18:23 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered admin/dishes/index.html.erb within layouts/admin (4.4ms)
Completed 200 OK in 68ms (Views: 65.9ms | ActiveRecord: 0.4ms)


Started GET "/admin/dishes/1/edit" for 127.0.0.1 at 2017-08-25 23:18:28 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"1"}
  Rendered admin/dishes/_form.html.erb (3.4ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (4.4ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms)

ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for [:admin, @dish] do |f| %>
    2: 
    3: 	<div style="float: right;">
    4: 		<div class="alert alert-danger" role="alert">
  app/views/admin/dishes/_form.html.erb:1:in `_app_views_admin_dishes__form_html_erb__2462503101599152140_69833534729280'
  app/views/admin/dishes/edit.html.erb:3:in `_app_views_admin_dishes_edit_html_erb__3513184066274621832_69833534819700'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (35.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (46.2ms)


Started DELETE "/admin/dishes/1" for 127.0.0.1 at 2017-08-25 23:18:50 +0600
Processing by Admin::DishesController#destroy as HTML
  Parameters: {"authenticity_token"=>"2aQUAXEo9BRQ/B+tHuMu9MLKni6TxL7HO21xKO1Z8x7WCILetqaRCkkaHg3QFRSIExZQ8J0VBEyfPnc2USsK8A==", "id"=>"1"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "dishes" WHERE "dishes"."id" = ?  [["id", 1]]
  [1m[36m (98.7ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/dishes
Completed 302 Found in 104ms (ActiveRecord: 99.4ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-25 23:18:50 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 61ms (Views: 59.3ms | ActiveRecord: 0.3ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-25 23:19:23 +0600
Processing by DishesController#index as HTML
  [1m[36mDish Load (0.7ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered dishes/index.html.erb within layouts/application (23.2ms)
Completed 200 OK in 86ms (Views: 80.2ms | ActiveRecord: 1.2ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-25 23:19:26 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 56ms (Views: 54.4ms | ActiveRecord: 0.2ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-25 23:19:27 +0600
Processing by DishesController#index as HTML
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered dishes/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 67ms (Views: 65.8ms | ActiveRecord: 0.2ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:19:29 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered admin/dishes/index.html.erb within layouts/admin (2.7ms)
Completed 200 OK in 66ms (Views: 65.0ms | ActiveRecord: 0.3ms)


Started DELETE "/admin/dishes/2" for 127.0.0.1 at 2017-08-25 23:19:32 +0600
Processing by Admin::DishesController#destroy as HTML
  Parameters: {"authenticity_token"=>"Txs3nZCykVjmbmNsMR0LYypXko/tDrCiGeXtuYeDp1RAt6FCVzz0Rv+IYsz/6zEf+4tcUePfCim9tuunO/Feug==", "id"=>"2"}
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "dishes" WHERE "dishes"."id" = ?[0m  [["id", 2]]
  [1m[35m (150.0ms)[0m  commit transaction
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 158ms (ActiveRecord: 150.8ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:19:32 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered admin/dishes/index.html.erb within layouts/admin (2.1ms)
Completed 200 OK in 72ms (Views: 69.6ms | ActiveRecord: 0.3ms)


Started DELETE "/admin/dishes/3" for 127.0.0.1 at 2017-08-25 23:19:34 +0600
Processing by Admin::DishesController#destroy as HTML
  Parameters: {"authenticity_token"=>"EEMW/y7Q5ti+hZk/63ss1UY9LI4zhIP8PpnQny/h0K4f74Ag6V6DxqdjmJ8ljRapl+HiUD1VOXeaytaBk5MpQA==", "id"=>"3"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "dishes" WHERE "dishes"."id" = ?  [["id", 3]]
  [1m[36m (134.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 138ms (ActiveRecord: 134.5ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:19:34 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered admin/dishes/index.html.erb within layouts/admin (1.9ms)
Completed 200 OK in 56ms (Views: 54.4ms | ActiveRecord: 0.3ms)


Started DELETE "/admin/dishes/4" for 127.0.0.1 at 2017-08-25 23:19:36 +0600
Processing by Admin::DishesController#destroy as HTML
  Parameters: {"authenticity_token"=>"Rge8xVt9KVZavHgURyis5yQtKzACwJjkrpvb0MQUPtFJqyoanPNMSENaebSJ3pab9fHl7gwRIm8KyN3OeGbHPw==", "id"=>"4"}
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "dishes" WHERE "dishes"."id" = ?[0m  [["id", 4]]
  [1m[35m (97.3ms)[0m  commit transaction
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 101ms (ActiveRecord: 97.8ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:19:36 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered admin/dishes/index.html.erb within layouts/admin (1.1ms)
Completed 200 OK in 63ms (Views: 61.5ms | ActiveRecord: 0.3ms)


Started GET "/admin/dishes/new" for 127.0.0.1 at 2017-08-25 23:19:38 +0600
Processing by Admin::DishesController#new as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/dishes/_form.html.erb (23.3ms)
  Rendered admin/dishes/new.html.erb within layouts/admin (24.2ms)
Completed 200 OK in 79ms (Views: 76.6ms | ActiveRecord: 0.7ms)


Started POST "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:19:58 +0600
Processing by Admin::DishesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"13zZwayavuA6y6yNmtVC1tFF8kI5vju9TPt9NerKmozY0E8eaxTb/iMtrS1UI3iqAJk8nDdvgTboqHsrVrhjYg==", "dish"=>{"title"=>"Пицца", "description"=>"Самая вкусная пицца ", "establishment_id"=>"4", "price"=>"10,0"}, "commit"=>"Create Dish"}
Unpermitted parameter: establishment_id
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["title", "Пицца"], ["price", 10.0], ["description", "Самая вкусная пицца "], ["created_at", "2017-08-25 17:19:58.491953"], ["updated_at", "2017-08-25 17:19:58.491953"]]
  [1m[36m (74.4ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/dishes/5
Completed 302 Found in 82ms (ActiveRecord: 75.1ms)


Started GET "/dishes/5" for 127.0.0.1 at 2017-08-25 23:19:58 +0600
Processing by DishesController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mDish Load (0.1ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 5]]
  Rendered dishes/show.html.erb within layouts/application (0.3ms)
Completed 200 OK in 74ms (Views: 72.2ms | ActiveRecord: 0.1ms)


Started GET "/dishes/5" for 127.0.0.1 at 2017-08-25 23:20:10 +0600
Processing by DishesController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 5]]
  Rendered dishes/show.html.erb within layouts/application (0.4ms)
Completed 200 OK in 64ms (Views: 54.5ms | ActiveRecord: 0.8ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-25 23:20:14 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 52ms (Views: 50.5ms | ActiveRecord: 0.3ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:20:24 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered admin/dishes/index.html.erb within layouts/admin (2.0ms)
Completed 200 OK in 55ms (Views: 53.6ms | ActiveRecord: 0.2ms)


Started GET "/admin/dishes/5/edit" for 127.0.0.1 at 2017-08-25 23:20:30 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"5"}
  Rendered admin/dishes/_form.html.erb (3.4ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (4.5ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms)

ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for [:admin, @dish] do |f| %>
    2: 
    3: 	<div style="float: right;">
    4: 		<div class="alert alert-danger" role="alert">
  app/views/admin/dishes/_form.html.erb:1:in `_app_views_admin_dishes__form_html_erb__2462503101599152140_69833534729280'
  app/views/admin/dishes/edit.html.erb:3:in `_app_views_admin_dishes_edit_html_erb__3513184066274621832_69833534819700'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (35.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.5ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:21:26 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered admin/dishes/index.html.erb within layouts/admin (8.5ms)
Completed 200 OK in 70ms (Views: 65.9ms | ActiveRecord: 0.8ms)


Started GET "/admin/dishes/5/edit" for 127.0.0.1 at 2017-08-25 23:21:27 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mDish Load (0.5ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/dishes/_form.html.erb (22.3ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (23.7ms)
Completed 200 OK in 86ms (Views: 81.0ms | ActiveRecord: 1.3ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:22:19 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered admin/dishes/index.html.erb within layouts/admin (4.7ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.2ms)

ActionView::Template::Error (undefined method `dish' for nil:NilClass):
    14: 			<td><%= link_to dish.title, dish %></td>
    15: 			<td><%= dish.description %></td>
    16: 			<td><%= dish.price %></td>
    17: 			<td><%= @establishment.dish %></td>
    18:       <td><%= link_to 'Edit', edit_admin_dish_path(dish) %></td>
    19:       <td><%= link_to 'Destroy', admin_dish_path(dish), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    20: 		</tr>
  app/views/admin/dishes/index.html.erb:17:in `block in _app_views_admin_dishes_index_html_erb___4521980466507093415_69833539168900'
  app/views/admin/dishes/index.html.erb:12:in `_app_views_admin_dishes_index_html_erb___4521980466507093415_69833539168900'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (34.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.0ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:22:58 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered admin/dishes/index.html.erb within layouts/admin (10.5ms)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.2ms)

ActionView::Template::Error (undefined method `title' for nil:NilClass):
    14: 			<td><%= link_to dish.title, dish %></td>
    15: 			<td><%= dish.description %></td>
    16: 			<td><%= dish.price %></td>
    17: 			<td><%= dish.establishment.title %></td>
    18:       <td><%= link_to 'Edit', edit_admin_dish_path(dish) %></td>
    19:       <td><%= link_to 'Destroy', admin_dish_path(dish), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    20: 		</tr>
  app/views/admin/dishes/index.html.erb:17:in `block in _app_views_admin_dishes_index_html_erb___4521980466507093415_69833539521460'
  app/views/admin/dishes/index.html.erb:12:in `_app_views_admin_dishes_index_html_erb___4521980466507093415_69833539521460'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (32.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.8ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:23:13 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered admin/dishes/index.html.erb within layouts/admin (3.3ms)
Completed 200 OK in 63ms (Views: 61.3ms | ActiveRecord: 0.3ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:23:42 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered admin/dishes/index.html.erb within layouts/admin (4.1ms)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.2ms)

ActionView::Template::Error (undefined method `description' for nil:NilClass):
    14: 			<td><%= link_to dish.title, dish %></td>
    15: 			<td><%= dish.description %></td>
    16: 			<td><%= dish.price %></td>
    17: 			<td><%= dish.establishment.description%></td>
    18:       <td><%= link_to 'Edit', edit_admin_dish_path(dish) %></td>
    19:       <td><%= link_to 'Destroy', admin_dish_path(dish), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    20: 		</tr>
  app/views/admin/dishes/index.html.erb:17:in `block in _app_views_admin_dishes_index_html_erb___4521980466507093415_47081685510940'
  app/views/admin/dishes/index.html.erb:12:in `_app_views_admin_dishes_index_html_erb___4521980466507093415_47081685510940'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (31.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.8ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:24:26 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered admin/dishes/index.html.erb within layouts/admin (5.8ms)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.3ms)

ActionView::Template::Error (undefined method `establishments' for #<Dish:0x007f06c5961f90>):
    14: 			<td><%= link_to dish.title, dish %></td>
    15: 			<td><%= dish.description %></td>
    16: 			<td><%= dish.price %></td>
    17: 			<td><%= dish.establishments.book %></td>
    18:       <td><%= link_to 'Edit', edit_admin_dish_path(dish) %></td>
    19:       <td><%= link_to 'Destroy', admin_dish_path(dish), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    20: 		</tr>
  app/views/admin/dishes/index.html.erb:17:in `block in _app_views_admin_dishes_index_html_erb___4521980466507093415_69833530930280'
  app/views/admin/dishes/index.html.erb:12:in `_app_views_admin_dishes_index_html_erb___4521980466507093415_69833530930280'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (31.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.1ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:24:30 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered admin/dishes/index.html.erb within layouts/admin (7.0ms)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.4ms)

ActionView::Template::Error (undefined method `establishments' for #<Dish:0x007f06c6dc0e50>):
    14: 			<td><%= link_to dish.title, dish %></td>
    15: 			<td><%= dish.description %></td>
    16: 			<td><%= dish.price %></td>
    17: 			<td><%= dish.establishments.title %></td>
    18:       <td><%= link_to 'Edit', edit_admin_dish_path(dish) %></td>
    19:       <td><%= link_to 'Destroy', admin_dish_path(dish), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    20: 		</tr>
  app/views/admin/dishes/index.html.erb:17:in `block in _app_views_admin_dishes_index_html_erb___4521980466507093415_69833541460220'
  app/views/admin/dishes/index.html.erb:12:in `_app_views_admin_dishes_index_html_erb___4521980466507093415_69833541460220'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (32.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.7ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:24:40 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.6ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered admin/dishes/index.html.erb within layouts/admin (24.5ms)
Completed 500 Internal Server Error in 31ms (ActiveRecord: 0.6ms)

ActionView::Template::Error (undefined local variable or method `dishes' for #<#<Class:0x007f06c5851ec0>:0x007f06c6903598>):
    14: 			<td><%= link_to dish.title, dish %></td>
    15: 			<td><%= dish.description %></td>
    16: 			<td><%= dish.price %></td>
    17: 			<td><%= dishes.establishment.title %></td>
    18:       <td><%= link_to 'Edit', edit_admin_dish_path(dish) %></td>
    19:       <td><%= link_to 'Destroy', admin_dish_path(dish), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    20: 		</tr>
  app/views/admin/dishes/index.html.erb:17:in `block in _app_views_admin_dishes_index_html_erb___4521980466507093415_69833538932840'
  app/views/admin/dishes/index.html.erb:12:in `_app_views_admin_dishes_index_html_erb___4521980466507093415_69833538932840'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (18.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (47.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (41.8ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:24:47 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered admin/dishes/index.html.erb within layouts/admin (5.1ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.2ms)

ActionView::Template::Error (undefined method `establishments' for #<Dish:0x007f06c723f6e8>):
    14: 			<td><%= link_to dish.title, dish %></td>
    15: 			<td><%= dish.description %></td>
    16: 			<td><%= dish.price %></td>
    17: 			<td><%= dish.establishments.title %></td>
    18:       <td><%= link_to 'Edit', edit_admin_dish_path(dish) %></td>
    19:       <td><%= link_to 'Destroy', admin_dish_path(dish), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    20: 		</tr>
  app/views/admin/dishes/index.html.erb:17:in `block in _app_views_admin_dishes_index_html_erb___4521980466507093415_69833539328620'
  app/views/admin/dishes/index.html.erb:12:in `_app_views_admin_dishes_index_html_erb___4521980466507093415_69833539328620'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (32.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.7ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:24:55 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered admin/dishes/index.html.erb within layouts/admin (5.2ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.3ms)

ActionView::Template::Error (undefined method `id' for nil:NilClass):
    14: 			<td><%= link_to dish.title, dish %></td>
    15: 			<td><%= dish.description %></td>
    16: 			<td><%= dish.price %></td>
    17: 			<td><%= dish.establishment.id %></td>
    18:       <td><%= link_to 'Edit', edit_admin_dish_path(dish) %></td>
    19:       <td><%= link_to 'Destroy', admin_dish_path(dish), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    20: 		</tr>
  app/views/admin/dishes/index.html.erb:17:in `block in _app_views_admin_dishes_index_html_erb___4521980466507093415_47081716603060'
  app/views/admin/dishes/index.html.erb:12:in `_app_views_admin_dishes_index_html_erb___4521980466507093415_47081716603060'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (32.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (41.6ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:25:00 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered admin/dishes/index.html.erb within layouts/admin (2.8ms)
Completed 200 OK in 59ms (Views: 57.3ms | ActiveRecord: 0.3ms)


Started GET "/admin/dishes/5/edit" for 127.0.0.1 at 2017-08-25 23:25:05 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mEstablishment Load (1.8ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/dishes/_form.html.erb (11.8ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (13.5ms)
Completed 200 OK in 94ms (Views: 89.9ms | ActiveRecord: 2.0ms)
  [1m[36mDish Load (1.8ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m


Started GET "/admin/dishes/5/edit" for 127.0.0.1 at 2017-08-25 23:31:37 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 5]]
  Rendered admin/dishes/_form.html.erb (5.4ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (6.2ms)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.2ms)

ActionView::Template::Error (undefined method `merge' for :title:Symbol):
    33: 
    34: 		<div>
    35: 			<%= f.label :заведение %><br>
    36: 			<%= f.collection_select :dish, :establishment_id, Establishment.all, :id, :title %>
    37: 		</div><br>
    38: 				
    39: 		<div>
  app/views/admin/dishes/_form.html.erb:36:in `block in _app_views_admin_dishes__form_html_erb__2462503101599152140_69833541047920'
  app/views/admin/dishes/_form.html.erb:1:in `_app_views_admin_dishes__form_html_erb__2462503101599152140_69833541047920'
  app/views/admin/dishes/edit.html.erb:3:in `_app_views_admin_dishes_edit_html_erb__3513184066274621832_69833534819700'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (33.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.4ms)


Started GET "/admin/dishes/5/edit" for 127.0.0.1 at 2017-08-25 23:31:50 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[35mDish Load (0.3ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/dishes/_form.html.erb (5.6ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (7.0ms)
Completed 200 OK in 59ms (Views: 56.2ms | ActiveRecord: 0.5ms)


Started GET "/admin/dishes/5/edit" for 127.0.0.1 at 2017-08-25 23:32:57 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/dishes/_form.html.erb (7.1ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (8.1ms)
Completed 200 OK in 62ms (Views: 59.1ms | ActiveRecord: 0.5ms)


Started PATCH "/admin/dishes/5" for 127.0.0.1 at 2017-08-25 23:33:02 +0600

AbstractController::ActionNotFound (The action 'update' could not be found for Admin::DishesController):
  actionpack (4.2.6) lib/abstract_controller/base.rb:132:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.3ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:33:06 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered admin/dishes/index.html.erb within layouts/admin (2.1ms)
Completed 200 OK in 71ms (Views: 66.8ms | ActiveRecord: 0.3ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:42:42 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.5ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered admin/dishes/index.html.erb within layouts/admin (11.4ms)
Completed 200 OK in 69ms (Views: 65.0ms | ActiveRecord: 0.8ms)


Started GET "/admin/dishes/5/edit" for 127.0.0.1 at 2017-08-25 23:42:44 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[35mDish Load (0.3ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/dishes/_form.html.erb (19.0ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (20.0ms)
Completed 200 OK in 81ms (Views: 77.6ms | ActiveRecord: 1.5ms)


Started PATCH "/admin/dishes/5" for 127.0.0.1 at 2017-08-25 23:42:47 +0600

AbstractController::ActionNotFound (The action 'update' could not be found for Admin::DishesController):
  actionpack (4.2.6) lib/abstract_controller/base.rb:132:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.4ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:42:50 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered admin/dishes/index.html.erb within layouts/admin (1.6ms)
Completed 200 OK in 59ms (Views: 57.4ms | ActiveRecord: 0.2ms)


Started DELETE "/admin/dishes/5" for 127.0.0.1 at 2017-08-25 23:42:53 +0600
Processing by Admin::DishesController#destroy as HTML
  Parameters: {"authenticity_token"=>"wKCk0FR6GnKMcbAhHpSokeS7rkDNBAvOPvV+3DWe/j7PDDIPk/R/bJWXsYHQYpLtNWdgnsPVsUWapnjCiewH0A==", "id"=>"5"}
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "dishes" WHERE "dishes"."id" = ?[0m  [["id", 5]]
  [1m[35m (85.0ms)[0m  commit transaction
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 89ms (ActiveRecord: 85.6ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:42:53 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered admin/dishes/index.html.erb within layouts/admin (0.7ms)
Completed 200 OK in 104ms (Views: 101.9ms | ActiveRecord: 0.2ms)


Started GET "/admin/dishes/new" for 127.0.0.1 at 2017-08-25 23:42:56 +0600
Processing by Admin::DishesController#new as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/dishes/_form.html.erb (10.9ms)
  Rendered admin/dishes/new.html.erb within layouts/admin (12.2ms)
Completed 200 OK in 106ms (Views: 102.6ms | ActiveRecord: 0.3ms)


Started POST "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:43:17 +0600
Processing by Admin::DishesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qlZu8kxj720LlThlOZDr91RmkMqns3Yrw+G2Cw6/Rl2l+vgti+2KcxJzOcX3ZtGLhbpeFKlizKBnsrAVss2/sw==", "dish"=>{"title"=>"Пицца", "description"=>"Пицца, пицца, пицца", "establishment_id"=>"2", "price"=>"10"}, "commit"=>"Create Dish"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Пицца"], ["price", 10.0], ["description", "Пицца, пицца, пицца"], ["establishment_id", 2], ["created_at", "2017-08-25 17:43:17.605211"], ["updated_at", "2017-08-25 17:43:17.605211"]]
  [1m[36m (87.7ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 92ms (ActiveRecord: 88.1ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:43:17 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered admin/dishes/index.html.erb within layouts/admin (5.6ms)
Completed 200 OK in 56ms (Views: 54.9ms | ActiveRecord: 0.4ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:43:41 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered admin/dishes/index.html.erb within layouts/admin (3.6ms)
Completed 200 OK in 62ms (Views: 60.3ms | ActiveRecord: 0.4ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 23:48:38 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (2.7ms)
Completed 200 OK in 64ms (Views: 62.3ms | ActiveRecord: 0.4ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:49:42 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  Rendered admin/dishes/index.html.erb within layouts/admin (3.1ms)
Completed 200 OK in 78ms (Views: 75.9ms | ActiveRecord: 0.5ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:49:48 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  Rendered admin/dishes/index.html.erb within layouts/admin (5.0ms)
Completed 200 OK in 91ms (Views: 88.4ms | ActiveRecord: 0.5ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 23:49:49 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (4.3ms)
Completed 200 OK in 69ms (Views: 67.1ms | ActiveRecord: 0.4ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 23:51:45 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (1.6ms)
Completed 200 OK in 53ms (Views: 51.7ms | ActiveRecord: 0.2ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-25 23:51:46 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  Rendered admin/dishes/index.html.erb within layouts/admin (3.3ms)
Completed 200 OK in 69ms (Views: 67.7ms | ActiveRecord: 0.5ms)


Started GET "/admin/dishes/6/edit" for 127.0.0.1 at 2017-08-25 23:51:48 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"6"}
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/dishes/_form.html.erb (7.8ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (9.2ms)
Completed 200 OK in 84ms (Views: 81.2ms | ActiveRecord: 0.5ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 23:51:53 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (5.5ms)
Completed 200 OK in 80ms (Views: 77.9ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments/2/edit" for 127.0.0.1 at 2017-08-25 23:51:56 +0600
Processing by Admin::EstablishmentsController#edit as HTML
  Parameters: {"id"=>"2"}
  Rendered admin/establishments/_form.html.erb (5.5ms)
  Rendered admin/establishments/edit.html.erb within layouts/admin (8.4ms)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)

ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for [:admin, @establishment] do |f| %>
    2: 
    3: 	<div style="float: right;">
    4: 		<div class="alert alert-danger" role="alert">
  app/views/admin/establishments/_form.html.erb:1:in `_app_views_admin_establishments__form_html_erb__2219951145908120099_69833539340780'
  app/views/admin/establishments/edit.html.erb:3:in `_app_views_admin_establishments_edit_html_erb__3562156436714083560_69833539352220'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (24.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (48.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.7ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 23:53:06 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (1.7ms)
Completed 200 OK in 53ms (Views: 52.0ms | ActiveRecord: 0.2ms)


Started GET "/admin/establishments/new" for 127.0.0.1 at 2017-08-25 23:53:09 +0600
Processing by Admin::EstablishmentsController#new as HTML
  Rendered admin/establishments/_form.html.erb (5.6ms)
  Rendered admin/establishments/new.html.erb within layouts/admin (7.5ms)
Completed 200 OK in 69ms (Views: 67.5ms | ActiveRecord: 0.0ms)


Started GET "/admin/establishments/2/edit" for 127.0.0.1 at 2017-08-25 23:53:15 +0600
Processing by Admin::EstablishmentsController#edit as HTML
  Parameters: {"id"=>"2"}
  Rendered admin/establishments/_form.html.erb (3.5ms)
  Rendered admin/establishments/edit.html.erb within layouts/admin (5.1ms)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms)

ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for [:admin, @establishment] do |f| %>
    2: 
    3: 	<div style="float: right;">
    4: 		<div class="alert alert-danger" role="alert">
  app/views/admin/establishments/_form.html.erb:1:in `_app_views_admin_establishments__form_html_erb__2219951145908120099_69833544852060'
  app/views/admin/establishments/edit.html.erb:3:in `_app_views_admin_establishments_edit_html_erb__3562156436714083560_69833539352220'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (34.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.2ms)


Started GET "/admin/establishments/2/edit" for 127.0.0.1 at 2017-08-25 23:54:12 +0600
Processing by Admin::EstablishmentsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered admin/establishments/_form.html.erb (3.1ms)
  Rendered admin/establishments/edit.html.erb within layouts/admin (3.9ms)
Completed 200 OK in 69ms (Views: 58.4ms | ActiveRecord: 0.8ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-25 23:54:17 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.5ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (5.0ms)
Completed 200 OK in 80ms (Views: 77.8ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-08-25 23:54:25 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 81ms (Views: 78.5ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 12:16:27 +0600
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (9.6ms)
Completed 200 OK in 1312ms (Views: 1259.2ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 12:16:30 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 59ms (Views: 56.9ms | ActiveRecord: 0.4ms)


Started GET "/admin" for 127.0.0.1 at 2017-08-28 12:16:47 +0600

ActionController::RoutingError (No route matches [GET] "/admin"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (39.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (157.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (75.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (134.6ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 12:16:53 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 57ms (Views: 55.2ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 12:18:16 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 83ms (Views: 81.4ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 12:18:19 +0600
Processing by Admin::EstablishmentsController#index as HTML
Filter chain halted as #<Proc:0x007fafbcfede18@/home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 12:18:38 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 71ms (Views: 69.9ms | ActiveRecord: 0.3ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 12:18:41 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 63ms (Views: 61.5ms | ActiveRecord: 0.2ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-28 12:18:42 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (10.9ms)
Completed 200 OK in 125ms (Views: 79.7ms | ActiveRecord: 0.7ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 12:18:45 +0600
Processing by Admin::EstablishmentsController#index as HTML
Filter chain halted as #<Proc:0x007fafbcfede18@/home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 12:18:46 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (3.6ms)
Completed 200 OK in 75ms (Views: 72.7ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 12:18:49 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 68ms (Views: 65.5ms | ActiveRecord: 0.2ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 12:24:52 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (2.3ms)
Completed 200 OK in 97ms (Views: 94.9ms | ActiveRecord: 0.2ms)


Started GET "/admin/establishments/2/edit" for 127.0.0.1 at 2017-08-28 12:27:16 +0600
Processing by Admin::EstablishmentsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  Rendered admin/establishments/_form.html.erb (64.8ms)
  Rendered admin/establishments/edit.html.erb within layouts/admin (66.6ms)
Completed 200 OK in 239ms (Views: 141.9ms | ActiveRecord: 1.1ms)


Started PATCH "/admin/establishments/2" for 127.0.0.1 at 2017-08-28 12:27:24 +0600

AbstractController::ActionNotFound (The action 'update' could not be found for Admin::EstablishmentsController):
  actionpack (4.2.6) lib/abstract_controller/base.rb:132:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (25.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (52.1ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 12:27:30 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (2.1ms)
Completed 200 OK in 53ms (Views: 51.4ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 12:27:38 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (2.2ms)
Completed 200 OK in 87ms (Views: 84.9ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 12:27:39 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 75ms (Views: 72.5ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 12:27:42 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 64ms (Views: 61.9ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 12:28:09 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 59ms (Views: 56.7ms | ActiveRecord: 0.2ms)
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments"  ORDER BY "establishments"."id" DESC LIMIT 1[0m
  [1m[35mEstablishment Load (0.5ms)[0m  SELECT "establishments".* FROM "establishments"


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 12:30:30 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.6ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (9.0ms)
Completed 200 OK in 87ms (Views: 81.7ms | ActiveRecord: 1.0ms)


Started GET "/admin/establishments/2/edit" for 127.0.0.1 at 2017-08-28 12:30:32 +0600
Processing by Admin::EstablishmentsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered admin/establishments/_form.html.erb (6.5ms)
  Rendered admin/establishments/edit.html.erb within layouts/admin (7.9ms)
Completed 200 OK in 72ms (Views: 68.0ms | ActiveRecord: 0.4ms)


Started PATCH "/admin/establishments/2" for 127.0.0.1 at 2017-08-28 12:30:37 +0600

AbstractController::ActionNotFound (The action 'update' could not be found for Admin::EstablishmentsController):
  actionpack (4.2.6) lib/abstract_controller/base.rb:132:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (49.7ms)


Started GET "/admin/establishments/" for 127.0.0.1 at 2017-08-28 12:30:41 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (2.4ms)
Completed 200 OK in 58ms (Views: 56.3ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 12:30:44 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 75ms (Views: 72.8ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 12:39:48 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.6ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (6.5ms)
Completed 200 OK in 68ms (Views: 63.0ms | ActiveRecord: 0.9ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 12:39:52 +0600

SyntaxError (/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/controllers/admin/establishments_controller.rb:69: syntax error, unexpected end-of-input, expecting keyword_end):
  app/controllers/admin/establishments_controller.rb:69: syntax error, unexpected end-of-input, expecting keyword_end


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (30.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.6ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 12:39:59 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (7.0ms)
Completed 200 OK in 65ms (Views: 59.5ms | ActiveRecord: 0.9ms)


Started GET "/admin/establishments/2/edit" for 127.0.0.1 at 2017-08-28 12:40:02 +0600
Processing by Admin::EstablishmentsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  Rendered admin/establishments/_form.html.erb (7.3ms)
  Rendered admin/establishments/edit.html.erb within layouts/admin (9.8ms)
Completed 200 OK in 84ms (Views: 80.4ms | ActiveRecord: 0.3ms)


Started PATCH "/admin/establishments/2" for 127.0.0.1 at 2017-08-28 12:40:08 +0600

AbstractController::ActionNotFound (The action 'update' could not be found for Admin::EstablishmentsController):
  actionpack (4.2.6) lib/abstract_controller/base.rb:132:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (24.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (48.7ms)


Started GET "/admin/establishments/" for 127.0.0.1 at 2017-08-28 12:40:11 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (2.0ms)
Completed 200 OK in 54ms (Views: 52.7ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 12:40:17 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 64ms (Views: 61.7ms | ActiveRecord: 0.4ms)


Started GET "/admin/establishments/" for 127.0.0.1 at 2017-08-28 12:40:20 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (2.0ms)
Completed 200 OK in 70ms (Views: 68.5ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments/" for 127.0.0.1 at 2017-08-28 12:42:01 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (7.5ms)
Completed 200 OK in 69ms (Views: 63.9ms | ActiveRecord: 0.8ms)


Started GET "/admin/establishments/2/edit" for 127.0.0.1 at 2017-08-28 12:42:03 +0600
Processing by Admin::EstablishmentsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered admin/establishments/_form.html.erb (6.7ms)
  Rendered admin/establishments/edit.html.erb within layouts/admin (8.4ms)
Completed 200 OK in 68ms (Views: 64.9ms | ActiveRecord: 0.3ms)


Started PATCH "/admin/establishments/2" for 127.0.0.1 at 2017-08-28 12:42:07 +0600

AbstractController::ActionNotFound (The action 'update' could not be found for Admin::EstablishmentsController):
  actionpack (4.2.6) lib/abstract_controller/base.rb:132:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.5ms)


Started GET "/admin/establishments/" for 127.0.0.1 at 2017-08-28 12:42:12 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (3.3ms)
Completed 200 OK in 73ms (Views: 71.7ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments/" for 127.0.0.1 at 2017-08-28 12:42:39 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.5ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (7.0ms)
Completed 200 OK in 65ms (Views: 60.3ms | ActiveRecord: 0.8ms)


Started GET "/admin/establishments/2/edit" for 127.0.0.1 at 2017-08-28 12:42:40 +0600
Processing by Admin::EstablishmentsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  Rendered admin/establishments/_form.html.erb (5.2ms)
  Rendered admin/establishments/edit.html.erb within layouts/admin (8.3ms)
Completed 200 OK in 82ms (Views: 74.4ms | ActiveRecord: 0.4ms)


Started GET "/admin/establishments/2/edit" for 127.0.0.1 at 2017-08-28 12:45:00 +0600
Processing by Admin::EstablishmentsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered admin/establishments/_form.html.erb (3.1ms)
  Rendered admin/establishments/edit.html.erb within layouts/admin (3.9ms)
Completed 200 OK in 85ms (Views: 74.4ms | ActiveRecord: 0.8ms)


Started PATCH "/admin/establishments/2" for 127.0.0.1 at 2017-08-28 12:45:06 +0600
Processing by Admin::EstablishmentsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jcdKSMsuIXVwhhW1K3qJhV1I9FPtp5J85abC1aO73fSCa9yXDKBEa2lgFBXljLP5jJQ6jeN2KPdB9cTLH8kkGg==", "establishment"=>{"title"=>"Ninja Sushi", "description"=>"Sushes, rolls, etc", "image"=>#<ActionDispatch::Http::UploadedFile:0x007fafbc3d6d50 @tempfile=#<Tempfile:/tmp/RackMultipart20170828-11780-uz967p.png>, @original_filename="ninja.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"establishment[image]\"; filename=\"ninja.png\"\r\nContent-Type: image/png\r\n">}, "commit"=>"Update Establishment", "id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
Unpermitted parameter: image
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.3ms)

NameError (undefined local variable or method `upload_image' for #<Admin::EstablishmentsController:0x007fafbc3d79f8>):
  app/controllers/admin/establishments_controller.rb:35:in `update'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (39.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.9ms)


Started GET "/admin/establishments/" for 127.0.0.1 at 2017-08-28 12:45:17 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.6ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (9.0ms)
Completed 200 OK in 73ms (Views: 67.9ms | ActiveRecord: 1.3ms)


Started GET "/admin/establishments/" for 127.0.0.1 at 2017-08-28 12:45:18 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (1.9ms)
Completed 200 OK in 74ms (Views: 71.7ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments/2/edit" for 127.0.0.1 at 2017-08-28 12:45:20 +0600
Processing by Admin::EstablishmentsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered admin/establishments/_form.html.erb (6.1ms)
  Rendered admin/establishments/edit.html.erb within layouts/admin (7.3ms)
Completed 200 OK in 73ms (Views: 69.8ms | ActiveRecord: 0.3ms)


Started PATCH "/admin/establishments/2" for 127.0.0.1 at 2017-08-28 12:45:30 +0600
Processing by Admin::EstablishmentsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"52ekZ21LOqctr2BmEhxmp3mYRzkGUpcojkvOOrn7pQroyzK4qsVfuTRJYcbc6lzbqESJ5wiDLaMqGMgkBYlc5A==", "establishment"=>{"title"=>"Ninja Sushi", "description"=>"Sushes, rolls, etc", "image"=>#<ActionDispatch::Http::UploadedFile:0x007fafbc9385a0 @tempfile=#<Tempfile:/tmp/RackMultipart20170828-11780-m5j9w.png>, @original_filename="ninja.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"establishment[image]\"; filename=\"ninja.png\"\r\nContent-Type: image/png\r\n">}, "commit"=>"Update Establishment", "id"=>"2"}
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
Unpermitted parameter: image
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/establishments
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 12:45:30 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 60ms (Views: 58.7ms | ActiveRecord: 0.3ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 12:45:42 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.6ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 66ms (Views: 64.1ms | ActiveRecord: 0.6ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 12:45:44 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (6.7ms)
Completed 200 OK in 81ms (Views: 78.5ms | ActiveRecord: 0.4ms)
  [1m[36mEstablishment Load (0.5ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m


Started GET "/admin/establishments/new" for 127.0.0.1 at 2017-08-28 12:47:09 +0600
Processing by Admin::EstablishmentsController#new as HTML
  Rendered admin/establishments/_form.html.erb (3.0ms)
  Rendered admin/establishments/new.html.erb within layouts/admin (4.3ms)
Completed 200 OK in 76ms (Views: 66.8ms | ActiveRecord: 0.7ms)


Started POST "/admin/establishments" for 127.0.0.1 at 2017-08-28 12:47:16 +0600
Processing by Admin::EstablishmentsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"X2/K4mVwIwYRwbphTpk42UjvPvSUrM31yn91JZkQKntQw1w9ov5GGAgnu8GAbwKlmTPwKpp9d35uLHM7JWLTlQ==", "establishment"=>{"title"=>"dgbdb", "description"=>"dfbfdbdfbdffb", "image"=>#<ActionDispatch::Http::UploadedFile:0x007fafbcf0ed80 @tempfile=#<Tempfile:/tmp/RackMultipart20170828-11780-12rm9jo.jpg>, @original_filename="wYMqGX0rpbo.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"establishment[image]\"; filename=\"wYMqGX0rpbo.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Establishment"}
Unpermitted parameter: image
  [1m[35m (1.0ms)[0m  begin transaction
  [1m[36mSQL (27.2ms)[0m  [1mINSERT INTO "establishments" ("title", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "dgbdb"], ["description", "dfbfdbdfbdffb"], ["created_at", "2017-08-28 06:47:16.770190"], ["updated_at", "2017-08-28 06:47:16.770190"]]
  [1m[35m (234.9ms)[0m  commit transaction
Redirected to http://localhost:3000/establishments
Completed 302 Found in 272ms (ActiveRecord: 263.1ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 12:47:17 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 56ms (Views: 54.8ms | ActiveRecord: 0.3ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 12:48:30 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 58ms (Views: 56.4ms | ActiveRecord: 0.3ms)


Started GET "/uploads/establishments/3" for 127.0.0.1 at 2017-08-28 12:48:31 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/3"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (66.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (39.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (75.6ms)


Started GET "/uploads/establishments/4" for 127.0.0.1 at 2017-08-28 12:48:31 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/4"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (15.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (71.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (35.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (67.2ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 12:49:21 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (5.1ms)
Completed 200 OK in 66ms (Views: 64.3ms | ActiveRecord: 0.3ms)


Started GET "/uploads/establishments/3" for 127.0.0.1 at 2017-08-28 12:49:21 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/3"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (38.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (40.2ms)


Started GET "/uploads/establishments/4" for 127.0.0.1 at 2017-08-28 12:49:21 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/4"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (39.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (47.2ms)


Started DELETE "/admin/establishments/5" for 127.0.0.1 at 2017-08-28 12:49:32 +0600
Processing by Admin::EstablishmentsController#destroy as HTML
  Parameters: {"authenticity_token"=>"pIC7NDcR5lN5LlnFZSwFR2cR4d9i6lsuqXsD7av+F/mrLC3r8J+DTWDIWGWr2j87ts0vAWw74aUNKAXzF4zuFw==", "id"=>"5"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "establishments" WHERE "establishments"."id" = ?  [["id", 5]]
  [1m[36m (66.6ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/establishments
Completed 302 Found in 72ms (ActiveRecord: 67.3ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 12:49:32 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 82ms (Views: 80.0ms | ActiveRecord: 0.4ms)


Started GET "/uploads/establishments/3" for 127.0.0.1 at 2017-08-28 12:49:33 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/3"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (4.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (69.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (47.9ms)


Started GET "/uploads/establishments/4" for 127.0.0.1 at 2017-08-28 12:49:33 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/4"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (62.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (27.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (56.1ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 12:49:49 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.7ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (7.3ms)
Completed 200 OK in 70ms (Views: 64.7ms | ActiveRecord: 1.0ms)


Started GET "/uploads/establishments/3" for 127.0.0.1 at 2017-08-28 12:49:49 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/3"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (4.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (3.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (82.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (48.2ms)


Started GET "/uploads/establishments/4" for 127.0.0.1 at 2017-08-28 12:49:49 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/4"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (47.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (26.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (56.6ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 12:49:53 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (2.1ms)
Completed 200 OK in 55ms (Views: 53.7ms | ActiveRecord: 0.2ms)


Started GET "/uploads/establishments/3" for 127.0.0.1 at 2017-08-28 12:49:53 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/3"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (40.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (46.5ms)


Started GET "/uploads/establishments/4" for 127.0.0.1 at 2017-08-28 12:49:54 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/4"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (40.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.6ms)


Started GET "/admin/establishments/3/edit" for 127.0.0.1 at 2017-08-28 12:50:00 +0600
Processing by Admin::EstablishmentsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered admin/establishments/_form.html.erb (7.3ms)
  Rendered admin/establishments/edit.html.erb within layouts/admin (9.0ms)
Completed 200 OK in 95ms (Views: 91.2ms | ActiveRecord: 0.3ms)


Started GET "/uploads/establishments/3" for 127.0.0.1 at 2017-08-28 12:50:00 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/3"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (38.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (2.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.3ms)


Started GET "/uploads/establishments/4" for 127.0.0.1 at 2017-08-28 12:50:00 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/4"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (41.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (2.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (26.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (53.1ms)


Started PATCH "/admin/establishments/3" for 127.0.0.1 at 2017-08-28 12:50:05 +0600
Processing by Admin::EstablishmentsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+7goQ4GVc6wSGiEuVamo7P3hmed66rABhET8ynWbYLX0FL6cRhsWsgv8II6bX5KQLD1XOXQ7CoogF/rUyemZWw==", "establishment"=>{"title"=>"Коффейня Coffee", "description"=>"Кофейня там, все дела", "image"=>#<ActionDispatch::Http::UploadedFile:0x007fafc56fcd00 @tempfile=#<Tempfile:/tmp/RackMultipart20170828-11780-ckks6y.jpg>, @original_filename="AVNg8Y4jhcY.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"establishment[image]\"; filename=\"AVNg8Y4jhcY.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Update Establishment", "id"=>"3"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
Unpermitted parameter: image
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/admin/establishments
Completed 302 Found in 8ms (ActiveRecord: 0.4ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 12:50:05 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (3.6ms)
Completed 200 OK in 103ms (Views: 101.3ms | ActiveRecord: 0.3ms)


Started GET "/uploads/establishments/4" for 127.0.0.1 at 2017-08-28 12:50:05 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/4"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (4.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (4.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (60.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (27.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (19.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (72.9ms)


Started GET "/admin/establishments/3/edit" for 127.0.0.1 at 2017-08-28 12:50:08 +0600
Processing by Admin::EstablishmentsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  Rendered admin/establishments/_form.html.erb (3.8ms)
  Rendered admin/establishments/edit.html.erb within layouts/admin (5.1ms)
Completed 200 OK in 71ms (Views: 68.3ms | ActiveRecord: 0.2ms)


Started GET "/uploads/establishments/4" for 127.0.0.1 at 2017-08-28 12:50:08 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/4"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (38.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.0ms)


Started PATCH "/admin/establishments/3" for 127.0.0.1 at 2017-08-28 12:50:09 +0600
Processing by Admin::EstablishmentsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"AdxSKGjl3gxK3Uo0nmQjd1LELLmeQlfAcoWZVoaTMHUOcMT3r2u7ElM7S5RQkhkLgxjiZ5CT7UvW1p9IOuHJmw==", "establishment"=>{"title"=>"Коффейня Coffee", "description"=>"Кофейня там, все дела"}, "commit"=>"Update Establishment", "id"=>"3"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/admin/establishments
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 12:50:09 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (2.9ms)
Completed 200 OK in 71ms (Views: 69.1ms | ActiveRecord: 0.4ms)


Started GET "/uploads/establishments/4" for 127.0.0.1 at 2017-08-28 12:50:09 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/4"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (65.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (31.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (61.6ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-28 12:50:22 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  Rendered admin/dishes/index.html.erb within layouts/admin (113.9ms)
Completed 200 OK in 189ms (Views: 183.5ms | ActiveRecord: 0.8ms)


Started GET "/uploads/establishments/4" for 127.0.0.1 at 2017-08-28 12:50:22 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/4"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (41.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (41.1ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["price", 13.5], ["description", "Fois gras is a luxury food product made of the liver of a duck or goose that has been specially fattened. By French law, foie gras is defined as the liver of a duck or goose fattened by force-feeding corn with a feeding tube, a process also known as gavage."], ["created_at", "2017-08-28 06:51:49.536758"], ["updated_at", "2017-08-28 06:51:49.536758"]]
  [1m[35m (98.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["title", "Gruton"], ["price", 8.0], ["description", "Потому что гренки не могут стоить $8 за штуку, а gruton - может"], ["created_at", "2017-08-28 06:51:49.640125"], ["updated_at", "2017-08-28 06:51:49.640125"]]
  [1m[36m (75.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Sushi"], ["price", 7.5], ["description", "Су́ши, или су́си — блюдо традиционной японской кухни, приготовленное из риса с уксусной приправой и различных морепродуктов, а также других ингредиентов. С начала 1980-х суши получили широкую популярность в мире."], ["created_at", "2017-08-28 06:51:49.717791"], ["updated_at", "2017-08-28 06:51:49.717791"]]
  [1m[35m (86.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["title", "Ice Cream"], ["price", 15.0], ["description", "Сладкая ням-ням штука"], ["created_at", "2017-08-28 06:51:49.806327"], ["updated_at", "2017-08-28 06:51:49.806327"]]
  [1m[36m (109.0ms)[0m  [1mcommit transaction[0m


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-28 12:51:55 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  Rendered admin/dishes/index.html.erb within layouts/admin (5.6ms)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.4ms)

ActionView::Template::Error (undefined method `title' for nil:NilClass):
    14: 			<td><%= link_to dish.title, dish %></td>
    15: 			<td><%= dish.description %></td>
    16: 			<td><%= dish.price %></td>
    17: 			<td><%= dish.establishment.title %></td>
    18:       <td><%= link_to 'Edit', edit_admin_dish_path(dish) %></td>
    19:       <td><%= link_to 'Destroy', admin_dish_path(dish), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    20: 		</tr>
  app/views/admin/dishes/index.html.erb:17:in `block in _app_views_admin_dishes_index_html_erb___1851744684020408407_70196454854040'
  app/views/admin/dishes/index.html.erb:12:in `_app_views_admin_dishes_index_html_erb___1851744684020408407_70196454854040'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (11.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (36.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (24.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (51.3ms)


Started GET "/admin/" for 127.0.0.1 at 2017-08-28 12:52:11 +0600

ActionController::RoutingError (No route matches [GET] "/admin"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (38.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (12.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (53.7ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 12:52:16 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (2.3ms)
Completed 200 OK in 54ms (Views: 52.6ms | ActiveRecord: 0.2ms)


Started GET "/uploads/establishments/4" for 127.0.0.1 at 2017-08-28 12:52:17 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/4"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (57.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (31.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (63.8ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-28 12:52:36 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered admin/dishes/index.html.erb within layouts/admin (4.3ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.3ms)

ActionView::Template::Error (undefined method `title' for nil:NilClass):
    14: 			<td><%= link_to dish.title, dish %></td>
    15: 			<td><%= dish.description %></td>
    16: 			<td><%= dish.price %></td>
    17: 			<td><%= dish.establishment.title %></td>
    18:       <td><%= link_to 'Edit', edit_admin_dish_path(dish) %></td>
    19:       <td><%= link_to 'Destroy', admin_dish_path(dish), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    20: 		</tr>
  app/views/admin/dishes/index.html.erb:17:in `block in _app_views_admin_dishes_index_html_erb___1851744684020408407_70196454854040'
  app/views/admin/dishes/index.html.erb:12:in `_app_views_admin_dishes_index_html_erb___1851744684020408407_70196454854040'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (43.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (40.7ms)
  [1m[36mDish Load (2.1ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m


Started GET "/admin/dishes/7/edit" for 127.0.0.1 at 2017-08-28 12:54:05 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[35mDish Load (0.4ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/dishes/_form.html.erb (45.7ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (48.0ms)
Completed 200 OK in 123ms (Views: 119.1ms | ActiveRecord: 0.6ms)


Started PATCH "/admin/dishes/7" for 127.0.0.1 at 2017-08-28 12:54:14 +0600

AbstractController::ActionNotFound (The action 'update' could not be found for Admin::DishesController):
  actionpack (4.2.6) lib/abstract_controller/base.rb:132:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (41.5ms)


Started GET "/admin/dishes/8/edit" for 127.0.0.1 at 2017-08-28 12:54:20 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/dishes/_form.html.erb (5.4ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (6.1ms)
Completed 200 OK in 61ms (Views: 57.8ms | ActiveRecord: 0.5ms)


Started PATCH "/admin/dishes/8" for 127.0.0.1 at 2017-08-28 12:54:28 +0600

AbstractController::ActionNotFound (The action 'update' could not be found for Admin::DishesController):
  actionpack (4.2.6) lib/abstract_controller/base.rb:132:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.1ms)


Started GET "/admin/dishes/9/edit" for 127.0.0.1 at 2017-08-28 12:54:32 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"9"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/dishes/_form.html.erb (5.1ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (5.8ms)
Completed 200 OK in 61ms (Views: 56.9ms | ActiveRecord: 0.6ms)


Started PATCH "/admin/dishes/9" for 127.0.0.1 at 2017-08-28 12:54:41 +0600

AbstractController::ActionNotFound (The action 'update' could not be found for Admin::DishesController):
  actionpack (4.2.6) lib/abstract_controller/base.rb:132:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.1ms)


Started GET "/admin/dishes/10/edit" for 127.0.0.1 at 2017-08-28 12:54:45 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"10"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/dishes/_form.html.erb (5.8ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (6.7ms)
Completed 200 OK in 58ms (Views: 56.0ms | ActiveRecord: 0.5ms)


Started PATCH "/admin/dishes/10" for 127.0.0.1 at 2017-08-28 12:54:52 +0600

AbstractController::ActionNotFound (The action 'update' could not be found for Admin::DishesController):
  actionpack (4.2.6) lib/abstract_controller/base.rb:132:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.7ms)


Started GET "/admin/dishes/" for 127.0.0.1 at 2017-08-28 12:54:56 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered admin/dishes/index.html.erb within layouts/admin (5.6ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.5ms)

ActionView::Template::Error (undefined method `title' for nil:NilClass):
    14: 			<td><%= link_to dish.title, dish %></td>
    15: 			<td><%= dish.description %></td>
    16: 			<td><%= dish.price %></td>
    17: 			<td><%= dish.establishment.title %></td>
    18:       <td><%= link_to 'Edit', edit_admin_dish_path(dish) %></td>
    19:       <td><%= link_to 'Destroy', admin_dish_path(dish), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    20: 		</tr>
  app/views/admin/dishes/index.html.erb:17:in `block in _app_views_admin_dishes_index_html_erb___1851744684020408407_70196454854040'
  app/views/admin/dishes/index.html.erb:12:in `_app_views_admin_dishes_index_html_erb___1851744684020408407_70196454854040'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (31.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (41.4ms)
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes"


Started GET "/admin/dishes/7/edit" for 127.0.0.1 at 2017-08-28 12:56:52 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/dishes/_form.html.erb (13.3ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (14.2ms)
Completed 200 OK in 94ms (Views: 82.7ms | ActiveRecord: 1.4ms)


Started PATCH "/admin/dishes/7" for 127.0.0.1 at 2017-08-28 12:57:06 +0600
Processing by Admin::DishesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ajORhEg5u1eC2msGUY7rRn2Mohlv8FDS+UWuf7kT70Jlnwdbj7feSZs8aqafeNE6rFBsx2Eh6lldFqhhBWEWrA==", "dish"=>{"title"=>"Foie gras", "description"=>"Fois gras is a luxury food product made of the liver of a duck or goose that has been specially fattened. By French law, foie gras is defined as the liver of a duck or goose fattened by force-feeding corn with a feeding tube, a process also known as gavage.", "establishment_id"=>"4", "price"=>"13.5"}, "commit"=>"Update Dish", "id"=>"7"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.2ms)

ActiveRecord::RecordNotFound (Couldn't find Establishment with 'id'=7):
  app/controllers/admin/dishes_controller.rb:30:in `update'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (29.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (46.4ms)


Started GET "/admin/dishes/7/edit" for 127.0.0.1 at 2017-08-28 12:57:18 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/dishes/_form.html.erb (13.7ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (14.4ms)
Completed 200 OK in 95ms (Views: 83.6ms | ActiveRecord: 1.4ms)


Started PATCH "/admin/dishes/7" for 127.0.0.1 at 2017-08-28 12:57:21 +0600
Processing by Admin::DishesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"GrEW86sNvIVci39NzXcK5u3UJMGiXi+1l7fH0jPyl/MVHYAsbIPZm0Vtfu0DgTCaPAjqH6yPlT4z5MHMj4BuHQ==", "dish"=>{"title"=>"Foie gras", "description"=>"Fois gras is a luxury food product made of the liver of a duck or goose that has been specially fattened. By French law, foie gras is defined as the liver of a duck or goose fattened by force-feeding corn with a feeding tube, a process also known as gavage.", "establishment_id"=>"4", "price"=>"13.5"}, "commit"=>"Update Dish", "id"=>"7"}
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 7]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)

ActionView::MissingTemplate (Missing template admin/dishes/update, admin/update with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
  actionview (4.2.6) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.6) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.6) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.6) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.6) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.6) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.6) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (33.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (46.3ms)


Started GET "/admin/dishes/8/edit" for 127.0.0.1 at 2017-08-28 12:57:32 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/dishes/_form.html.erb (4.2ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (4.9ms)
Completed 200 OK in 60ms (Views: 58.2ms | ActiveRecord: 0.6ms)


Started PATCH "/admin/dishes/8" for 127.0.0.1 at 2017-08-28 12:57:35 +0600
Processing by Admin::DishesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"LXrAQ6Qtvoq7YjN3pcCdydHnswsepYanvBm5bnWTpRwi1lacY6PblKKEMtdrNqe1ADt91RB0PCwYSr9wyeFc8g==", "dish"=>{"title"=>"Gruton", "description"=>"Потому что гренки не могут стоить $8 за штуку, а gruton - может", "establishment_id"=>"4", "price"=>"8.0"}, "commit"=>"Update Dish", "id"=>"8"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 8]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)

ActionView::MissingTemplate (Missing template admin/dishes/update, admin/update with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
  actionview (4.2.6) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.6) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.6) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.6) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.6) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.6) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.6) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (32.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (24.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (50.7ms)


Started GET "/admin/dishes/9/edit" for 127.0.0.1 at 2017-08-28 12:57:38 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"9"}
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/dishes/_form.html.erb (7.1ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (8.0ms)
Completed 200 OK in 69ms (Views: 66.7ms | ActiveRecord: 0.6ms)


Started PATCH "/admin/dishes/9" for 127.0.0.1 at 2017-08-28 12:57:41 +0600
Processing by Admin::DishesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ILxpnKwKNqY8zRhkWpqc4Ouxr1AjYHQubJRru9sqKSUvEP9Da4RTuCUrGcSUbKacOm1hji2xzqXIx22lZ1jQyw==", "dish"=>{"title"=>"Sushi", "description"=>"Су́ши, или су́си — блюдо традиционной японской кухни, приготовленное из риса с уксусной приправой и различных морепродуктов, а также других ингредиентов. С начала 1980-х суши получили широкую популярность в мире.", "establishment_id"=>"2", "price"=>"7.5"}, "commit"=>"Update Dish", "id"=>"9"}
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 9]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)

ActionView::MissingTemplate (Missing template admin/dishes/update, admin/update with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
  actionview (4.2.6) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.6) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.6) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.6) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.6) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.6) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.6) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (35.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (24.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (48.4ms)


Started GET "/admin/dishes/10/edit" for 127.0.0.1 at 2017-08-28 12:57:44 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"10"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/dishes/_form.html.erb (4.8ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (5.7ms)
Completed 200 OK in 63ms (Views: 60.2ms | ActiveRecord: 0.5ms)


Started PATCH "/admin/dishes/10" for 127.0.0.1 at 2017-08-28 12:57:47 +0600
Processing by Admin::DishesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jD8pkR7p5Ge4NGB5P++Wl9Gty+TC87RamKNIY438K9SDk79O2WeBeaHSYdnxGazrAHEFOswiDtE88E59MY7SOg==", "dish"=>{"title"=>"Ice Cream", "description"=>"Сладкая ням-ням штука", "establishment_id"=>"3", "price"=>"15.0"}, "commit"=>"Update Dish", "id"=>"10"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 10]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)

ActionView::MissingTemplate (Missing template admin/dishes/update, admin/update with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
  actionview (4.2.6) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.6) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.6) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.6) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.6) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.6) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.6) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (32.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.7ms)


Started GET "/admin/dishes/" for 127.0.0.1 at 2017-08-28 12:57:50 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  Rendered admin/dishes/index.html.erb within layouts/admin (7.3ms)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.5ms)

ActionView::Template::Error (undefined method `title' for nil:NilClass):
    14: 			<td><%= link_to dish.title, dish %></td>
    15: 			<td><%= dish.description %></td>
    16: 			<td><%= dish.price %></td>
    17: 			<td><%= dish.establishment.title %></td>
    18:       <td><%= link_to 'Edit', edit_admin_dish_path(dish) %></td>
    19:       <td><%= link_to 'Destroy', admin_dish_path(dish), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    20: 		</tr>
  app/views/admin/dishes/index.html.erb:17:in `block in _app_views_admin_dishes_index_html_erb___1851744684020408407_70196454854040'
  app/views/admin/dishes/index.html.erb:12:in `_app_views_admin_dishes_index_html_erb___1851744684020408407_70196454854040'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (32.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.2ms)
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m


Started GET "/admin/dishes/7/edit" for 127.0.0.1 at 2017-08-28 12:59:21 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/dishes/_form.html.erb (13.4ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (14.1ms)
Completed 200 OK in 77ms (Views: 66.1ms | ActiveRecord: 1.4ms)


Started PATCH "/admin/dishes/7" for 127.0.0.1 at 2017-08-28 12:59:24 +0600
Processing by Admin::DishesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"UoP8Diy0WZgZYrsQQFIMug98PWFbRpaBJZR14QTTjQldL2rR6zo8hgCEurCOpDbG3qDzv1WXLAqBx3P/uKF05w==", "dish"=>{"title"=>"Foie gras", "description"=>"Fois gras is a luxury food product made of the liver of a duck or goose that has been specially fattened. By French law, foie gras is defined as the liver of a duck or goose fattened by force-feeding corn with a feeding tube, a process also known as gavage.", "establishment_id"=>"4", "price"=>"13.5"}, "commit"=>"Update Dish", "id"=>"7"}
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "dishes" SET "establishment_id" = ?, "updated_at" = ? WHERE "dishes"."id" = ?[0m  [["establishment_id", 4], ["updated_at", "2017-08-28 06:59:24.763759"], ["id", 7]]
  [1m[35m (101.9ms)[0m  commit transaction
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 110ms (ActiveRecord: 102.7ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-28 12:59:24 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  Rendered admin/dishes/index.html.erb within layouts/admin (9.4ms)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.7ms)

ActionView::Template::Error (undefined method `title' for nil:NilClass):
    14: 			<td><%= link_to dish.title, dish %></td>
    15: 			<td><%= dish.description %></td>
    16: 			<td><%= dish.price %></td>
    17: 			<td><%= dish.establishment.title %></td>
    18:       <td><%= link_to 'Edit', edit_admin_dish_path(dish) %></td>
    19:       <td><%= link_to 'Destroy', admin_dish_path(dish), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    20: 		</tr>
  app/views/admin/dishes/index.html.erb:17:in `block in _app_views_admin_dishes_index_html_erb___1851744684020408407_70196454854040'
  app/views/admin/dishes/index.html.erb:12:in `_app_views_admin_dishes_index_html_erb___1851744684020408407_70196454854040'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (34.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.9ms)


Started GET "/admin/dishes/8/edit" for 127.0.0.1 at 2017-08-28 12:59:32 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/dishes/_form.html.erb (5.2ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (6.3ms)
Completed 200 OK in 60ms (Views: 57.7ms | ActiveRecord: 0.5ms)


Started PATCH "/admin/dishes/8" for 127.0.0.1 at 2017-08-28 12:59:35 +0600
Processing by Admin::DishesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0dzLAA3Pa8m9qfeCkRvy9c77srIIpxQTocewpY6mZ5jecF3fykEO16RP9iJf7ciJHyd8bAZ2rpgFlLa7MtSedg==", "dish"=>{"title"=>"Gruton", "description"=>"Потому что гренки не могут стоить $8 за штуку, а gruton - может", "establishment_id"=>"4", "price"=>"8.0"}, "commit"=>"Update Dish", "id"=>"8"}
  [1m[35mDish Load (0.3ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "dishes" SET "establishment_id" = ?, "updated_at" = ? WHERE "dishes"."id" = ?  [["establishment_id", 4], ["updated_at", "2017-08-28 06:59:35.171802"], ["id", 8]]
  [1m[36m (125.2ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 131ms (ActiveRecord: 125.9ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-28 12:59:35 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  Rendered admin/dishes/index.html.erb within layouts/admin (7.7ms)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.5ms)

ActionView::Template::Error (undefined method `title' for nil:NilClass):
    14: 			<td><%= link_to dish.title, dish %></td>
    15: 			<td><%= dish.description %></td>
    16: 			<td><%= dish.price %></td>
    17: 			<td><%= dish.establishment.title %></td>
    18:       <td><%= link_to 'Edit', edit_admin_dish_path(dish) %></td>
    19:       <td><%= link_to 'Destroy', admin_dish_path(dish), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    20: 		</tr>
  app/views/admin/dishes/index.html.erb:17:in `block in _app_views_admin_dishes_index_html_erb___1851744684020408407_70196454854040'
  app/views/admin/dishes/index.html.erb:12:in `_app_views_admin_dishes_index_html_erb___1851744684020408407_70196454854040'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (11.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (7.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (44.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (28.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (68.2ms)


Started GET "/admin/dishes/9/edit" for 127.0.0.1 at 2017-08-28 12:59:38 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"9"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/dishes/_form.html.erb (6.6ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (7.6ms)
Completed 200 OK in 94ms (Views: 91.3ms | ActiveRecord: 0.5ms)


Started PATCH "/admin/dishes/9" for 127.0.0.1 at 2017-08-28 12:59:42 +0600
Processing by Admin::DishesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RikmUQ4MlE1YZsvwg5XRFuYr7LDlYAdoK5sNVd4pBX5JhbCOyYLxU0GAylBNY+tqN/cibuuxveOPyAtLYlv8kA==", "dish"=>{"title"=>"Sushi", "description"=>"Су́ши, или су́си — блюдо традиционной японской кухни, приготовленное из риса с уксусной приправой и различных морепродуктов, а также других ингредиентов. С начала 1980-х суши получили широкую популярность в мире.", "establishment_id"=>"2", "price"=>"7.5"}, "commit"=>"Update Dish", "id"=>"9"}
  [1m[35mDish Load (1.0ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "dishes" SET "establishment_id" = ?, "updated_at" = ? WHERE "dishes"."id" = ?  [["establishment_id", 2], ["updated_at", "2017-08-28 06:59:42.455437"], ["id", 9]]
  [1m[36m (74.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 81ms (ActiveRecord: 75.5ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-28 12:59:42 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  Rendered admin/dishes/index.html.erb within layouts/admin (12.6ms)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.7ms)

ActionView::Template::Error (undefined method `title' for nil:NilClass):
    14: 			<td><%= link_to dish.title, dish %></td>
    15: 			<td><%= dish.description %></td>
    16: 			<td><%= dish.price %></td>
    17: 			<td><%= dish.establishment.title %></td>
    18:       <td><%= link_to 'Edit', edit_admin_dish_path(dish) %></td>
    19:       <td><%= link_to 'Destroy', admin_dish_path(dish), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    20: 		</tr>
  app/views/admin/dishes/index.html.erb:17:in `block in _app_views_admin_dishes_index_html_erb___1851744684020408407_70196454854040'
  app/views/admin/dishes/index.html.erb:12:in `_app_views_admin_dishes_index_html_erb___1851744684020408407_70196454854040'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (33.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.9ms)


Started GET "/admin/dishes/10/edit" for 127.0.0.1 at 2017-08-28 12:59:49 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"10"}
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/dishes/_form.html.erb (4.3ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (4.9ms)
Completed 200 OK in 60ms (Views: 57.7ms | ActiveRecord: 0.4ms)


Started PATCH "/admin/dishes/10" for 127.0.0.1 at 2017-08-28 12:59:51 +0600
Processing by Admin::DishesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"57yEWjgwb778c2jXpxAwgIzcdQkUNjqe1MDBq9v5QNjoEBKF/74KoOWVaXdp5gr8XQC71xrngBVwk8e1Z4u5Ng==", "dish"=>{"title"=>"Ice Cream", "description"=>"Сладкая ням-ням штука", "establishment_id"=>"3", "price"=>"15.0"}, "commit"=>"Update Dish", "id"=>"10"}
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "dishes" SET "establishment_id" = ?, "updated_at" = ? WHERE "dishes"."id" = ?[0m  [["establishment_id", 3], ["updated_at", "2017-08-28 06:59:51.685943"], ["id", 10]]
  [1m[35m (108.5ms)[0m  commit transaction
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 115ms (ActiveRecord: 109.0ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-28 12:59:51 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  Rendered admin/dishes/index.html.erb within layouts/admin (9.6ms)
Completed 200 OK in 91ms (Views: 88.6ms | ActiveRecord: 0.8ms)


Started GET "/dishes/7" for 127.0.0.1 at 2017-08-28 13:00:17 +0600
Processing by DishesController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 7]]
  Rendered dishes/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 81ms (Views: 77.5ms | ActiveRecord: 0.2ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-28 13:01:13 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered admin/dishes/index.html.erb within layouts/admin (8.0ms)
Completed 200 OK in 70ms (Views: 67.6ms | ActiveRecord: 0.7ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-28 13:01:49 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered admin/dishes/index.html.erb within layouts/admin (7.9ms)
Completed 200 OK in 68ms (Views: 65.6ms | ActiveRecord: 0.7ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 13:01:58 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (3.6ms)
Completed 200 OK in 90ms (Views: 87.3ms | ActiveRecord: 0.4ms)


Started GET "/uploads/establishments/4" for 127.0.0.1 at 2017-08-28 13:01:58 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/4"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (43.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.5ms)


Started GET "/admin/establishments/4/edit" for 127.0.0.1 at 2017-08-28 13:02:43 +0600
Processing by Admin::EstablishmentsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  Rendered admin/establishments/_form.html.erb (4.9ms)
  Rendered admin/establishments/edit.html.erb within layouts/admin (6.2ms)
Completed 200 OK in 70ms (Views: 67.1ms | ActiveRecord: 0.2ms)


Started GET "/uploads/establishments/4" for 127.0.0.1 at 2017-08-28 13:02:43 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/4"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (36.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (41.2ms)


Started PATCH "/admin/establishments/4" for 127.0.0.1 at 2017-08-28 13:02:48 +0600
Processing by Admin::EstablishmentsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8C4s0FybUnGmh+RYjtKHfTLEYKaxn6kfM5xBg/1S/43/groPmxU3b79h5fhAJL0B4xiueL9OE5SXz0edQSAGYw==", "establishment"=>{"title"=>"Циклон", "description"=>"Ничего не знаю об этом ресторане", "image"=>#<ActionDispatch::Http::UploadedFile:0x007fafc5ec6428 @tempfile=#<Tempfile:/tmp/RackMultipart20170828-11780-1mq3ev7.jpg>, @original_filename="cyclone-2.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"establishment[image]\"; filename=\"cyclone-2.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Update Establishment", "id"=>"4"}
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
Unpermitted parameter: image
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/admin/establishments
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 13:02:48 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (2.3ms)
Completed 200 OK in 79ms (Views: 77.5ms | ActiveRecord: 0.3ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-28 13:02:53 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered admin/dishes/index.html.erb within layouts/admin (15.2ms)
Completed 200 OK in 81ms (Views: 78.6ms | ActiveRecord: 1.1ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 13:02:55 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (3.2ms)
Completed 200 OK in 77ms (Views: 74.8ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 13:05:45 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 53ms (Views: 51.9ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 13:06:31 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 84ms (Views: 81.8ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 13:06:51 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (24.7ms)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 0.2ms)

ActionView::Template::Error (undefined local variable or method `dish' for #<#<Class:0x007fafbc791670>:0x007fafbc23dd68>):
     7: 	</tr>
     8: 	<% @establishments.each do |establishment| %>
     9: 	<tr>
    10: 		<td><%= link_to establishment.title, dish %></td>
    11: 		<td><%= establishment.description %></td>
    12: 		<td><%= image_tag("/uploads/establishments/#{establishment.id}", size: '30') %></td>
    13: 
  app/views/establishments/index.html.erb:10:in `block in _app_views_establishments_index_html_erb___4216602902234932133_70196376233300'
  app/views/establishments/index.html.erb:8:in `_app_views_establishments_index_html_erb___4216602902234932133_70196376233300'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (31.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.4ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 13:07:36 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 74ms (Views: 71.6ms | ActiveRecord: 0.3ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 13:07:38 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered establishments/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 57ms (Views: 55.5ms | ActiveRecord: 0.1ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 13:12:02 +0600
Processing by EstablishmentsController#index as HTML
  Rendered establishments/index.html.erb within layouts/application (3.4ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms)

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    2: 
    3: 
    4: <div class="row">
    5: 	<% @establishment.each do |establishment| %>
    6: 		<div class="col-md-4" align="center">
    7: 			<%= image_tag("/uploads/Books/#{establishment.id}", size: '300') %><br>
    8: 			<%= link_to establishment.title, establishment_path(establishment) %><br>
  app/views/establishments/index.html.erb:5:in `_app_views_establishments_index_html_erb___4216602902234932133_70196380111540'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (35.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.1ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 13:12:07 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 57ms (Views: 55.6ms | ActiveRecord: 0.3ms)


Started GET "/uploads/Books/2" for 127.0.0.1 at 2017-08-28 13:12:08 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/Books/2"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (42.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (36.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (71.2ms)


Started GET "/uploads/Books/4" for 127.0.0.1 at 2017-08-28 13:12:08 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/Books/4"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (46.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (32.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (65.9ms)


Started GET "/uploads/Books/3" for 127.0.0.1 at 2017-08-28 13:12:08 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/Books/3"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (45.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.7ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 13:12:20 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 87ms (Views: 84.8ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 13:13:43 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (3.0ms)
Completed 200 OK in 93ms (Views: 90.8ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments/3/edit" for 127.0.0.1 at 2017-08-28 13:13:46 +0600
Processing by Admin::EstablishmentsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered admin/establishments/_form.html.erb (28.3ms)
  Rendered admin/establishments/edit.html.erb within layouts/admin (29.6ms)
Completed 200 OK in 120ms (Views: 118.1ms | ActiveRecord: 0.2ms)


Started PATCH "/admin/establishments/3" for 127.0.0.1 at 2017-08-28 13:13:51 +0600
Processing by Admin::EstablishmentsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"tLTcArqBO+bMX9x7GN/l2ss88W+fUfKn7w1YvBatEC67GErdfQ9e+NW53dvWKd+mGuA/sZGASCxLXl6iqt/pwA==", "establishment"=>{"title"=>"Коффейня Coffee", "description"=>"Кофейня там, все дела", "image"=>#<ActionDispatch::Http::UploadedFile:0x007fafbcb76060 @tempfile=#<Tempfile:/tmp/RackMultipart20170828-11780-1kthfcz.jpg>, @original_filename="coffee-mug.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"establishment[image]\"; filename=\"coffee-mug.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Update Establishment", "id"=>"3"}
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
Unpermitted parameter: image
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/admin/establishments
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 13:13:51 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (2.7ms)
Completed 200 OK in 101ms (Views: 99.3ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 13:13:55 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (1.9ms)
Completed 200 OK in 55ms (Views: 53.1ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 13:14:00 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 63ms (Views: 60.7ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 13:14:22 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 57ms (Views: 55.0ms | ActiveRecord: 0.3ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 13:14:29 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered establishments/show.html.erb within layouts/application (0.4ms)
Completed 200 OK in 71ms (Views: 69.3ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 13:14:57 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (18.7ms)
Completed 200 OK in 68ms (Views: 66.7ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 13:16:05 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 61ms (Views: 58.7ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 13:16:35 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.5ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 65ms (Views: 62.1ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 13:22:24 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 74ms (Views: 72.3ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 13:27:07 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 58ms (Views: 56.7ms | ActiveRecord: 0.3ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 13:27:10 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered establishments/show.html.erb within layouts/application (32.9ms)
Completed 500 Internal Server Error in 38ms (ActiveRecord: 0.2ms)

ActionView::Template::Error (undefined local variable or method `establishment' for #<#<Class:0x007fafbc791670>:0x007fafbcc4e190>):
    2: 	<div class="col-md-1">
    3: 		<%= @establishment.title %> <br>
    4: 		<%= @establishment.description %> <br>
    5: 		<%= image_tag("/uploads/establishments/#{establishment.id}", size: '300') %>
    6: 	</div>
    7: </div>
    8: <div class="row">
  app/views/establishments/show.html.erb:5:in `_app_views_establishments_show_html_erb___279719815566736396_70196381508700'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (32.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.7ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 13:27:24 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  Rendered establishments/show.html.erb within layouts/application (2.9ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.3ms)

ActionView::Template::Error (undefined method `dishes' for nil:NilClass):
     6: 	</div>
     7: </div>
     8: <div class="row">
     9: 	<% @estblishment.dishes.each do |dish| %>
    10: 		<div class="col-md-4">
    11: 			
    12: 		</div>
  app/views/establishments/show.html.erb:9:in `_app_views_establishments_show_html_erb___279719815566736396_70196375576060'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (34.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.4ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 13:27:34 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (97.2ms)
Completed 200 OK in 166ms (Views: 163.6ms | ActiveRecord: 0.5ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 13:27:46 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (3.2ms)
Completed 200 OK in 56ms (Views: 53.4ms | ActiveRecord: 0.4ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 13:31:26 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (3.0ms)
Completed 200 OK in 60ms (Views: 57.5ms | ActiveRecord: 0.4ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 13:33:51 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (2.9ms)
Completed 200 OK in 59ms (Views: 56.3ms | ActiveRecord: 0.5ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 13:34:28 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 59ms (Views: 56.4ms | ActiveRecord: 0.3ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 13:34:49 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 57ms (Views: 54.0ms | ActiveRecord: 0.4ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 13:35:18 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (2.3ms)
Completed 200 OK in 56ms (Views: 53.1ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 13:36:12 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (3.1ms)
Completed 200 OK in 73ms (Views: 71.1ms | ActiveRecord: 0.4ms)


Started GET "/admin/establishments/2/edit" for 127.0.0.1 at 2017-08-28 13:36:15 +0600
Processing by Admin::EstablishmentsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  Rendered admin/establishments/_form.html.erb (3.3ms)
  Rendered admin/establishments/edit.html.erb within layouts/admin (4.1ms)
Completed 200 OK in 66ms (Views: 64.1ms | ActiveRecord: 0.1ms)


Started PATCH "/admin/establishments/2" for 127.0.0.1 at 2017-08-28 13:36:19 +0600
Processing by Admin::EstablishmentsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"WPtJ9mohtlZqlHXm16/4FK8JEFYGLlQhjyzgP8NCfU9XV98pra/TSHNydEYZWcJoftXeiAj/7qorf+YhfzCEoQ==", "establishment"=>{"title"=>"Ninja Sushi", "description"=>"Хотите утолить чувство голода и при этом сэкономить время и деньги? \r\nОнлайн заказ суши и роллов от Ninja Sushi!"}, "commit"=>"Update Establishment", "id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "establishments" SET "description" = ?, "updated_at" = ? WHERE "establishments"."id" = ?[0m  [["description", "Хотите утолить чувство голода и при этом сэкономить время и деньги? \r\nОнлайн заказ суши и роллов от Ninja Sushi!"], ["updated_at", "2017-08-28 07:36:19.517363"], ["id", 2]]
  [1m[35m (571.4ms)[0m  commit transaction
Redirected to http://localhost:3000/admin/establishments
Completed 302 Found in 578ms (ActiveRecord: 572.2ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 13:36:20 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (4.2ms)
Completed 200 OK in 114ms (Views: 111.5ms | ActiveRecord: 0.3ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 13:36:21 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 96ms (Views: 93.1ms | ActiveRecord: 0.5ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 13:36:32 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 123ms (Views: 121.1ms | ActiveRecord: 0.4ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 13:36:34 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 3]]
  Rendered establishments/show.html.erb within layouts/application (1.7ms)
Completed 200 OK in 54ms (Views: 50.7ms | ActiveRecord: 0.4ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 13:37:44 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered establishments/show.html.erb within layouts/application (1.6ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.2ms)

SyntaxError (/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views/establishments/show.html.erb:3: syntax error, unexpected ',', expecting ')'
...tablishment.id}", size: '300'), :class =>"img-rounded" );@ou...
...                               ^):
  app/views/establishments/show.html.erb:3: syntax error, unexpected ',', expecting ')'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (11.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (40.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (32.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (63.2ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 13:38:03 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 3]]
  Rendered establishments/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 57ms (Views: 54.6ms | ActiveRecord: 0.3ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 13:38:09 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 76ms (Views: 74.0ms | ActiveRecord: 0.3ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 13:38:10 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (3.9ms)
Completed 200 OK in 73ms (Views: 70.4ms | ActiveRecord: 0.5ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 13:38:14 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  Rendered establishments/show.html.erb within layouts/application (1.9ms)
Completed 200 OK in 77ms (Views: 74.7ms | ActiveRecord: 0.4ms)


Started GET "/admin/establishments/3/edit" for 127.0.0.1 at 2017-08-28 13:39:51 +0600
Processing by Admin::EstablishmentsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered admin/establishments/_form.html.erb (3.3ms)
  Rendered admin/establishments/edit.html.erb within layouts/admin (4.3ms)
Completed 200 OK in 61ms (Views: 58.8ms | ActiveRecord: 0.2ms)


Started PATCH "/admin/establishments/3" for 127.0.0.1 at 2017-08-28 13:39:54 +0600
Processing by Admin::EstablishmentsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"g5bine4I8l3cy89hIOgp6Wi2t/YlOc2FOzZ2fbuRn9qMOnRCKYaXQ8UtzsHuHhOVuWp5KCvodw6fZXBjB+NmNA==", "establishment"=>{"title"=>"Коффейня Coffee", "description"=>"…Летом, когда день не торопится завершиться, и зимой, когда за окном уже сумерки, приятно посидеть за чашечкой кофе. Впрочем, чашечка кофе не только пункт в меню, это повод для встречи, приятный ритуал, который в разное время суток может иметь различное дополнение. Утром – кофе с молоком плюс яблочный пирог – быстрый завтрак. Днем – ароматный эспрессо с чизкейком - приятная передышка. Вечером…\r\nА вот вечером возможны варианты. И ради чашечки вечернего кофе лучше отправиться в кофейню.\r\nПервая кофейня «Coffee» гостеприимно распахнула свои двери в марте 2006 года и положила начало созданию кофейной культуры в Киргизии. Кофейня «Coffee» - место, где не только подают кофе, но и создают уютную атмосферу общения для самой широкой аудитории. Спешит ли наш гость, и может провести в кофейне всего несколько минут, или, человеку захотелось обдумать какие-то идеи, провести деловую встречу, а может побыть наедине с собой, атмосфера кофейни располагает к тому, чтобы все они чувствовали себя как дома…\r\nВ 2008 году открывается вторая кофейня «Coffee» в Академии подарков известного дизайнера по войлоку Татьяны Воротниковой. Здесь наши гости, в дополнение к чашечке ароматного кофе и вкусного пирожного, могут посмотреть выставку работ дизайнера и приобрести сувениры на память.\r\nВ 2009 году открылся салон-магазин «Coffeeshop» по продаже кофемашин и кофе известной итальянской марки «Saeco» , «Lucaffe», разных сортов чая, кофейных и чайных аксессуаров.\r\nВ 2010 году открылась третья точка сети кофеен «Coffee», по адресу Токтогула 75/1. Островок Европы в центре Бишкека."}, "commit"=>"Update Establishment", "id"=>"3"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "establishments" SET "description" = ?, "updated_at" = ? WHERE "establishments"."id" = ?  [["description", "…Летом, когда день не торопится завершиться, и зимой, когда за окном уже сумерки, приятно посидеть за чашечкой кофе. Впрочем, чашечка кофе не только пункт в меню, это повод для встречи, приятный ритуал, который в разное время суток может иметь различное дополнение. Утром – кофе с молоком плюс яблочный пирог – быстрый завтрак. Днем – ароматный эспрессо с чизкейком - приятная передышка. Вечером…\r\nА вот вечером возможны варианты. И ради чашечки вечернего кофе лучше отправиться в кофейню.\r\nПервая кофейня «Coffee» гостеприимно распахнула свои двери в марте 2006 года и положила начало созданию кофейной культуры в Киргизии. Кофейня «Coffee» - место, где не только подают кофе, но и создают уютную атмосферу общения для самой широкой аудитории. Спешит ли наш гость, и может провести в кофейне всего несколько минут, или, человеку захотелось обдумать какие-то идеи, провести деловую встречу, а может побыть наедине с собой, атмосфера кофейни располагает к тому, чтобы все они чувствовали себя как дома…\r\nВ 2008 году открывается вторая кофейня «Coffee» в Академии подарков известного дизайнера по войлоку Татьяны Воротниковой. Здесь наши гости, в дополнение к чашечке ароматного кофе и вкусного пирожного, могут посмотреть выставку работ дизайнера и приобрести сувениры на память.\r\nВ 2009 году открылся салон-магазин «Coffeeshop» по продаже кофемашин и кофе известной итальянской марки «Saeco» , «Lucaffe», разных сортов чая, кофейных и чайных аксессуаров.\r\nВ 2010 году открылась третья точка сети кофеен «Coffee», по адресу Токтогула 75/1. Островок Европы в центре Бишкека."], ["updated_at", "2017-08-28 07:39:54.332103"], ["id", 3]]
  [1m[36m (461.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/admin/establishments
Completed 302 Found in 467ms (ActiveRecord: 461.6ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 13:39:54 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (2.2ms)
Completed 200 OK in 57ms (Views: 54.9ms | ActiveRecord: 0.3ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 13:39:59 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 57ms (Views: 55.1ms | ActiveRecord: 0.4ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 13:40:04 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 3]]
  Rendered establishments/show.html.erb within layouts/application (3.2ms)
Completed 200 OK in 83ms (Views: 80.5ms | ActiveRecord: 0.5ms)


Started GET "/admin/establishments/3/edit" for 127.0.0.1 at 2017-08-28 13:40:19 +0600
Processing by Admin::EstablishmentsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  Rendered admin/establishments/_form.html.erb (6.2ms)
  Rendered admin/establishments/edit.html.erb within layouts/admin (7.6ms)
Completed 200 OK in 73ms (Views: 70.4ms | ActiveRecord: 0.3ms)


Started PATCH "/admin/establishments/3" for 127.0.0.1 at 2017-08-28 13:40:45 +0600
Processing by Admin::EstablishmentsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"gMdl4gpe5WrPqxgwxOkhC9pWTCg6+6d32kburh15kC6Pa/M9zdCAdNZNGZAKHxt3C4qC9jQqHfx+FeiwoQtpwA==", "establishment"=>{"title"=>"Коффейня Coffee", "description"=>"…Летом, когда день не торопится завершиться, и зимой, когда за окном уже сумерки, приятно посидеть за чашечкой кофе. Впрочем, чашечка кофе не только пункт в меню, это повод для встречи, приятный ритуал, который в разное время суток может иметь различное дополнение. Утром – кофе с молоком плюс яблочный пирог – быстрый завтрак. Днем – ароматный эспрессо с чизкейком - приятная передышка. Вечером…\r\nА вот вечером возможны варианты. И ради чашечки вечернего кофе лучше отправиться в кофейню.\r\nПервая кофейня «Coffee» гостеприимно распахнула свои двери в марте 2006 года и положила начало созданию кофейной культуры в Киргизии. Кофейня «Coffee» - место, где не только подают кофе, но и создают уютную атмосферу общения для самой широкой аудитории. Спешит ли наш гость, и может провести в кофейне всего несколько минут, или, человеку захотелось обдумать какие-то идеи, провести деловую встречу, а может побыть наедине с собой, атмосфера кофейни располагает к тому, чтобы все они чувствовали себя как дома…"}, "commit"=>"Update Establishment", "id"=>"3"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "establishments" SET "description" = ?, "updated_at" = ? WHERE "establishments"."id" = ?[0m  [["description", "…Летом, когда день не торопится завершиться, и зимой, когда за окном уже сумерки, приятно посидеть за чашечкой кофе. Впрочем, чашечка кофе не только пункт в меню, это повод для встречи, приятный ритуал, который в разное время суток может иметь различное дополнение. Утром – кофе с молоком плюс яблочный пирог – быстрый завтрак. Днем – ароматный эспрессо с чизкейком - приятная передышка. Вечером…\r\nА вот вечером возможны варианты. И ради чашечки вечернего кофе лучше отправиться в кофейню.\r\nПервая кофейня «Coffee» гостеприимно распахнула свои двери в марте 2006 года и положила начало созданию кофейной культуры в Киргизии. Кофейня «Coffee» - место, где не только подают кофе, но и создают уютную атмосферу общения для самой широкой аудитории. Спешит ли наш гость, и может провести в кофейне всего несколько минут, или, человеку захотелось обдумать какие-то идеи, провести деловую встречу, а может побыть наедине с собой, атмосфера кофейни располагает к тому, чтобы все они чувствовали себя как дома…"], ["updated_at", "2017-08-28 07:40:45.252121"], ["id", 3]]
  [1m[35m (139.7ms)[0m  commit transaction
Redirected to http://localhost:3000/admin/establishments
Completed 302 Found in 146ms (ActiveRecord: 140.4ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 13:40:45 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.5ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (3.3ms)
Completed 200 OK in 56ms (Views: 54.7ms | ActiveRecord: 0.5ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 13:40:49 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 3]]
  Rendered establishments/show.html.erb within layouts/application (2.6ms)
Completed 200 OK in 61ms (Views: 58.4ms | ActiveRecord: 0.5ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 13:41:03 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 3]]
  Rendered establishments/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 76ms (Views: 73.5ms | ActiveRecord: 0.4ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 13:41:16 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 63ms (Views: 61.7ms | ActiveRecord: 0.4ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 13:41:18 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 70ms (Views: 67.9ms | ActiveRecord: 0.4ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 13:41:20 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 82ms (Views: 79.9ms | ActiveRecord: 0.3ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 13:41:46 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  Rendered establishments/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 108ms (Views: 102.9ms | ActiveRecord: 0.5ms)


Started GET "/admin/establishments/4/edit" for 127.0.0.1 at 2017-08-28 13:41:50 +0600
Processing by Admin::EstablishmentsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  Rendered admin/establishments/_form.html.erb (4.8ms)
  Rendered admin/establishments/edit.html.erb within layouts/admin (6.3ms)
Completed 200 OK in 76ms (Views: 72.5ms | ActiveRecord: 0.2ms)


Started PATCH "/admin/establishments/4" for 127.0.0.1 at 2017-08-28 13:41:52 +0600
Processing by Admin::EstablishmentsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"6Ca6EyZ91fKv7iAEDrOMQzejZEPSlUCCE2tU7sNd54DniizM4fOw7LYIIaTARbY/5n+qndxE+gm3OFLwfy8ebg==", "establishment"=>{"title"=>"Циклон", "description"=>"Ресторан «Циклон» был открыт, чтоб донести давнюю итальянскую традицию до жителей и гостей города Бишкек.\r\n\r\nИтальянский ресторан существует в центре города уже 20 лет и за это время успел обзавестись множеством постоянных гостей. А недавно, к большой их радости, в заведении обновился интерьер. Общая демократичность обстановки, свойственная итальянским ресторанчикам, не могла не сказаться и на меню «Циклона». В нем можно увидеть более двадцати видов пасты и вкусную пиццу во всем ее разнообразии, ризотто и домашние равиоли, классические итальянские блюда и интересные фирменные предложения от шеф-повара, которые по достоинству оценили даже гурманы из самой Италии.\r\n\r\n«Циклон» — это место, где можно ощутить итальянское гостеприимство, дружеские отношения с персоналом и конечно же попробовать традиционную итальянскую кухню"}, "commit"=>"Update Establishment", "id"=>"4"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "establishments" SET "description" = ?, "updated_at" = ? WHERE "establishments"."id" = ?[0m  [["description", "Ресторан «Циклон» был открыт, чтоб донести давнюю итальянскую традицию до жителей и гостей города Бишкек.\r\n\r\nИтальянский ресторан существует в центре города уже 20 лет и за это время успел обзавестись множеством постоянных гостей. А недавно, к большой их радости, в заведении обновился интерьер. Общая демократичность обстановки, свойственная итальянским ресторанчикам, не могла не сказаться и на меню «Циклона». В нем можно увидеть более двадцати видов пасты и вкусную пиццу во всем ее разнообразии, ризотто и домашние равиоли, классические итальянские блюда и интересные фирменные предложения от шеф-повара, которые по достоинству оценили даже гурманы из самой Италии.\r\n\r\n«Циклон» — это место, где можно ощутить итальянское гостеприимство, дружеские отношения с персоналом и конечно же попробовать традиционную итальянскую кухню"], ["updated_at", "2017-08-28 07:41:52.542312"], ["id", 4]]
  [1m[35m (196.3ms)[0m  commit transaction
Redirected to http://localhost:3000/admin/establishments
Completed 302 Found in 210ms (ActiveRecord: 197.4ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 13:41:52 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (3.1ms)
Completed 200 OK in 90ms (Views: 87.4ms | ActiveRecord: 0.3ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 13:46:03 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  Rendered establishments/show.html.erb within layouts/application (3.0ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.2ms)

SyntaxError (/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views/establishments/show.html.erb:14: syntax error, unexpected '<', expecting ')'
			</div>
			 ^
/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views/establishments/show.html.erb:15: unknown regexp options - dv
/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views/establishments/show.html.erb:16: syntax error, unexpected '<'
	</div>
	 ^
/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views/establishments/show.html.erb:17: unknown regexp options - dv
/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views/establishments/show.html.erb:18: syntax error, unexpected '<'
<div class="row">
 ^
/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views/establishments/show.html.erb:19: syntax error, unexpected '<'
	<% @establishment.dishes.each do |dish| @output_buffer.safe_append='
	 ^
/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views/establishments/show.html.erb:19: syntax error, unexpected keyword_do_block, expecting keyword_end
	<% @establishment.dishes.each do |dish| @output_buffer.safe_append='
	                                ^
/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views/establishments/show.html.erb:31: syntax error, unexpected keyword_ensure, expecting end-of-input):
  app/views/establishments/show.html.erb:14: syntax error, unexpected '<', expecting ')'
  app/views/establishments/show.html.erb:15: unknown regexp options - dv
  app/views/establishments/show.html.erb:16: syntax error, unexpected '<'
  app/views/establishments/show.html.erb:17: unknown regexp options - dv
  app/views/establishments/show.html.erb:18: syntax error, unexpected '<'
  app/views/establishments/show.html.erb:19: syntax error, unexpected '<'
  app/views/establishments/show.html.erb:19: syntax error, unexpected keyword_do_block, expecting keyword_end
  app/views/establishments/show.html.erb:31: syntax error, unexpected keyword_ensure, expecting end-of-input


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (10.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (33.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.5ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 13:46:21 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  Rendered establishments/show.html.erb within layouts/application (2.0ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.2ms)

SyntaxError (/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views/establishments/show.html.erb:14: syntax error, unexpected '<', expecting keyword_end
			</div>
			 ^
/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views/establishments/show.html.erb:15: unknown regexp options - dv
/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views/establishments/show.html.erb:16: syntax error, unexpected '<'
	</div>
	 ^
/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views/establishments/show.html.erb:17: unknown regexp options - dv
/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views/establishments/show.html.erb:18: syntax error, unexpected '<'
<div class="row">
 ^
/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views/establishments/show.html.erb:19: syntax error, unexpected '<'
	<% @establishment.dishes.each do |dish| @output_buffer.safe_append='
	 ^
/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views/establishments/show.html.erb:19: syntax error, unexpected keyword_do_block, expecting keyword_end
	<% @establishment.dishes.each do |dish| @output_buffer.safe_append='
	                                ^
/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views/establishments/show.html.erb:31: syntax error, unexpected keyword_ensure, expecting end-of-input):
  app/views/establishments/show.html.erb:14: syntax error, unexpected '<', expecting keyword_end
  app/views/establishments/show.html.erb:15: unknown regexp options - dv
  app/views/establishments/show.html.erb:16: syntax error, unexpected '<'
  app/views/establishments/show.html.erb:17: unknown regexp options - dv
  app/views/establishments/show.html.erb:18: syntax error, unexpected '<'
  app/views/establishments/show.html.erb:19: syntax error, unexpected '<'
  app/views/establishments/show.html.erb:19: syntax error, unexpected keyword_do_block, expecting keyword_end
  app/views/establishments/show.html.erb:31: syntax error, unexpected keyword_ensure, expecting end-of-input


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (33.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.2ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 13:46:33 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  Rendered establishments/show.html.erb within layouts/application (2.8ms)
Completed 200 OK in 76ms (Views: 73.5ms | ActiveRecord: 0.5ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 13:46:48 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  Rendered establishments/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 63ms (Views: 60.3ms | ActiveRecord: 0.4ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 13:46:59 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  Rendered establishments/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 55ms (Views: 53.0ms | ActiveRecord: 0.3ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 13:47:05 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  Rendered establishments/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 59ms (Views: 56.2ms | ActiveRecord: 0.4ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 13:47:30 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (3.5ms)
Completed 200 OK in 77ms (Views: 75.8ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 13:48:28 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (3.4ms)
Completed 200 OK in 57ms (Views: 55.1ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 13:48:41 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (4.1ms)
Completed 200 OK in 61ms (Views: 58.9ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 13:49:26 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (4.4ms)
Completed 200 OK in 60ms (Views: 58.3ms | ActiveRecord: 0.4ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 13:49:34 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (4.2ms)
Completed 200 OK in 56ms (Views: 53.9ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 13:49:56 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (5.1ms)
Completed 200 OK in 103ms (Views: 100.4ms | ActiveRecord: 0.4ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 13:53:45 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  Rendered establishments/show.html.erb within layouts/application (3.7ms)
Completed 200 OK in 63ms (Views: 60.1ms | ActiveRecord: 0.4ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 13:57:48 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  Rendered establishments/show.html.erb within layouts/application (3.7ms)
Completed 200 OK in 60ms (Views: 57.3ms | ActiveRecord: 0.5ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 13:59:58 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  Rendered establishments/show.html.erb within layouts/application (3.7ms)
Completed 200 OK in 74ms (Views: 71.8ms | ActiveRecord: 0.4ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 14:00:11 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  Rendered establishments/show.html.erb within layouts/application (2.8ms)
Completed 200 OK in 54ms (Views: 51.0ms | ActiveRecord: 0.4ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-28 14:00:31 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.5ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered admin/dishes/index.html.erb within layouts/admin (7.8ms)
Completed 200 OK in 58ms (Views: 55.7ms | ActiveRecord: 0.9ms)


Started GET "/admin/dishes/6/edit" for 127.0.0.1 at 2017-08-28 14:00:33 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"6"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/dishes/_form.html.erb (7.2ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (8.6ms)
Completed 200 OK in 82ms (Views: 78.4ms | ActiveRecord: 0.6ms)


Started PATCH "/admin/dishes/6" for 127.0.0.1 at 2017-08-28 14:00:39 +0600
Processing by Admin::DishesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"A611oJjIBv8dTsVaOX4BqbJtIe2/MohRYs3YUfxgz+8MAeN/X0Zj4QSoxPr3iDvVY7HvM7HjMtrGnt5PQBI2AQ==", "dish"=>{"title"=>"Пицца", "description"=>"Пицца, пицца, пицца", "establishment_id"=>"2", "price"=>"500"}, "commit"=>"Update Dish", "id"=>"6"}
  [1m[35mDish Load (0.1ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "dishes" SET "price" = ?, "updated_at" = ? WHERE "dishes"."id" = ?  [["price", 500.0], ["updated_at", "2017-08-28 08:00:39.760566"], ["id", 6]]
  [1m[36m (93.7ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 100ms (ActiveRecord: 94.4ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-28 14:00:39 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered admin/dishes/index.html.erb within layouts/admin (5.8ms)
Completed 200 OK in 58ms (Views: 55.8ms | ActiveRecord: 0.6ms)


Started GET "/admin/dishes/7/edit" for 127.0.0.1 at 2017-08-28 14:00:43 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[35mDish Load (0.4ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mEstablishment Load (0.5ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/dishes/_form.html.erb (5.6ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (6.5ms)
Completed 200 OK in 63ms (Views: 60.2ms | ActiveRecord: 0.9ms)


Started PATCH "/admin/dishes/7" for 127.0.0.1 at 2017-08-28 14:00:47 +0600
Processing by Admin::DishesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"72Jo0/B6xWg8Sr/vQwJyCE1FJXW1tGppG4IXBf9GRRDgzv4MN/SgdiWsvk+N9Eh0nJnrq7tl0OK/0REbQzS8/g==", "dish"=>{"title"=>"Foie gras", "description"=>"Fois gras is a luxury food product made of the liver of a duck or goose that has been specially fattened. By French law, foie gras is defined as the liver of a duck or goose fattened by force-feeding corn with a feeding tube, a process also known as gavage.", "establishment_id"=>"4", "price"=>"900"}, "commit"=>"Update Dish", "id"=>"7"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "dishes" SET "price" = ?, "updated_at" = ? WHERE "dishes"."id" = ?  [["price", 900.0], ["updated_at", "2017-08-28 08:00:47.507334"], ["id", 7]]
  [1m[36m (168.4ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 175ms (ActiveRecord: 169.0ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-28 14:00:47 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered admin/dishes/index.html.erb within layouts/admin (5.9ms)
Completed 200 OK in 64ms (Views: 62.0ms | ActiveRecord: 0.6ms)


Started GET "/admin/dishes/8/edit" for 127.0.0.1 at 2017-08-28 14:00:49 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/dishes/_form.html.erb (8.1ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (9.9ms)
Completed 200 OK in 77ms (Views: 74.4ms | ActiveRecord: 0.6ms)


Started PATCH "/admin/dishes/8" for 127.0.0.1 at 2017-08-28 14:00:52 +0600
Processing by Admin::DishesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"1/6ATCMYRSttQjBHBYoZUftNHcDh+Udzt4G7lQVwKXDYUhaT5JYgNXSkMefLfCMtKpHTHu8o/fgT0r2LuQLQng==", "dish"=>{"title"=>"Gruton", "description"=>"Потому что гренки не могут стоить $8 за штуку, а gruton - может", "establishment_id"=>"4", "price"=>"300"}, "commit"=>"Update Dish", "id"=>"8"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "dishes" SET "price" = ?, "updated_at" = ? WHERE "dishes"."id" = ?  [["price", 300.0], ["updated_at", "2017-08-28 08:00:52.776786"], ["id", 8]]
  [1m[36m (79.2ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 87ms (ActiveRecord: 79.8ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-28 14:00:52 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered admin/dishes/index.html.erb within layouts/admin (5.9ms)
Completed 200 OK in 54ms (Views: 52.2ms | ActiveRecord: 0.6ms)


Started GET "/admin/dishes/9/edit" for 127.0.0.1 at 2017-08-28 14:00:54 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"9"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/dishes/_form.html.erb (6.3ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (7.7ms)
Completed 200 OK in 75ms (Views: 72.7ms | ActiveRecord: 0.6ms)


Started PATCH "/admin/dishes/9" for 127.0.0.1 at 2017-08-28 14:01:02 +0600
Processing by Admin::DishesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"gVIigEh2qNpOAEN54cD658fDGyU2d4KHmp2zTuY922uO/rRfj/jNxFfmQtkvNsCbFh/V+zimOAw+zrVQWk8ihQ==", "dish"=>{"title"=>"Sushi", "description"=>"Су́ши, или су́си — блюдо традиционной японской кухни, приготовленное из риса с уксусной приправой и различных морепродуктов, а также других ингредиентов. С начала 1980-х суши получили широкую популярность в мире.", "establishment_id"=>"2", "price"=>"320"}, "commit"=>"Update Dish", "id"=>"9"}
  [1m[35mDish Load (0.3ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "dishes" SET "price" = ?, "updated_at" = ? WHERE "dishes"."id" = ?  [["price", 320.0], ["updated_at", "2017-08-28 08:01:02.146839"], ["id", 9]]
  [1m[36m (129.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 137ms (ActiveRecord: 129.9ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-28 14:01:02 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered admin/dishes/index.html.erb within layouts/admin (8.1ms)
Completed 200 OK in 79ms (Views: 76.5ms | ActiveRecord: 0.8ms)


Started GET "/admin/dishes/10/edit" for 127.0.0.1 at 2017-08-28 14:01:06 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"10"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mEstablishment Load (0.6ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/dishes/_form.html.erb (8.9ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (10.6ms)
Completed 200 OK in 75ms (Views: 71.5ms | ActiveRecord: 0.8ms)


Started PATCH "/admin/dishes/10" for 127.0.0.1 at 2017-08-28 14:01:10 +0600
Processing by Admin::DishesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"bm78fugyRVZzTyjSxTgvASGmHq66ze+4eWsVOgFQwfxhwmqhL7wgSGqpKXILzhV98HrQcLQcVTPdOBMkvSI4Eg==", "dish"=>{"title"=>"Ice Cream", "description"=>"Сладкая ням-ням штука", "establishment_id"=>"3", "price"=>"100"}, "commit"=>"Update Dish", "id"=>"10"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "dishes" SET "price" = ?, "updated_at" = ? WHERE "dishes"."id" = ?  [["price", 100.0], ["updated_at", "2017-08-28 08:01:10.634416"], ["id", 10]]
  [1m[36m (95.8ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 102ms (ActiveRecord: 96.4ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-28 14:01:10 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered admin/dishes/index.html.erb within layouts/admin (7.2ms)
Completed 200 OK in 59ms (Views: 57.2ms | ActiveRecord: 0.8ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-28 14:01:19 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered admin/dishes/index.html.erb within layouts/admin (6.2ms)
Completed 200 OK in 53ms (Views: 50.3ms | ActiveRecord: 0.6ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 14:01:22 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  Rendered establishments/show.html.erb within layouts/application (2.9ms)
Completed 200 OK in 72ms (Views: 69.6ms | ActiveRecord: 0.4ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 14:11:36 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  Rendered establishments/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 79ms (Views: 76.2ms | ActiveRecord: 0.6ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 14:12:01 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  Rendered establishments/show.html.erb within layouts/application (1.6ms)
Completed 200 OK in 65ms (Views: 62.9ms | ActiveRecord: 0.4ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 14:15:05 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  Rendered establishments/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 58ms (Views: 56.1ms | ActiveRecord: 0.4ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 14:15:53 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  Rendered establishments/show.html.erb within layouts/application (1.8ms)
Completed 200 OK in 59ms (Views: 56.9ms | ActiveRecord: 0.4ms)
  [1m[36m (87.5ms)[0m  [1mDROP TABLE "orders"[0m
  [1m[35m (80.3ms)[0m  DROP TABLE "order_items"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateCarts (20170828141041)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "status" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170828141041"]]
  [1m[36m (107.0ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateLineItems (20170828141635)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "price" decimal, "quantity" integer, "cart_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170828141635"]]
  [1m[36m (105.0ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_line_items_on_cart_id' AND type='index'



Started GET "/" for 127.0.0.1 at 2017-08-28 20:16:47 +0600
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (17.9ms)
Completed 200 OK in 558ms (Views: 539.5ms | ActiveRecord: 0.7ms)


Started GET "/assets/dishes.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2017-08-28 20:16:48 +0600


Started GET "/assets/establishments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2017-08-28 20:16:48 +0600


Started GET "/" for 127.0.0.1 at 2017-08-28 20:17:58 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (5.8ms)
Completed 200 OK in 116ms (Views: 112.0ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 20:18:22 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 61ms (Views: 59.0ms | ActiveRecord: 0.4ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 20:18:30 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 3]]
  Rendered establishments/show.html.erb within layouts/application (57.8ms)
Completed 200 OK in 192ms (Views: 108.5ms | ActiveRecord: 1.1ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 20:18:38 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 83ms (Views: 79.9ms | ActiveRecord: 0.4ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT "carts".* FROM "carts"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "carts" ("status", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["status", "new"], ["created_at", "2017-08-28 14:22:49.414824"], ["updated_at", "2017-08-28 14:22:49.414824"]]
  [1m[35m (78.3ms)[0m  commit transaction


Started GET "/" for 127.0.0.1 at 2017-08-28 20:29:53 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.5ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (7.1ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 89ms (Views: 82.4ms | ActiveRecord: 2.0ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 20:30:57 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (1.9ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 68ms (Views: 66.4ms | ActiveRecord: 0.6ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 20:31:04 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (23.3ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 91ms (Views: 86.8ms | ActiveRecord: 1.7ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 20:33:33 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (1.9ms)
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 75ms (Views: 71.1ms | ActiveRecord: 1.4ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 20:34:37 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (2.8ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 73ms (Views: 70.2ms | ActiveRecord: 0.9ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 20:37:12 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (2.0ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 72ms (Views: 69.3ms | ActiveRecord: 0.8ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 20:37:42 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (2.7ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 69ms (Views: 65.8ms | ActiveRecord: 0.9ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 20:45:53 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (60.1ms)
Completed 500 Internal Server Error in 78ms (ActiveRecord: 1.8ms)

ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    30: 						<td><%= truncate(dish.description, length: 100) %></td>
    31: 						<td><%= dish.price %> сом</td>
    32: 						<td>
    33: 							<%= form_for @line_item do |f| %>
    34: 								<%= f.label :Количество %>
    35: 								<%= f.number_field :quantity %> <br>
    36: 
  app/views/establishments/show.html.erb:33:in `block in _app_views_establishments_show_html_erb___3824901201878938690_70119389005820'
  app/views/establishments/show.html.erb:27:in `_app_views_establishments_show_html_erb___3824901201878938690_70119389005820'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (12.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (41.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (30.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (72.1ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 20:46:30 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (2.5ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (18.3ms)
Completed 500 Internal Server Error in 39ms (ActiveRecord: 3.8ms)

ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    30: 						<td><%= truncate(dish.description, length: 100) %></td>
    31: 						<td><%= dish.price %> сом</td>
    32: 						<td>
    33: 							<%= form_for @line_item do |f| %>
    34: 								<%= f.label :Количество %>
    35: 								<%= f.number_field :quantity %> <br>
    36: 
  app/views/establishments/show.html.erb:33:in `block in _app_views_establishments_show_html_erb___3824901201878938690_70119391077620'
  app/views/establishments/show.html.erb:27:in `_app_views_establishments_show_html_erb___3824901201878938690_70119391077620'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (34.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (47.8ms)
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 20:47:15 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (15.3ms)
Completed 500 Internal Server Error in 31ms (ActiveRecord: 1.6ms)

ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    30: 						<td><%= truncate(dish.description, length: 100) %></td>
    31: 						<td><%= dish.price %> сом</td>
    32: 						<td>
    33: 							<%= form_for @line_item do |f| %>
    34: 								<%= f.label :Количество %>
    35: 								<%= f.number_field :quantity %> <br>
    36: 
  app/views/establishments/show.html.erb:33:in `block in _app_views_establishments_show_html_erb___3824901201878938690_70119391077620'
  app/views/establishments/show.html.erb:27:in `_app_views_establishments_show_html_erb___3824901201878938690_70119391077620'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (35.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (51.3ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 20:48:26 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (40.8ms)
Completed 500 Internal Server Error in 66ms (ActiveRecord: 1.9ms)

ActionView::Template::Error (undefined method `line_items_path' for #<#<Class:0x007f8be1379898>:0x007f8be134fcc8>):
    30: 						<td><%= truncate(dish.description, length: 100) %></td>
    31: 						<td><%= dish.price %> сом</td>
    32: 						<td>
    33: 							<%= form_for @line_item do |f| %>
    34: 								<%= f.label :Количество %>
    35: 								<%= f.number_field :quantity %> <br>
    36: 
  app/views/establishments/show.html.erb:33:in `block in _app_views_establishments_show_html_erb___3824901201878938690_70119391077620'
  app/views/establishments/show.html.erb:27:in `_app_views_establishments_show_html_erb___3824901201878938690_70119391077620'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (13.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (38.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (26.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (48.9ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 20:48:54 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (20.9ms)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 0.4ms)

ActionView::Template::Error (undefined method `line_items_path' for #<#<Class:0x007f8be1379898>:0x007f8be28364c0>):
    30: 						<td><%= truncate(dish.description, length: 100) %></td>
    31: 						<td><%= dish.price %> сом</td>
    32: 						<td>
    33: 							<%= form_for @line_item do |f| %>
    34: 
    35: 							<% end %>
    36: 						</td>
  app/views/establishments/show.html.erb:33:in `block in _app_views_establishments_show_html_erb___3824901201878938690_70119388719320'
  app/views/establishments/show.html.erb:27:in `_app_views_establishments_show_html_erb___3824901201878938690_70119388719320'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (34.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (25.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (48.3ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 20:49:18 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (32.8ms)
Completed 500 Internal Server Error in 57ms (ActiveRecord: 1.9ms)

ActionView::Template::Error (undefined method `line_items_path' for #<#<Class:0x007f8be2f94b18>:0x007f8be2f8c3c8>):
    30: 						<td><%= truncate(dish.description, length: 100) %></td>
    31: 						<td><%= dish.price %> сом</td>
    32: 						<td>
    33: 							<%= form_for @line_item do |f| %>
    34: 								<%= f.label :Количество %>
    35: 								<%= f.number_field :quantity %> <br>
    36: 
  app/views/establishments/show.html.erb:33:in `block in _app_views_establishments_show_html_erb___3824901201878938690_70119392564980'
  app/views/establishments/show.html.erb:27:in `_app_views_establishments_show_html_erb___3824901201878938690_70119392564980'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (11.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (38.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (26.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (50.3ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 20:51:06 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (80.0ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 184ms (Views: 164.2ms | ActiveRecord: 3.2ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 20:51:43 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (6.7ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 78ms (Views: 74.6ms | ActiveRecord: 0.7ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 20:52:09 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (5.3ms)
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 88ms (Views: 83.8ms | ActiveRecord: 1.0ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 20:53:33 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (7.0ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 68ms (Views: 64.4ms | ActiveRecord: 0.9ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 20:53:48 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (4.4ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 69ms (Views: 66.2ms | ActiveRecord: 0.9ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 20:54:00 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (4.8ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 75ms (Views: 72.0ms | ActiveRecord: 0.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 20:54:09 +0600

ActionController::RoutingError (uninitialized constant LineItemsController):
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:261:in `const_get'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:261:in `block in constantize'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `each'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `inject'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `constantize'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:70:in `controller_reference'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:60:in `controller'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:39:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (15.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (78.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (27.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (53.7ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 20:59:54 +0600

ActionController::RoutingError (uninitialized constant LineItemsController):
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:261:in `const_get'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:261:in `block in constantize'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `each'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `inject'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `constantize'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:70:in `controller_reference'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:60:in `controller'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:39:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (4.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (69.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (25.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (53.8ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 21:03:14 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (32.6ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 2618ms (Views: 2596.9ms | ActiveRecord: 3.0ms)


Started GET "/assets/line_items.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2017-08-28 21:03:17 +0600


Started GET "/assets/line_items.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for 127.0.0.1 at 2017-08-28 21:03:17 +0600


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 21:04:03 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (14.3ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 109ms (Views: 88.9ms | ActiveRecord: 3.0ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 21:04:06 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (13.5ms)
Completed 500 Internal Server Error in 31ms (ActiveRecord: 1.6ms)

ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    30: 						<td><%= truncate(dish.description, length: 100) %></td>
    31: 						<td><%= dish.price %> сом</td>
    32: 						<td>
    33: 							<%= form_for @line_item do |f| %>
    34: 								<%= f.hidden_field :title, value: dish.title %>
    35: 								<%= f.hidden_field :price, value: dish.price %>
    36: 								<%= f.number_field :quantity %>							
  app/views/establishments/show.html.erb:33:in `block in _app_views_establishments_show_html_erb___3824901201878938690_70119377638140'
  app/views/establishments/show.html.erb:27:in `_app_views_establishments_show_html_erb___3824901201878938690_70119377638140'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (11.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (39.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (27.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (52.1ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 21:05:47 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (16.6ms)
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 128ms (Views: 100.5ms | ActiveRecord: 3.8ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 21:05:51 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"CxXm5VPiT9g7dNc5zDx6+rJA/Uoz7V3Wt23+YqadaYcEuXA6lGwqxiKS1pkCykCGY5wzlD08510TPvh8Gu+QaQ==", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "quantity"=>"5"}, "commit"=>"Добавить"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)

ActiveRecord::UnknownAttributeError (unknown attribute 'quantity' for Dish.):
  app/controllers/line_items_controller.rb:3:in `create'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (10.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (6.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (42.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (26.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (54.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 21:06:42 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"CxXm5VPiT9g7dNc5zDx6+rJA/Uoz7V3Wt23+YqadaYcEuXA6lGwqxiKS1pkCykCGY5wzlD08510TPvh8Gu+QaQ==", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "quantity"=>"5"}, "commit"=>"Добавить"}
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["title", "Пицца"], ["quantity", 5], ["price", 500.0], ["created_at", "2017-08-28 15:06:42.546574"], ["updated_at", "2017-08-28 15:06:42.546574"]]
  [1m[36m (78.8ms)[0m  [1mcommit transaction[0m
Completed 500 Internal Server Error in 99ms (ActiveRecord: 81.0ms)

ActionController::UrlGenerationError (No route matches {:action=>"show", :controller=>"establishments"} missing required keys: [:id]):
  app/controllers/line_items_controller.rb:7:in `create'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (36.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (24.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (55.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 21:06:56 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"CxXm5VPiT9g7dNc5zDx6+rJA/Uoz7V3Wt23+YqadaYcEuXA6lGwqxiKS1pkCykCGY5wzlD08510TPvh8Gu+QaQ==", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "quantity"=>"5"}, "commit"=>"Добавить"}
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Пицца"], ["quantity", 5], ["price", 500.0], ["created_at", "2017-08-28 15:06:56.609320"], ["updated_at", "2017-08-28 15:06:56.609320"]]
  [1m[35m (105.2ms)[0m  commit transaction
Redirected to http://localhost:3000/establishments
Completed 302 Found in 124ms (ActiveRecord: 107.4ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:06:56 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (6.9ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 91ms (Views: 85.5ms | ActiveRecord: 1.3ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 21:07:01 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.6ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (31.9ms)
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 115ms (Views: 107.3ms | ActiveRecord: 2.2ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 21:07:11 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (5.8ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 96ms (Views: 92.0ms | ActiveRecord: 0.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 21:07:14 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"kZO9WOUoCih37CUX7MZIQqPAVQRmUbr0Bxvq02F6nWyePyuHIqZvNm4KJLciMHI+chyb2miAAH+jSOzN3Qhkgg==", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "quantity"=>"5"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Пицца"], ["quantity", 5], ["price", 500.0], ["created_at", "2017-08-28 15:07:14.916224"], ["updated_at", "2017-08-28 15:07:14.916224"]]
  [1m[35m (104.8ms)[0m  commit transaction
Redirected to http://localhost:3000/establishments
Completed 302 Found in 112ms (ActiveRecord: 105.3ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:07:15 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.0ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 72ms (Views: 69.6ms | ActiveRecord: 0.8ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 21:10:42 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (36.2ms)
Completed 500 Internal Server Error in 43ms (ActiveRecord: 0.5ms)

ActionView::Template::Error (undefined local variable or method `current_card' for #<#<Class:0x007f8bb03ad098>:0x007f8be2d7b7a0>):
    33: 							<%= form_for @line_item do |f| %>
    34: 								<%= f.hidden_field :title, value: dish.title %>
    35: 								<%= f.hidden_field :price, value: dish.price %>
    36: 								<%= f.hidden_field :card_id, value: current_card.id %>
    37: 								<%= f.number_field :quantity %>							
    38: 						</td>
    39: 						<td><%= f.submit "Добавить" %></td>
  app/views/establishments/show.html.erb:36:in `block (2 levels) in _app_views_establishments_show_html_erb___3824901201878938690_70119391482100'
  app/views/establishments/show.html.erb:33:in `block in _app_views_establishments_show_html_erb___3824901201878938690_70119391482100'
  app/views/establishments/show.html.erb:27:in `_app_views_establishments_show_html_erb___3824901201878938690_70119391482100'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (11.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (39.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (25.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (51.6ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 21:11:12 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (9.7ms)
  [1m[35mCACHE (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 90ms (Views: 85.1ms | ActiveRecord: 1.2ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 21:14:06 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (9.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 74ms (Views: 70.2ms | ActiveRecord: 1.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 21:14:10 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"sZtWZFt9qS7tAD/bkFIvqn/1g1MD0SeFhJjjPcu5uge+N8C7nPPMMPTmPntepBXWrilNjQ0AnQ4gy+Ujd8tD6Q==", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "card_id"=>"1", "quantity"=>"5"}, "commit"=>"Добавить"}
Unpermitted parameter: card_id
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Пицца"], ["quantity", 5], ["price", 500.0], ["created_at", "2017-08-28 15:14:10.067028"], ["updated_at", "2017-08-28 15:14:10.067028"]]
  [1m[35m (145.8ms)[0m  commit transaction
Redirected to http://localhost:3000/establishments
Completed 302 Found in 155ms (ActiveRecord: 147.4ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:14:10 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.3ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 60ms (Views: 58.2ms | ActiveRecord: 0.8ms)
  [1m[36mLineItem Load (2.2ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:15:05 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.5ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (6.4ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 96ms (Views: 90.8ms | ActiveRecord: 1.7ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:15:58 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.9ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
Completed 200 OK in 64ms (Views: 62.0ms | ActiveRecord: 0.6ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:16:07 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.2ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 500 Internal Server Error in 103ms (ActiveRecord: 1.0ms)

ActionView::Template::Error (undefined method `id' for #<ActiveRecord::Associations::CollectionProxy []>):
    38:           <% if current_cart.line_items.count == 0 then %>
    39:             <ol class="dropdown-menu">
    40:               <li><b>Ваша корзина пуста!</b></li>
    41:               <%= current_cart.line_items.id %>
    42:             </ol>
    43:           <% else %>
    44:             <ol class="dropdown-menu">
  app/views/layouts/application.html.erb:41:in `_app_views_layouts_application_html_erb___355147912018420671_70118971858160'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (40.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (24.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (50.9ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:16:19 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (3.4ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 500 Internal Server Error in 84ms (ActiveRecord: 0.9ms)

ActionView::Template::Error (undefined method `id' for nil:NilClass):
    38:           <% if current_cart.line_items.count == 0 then %>
    39:             <ol class="dropdown-menu">
    40:               <li><b>Ваша корзина пуста!</b></li>
    41:               <%= current_cart.line_items[0].id %>
    42:             </ol>
    43:           <% else %>
    44:             <ol class="dropdown-menu">
  app/views/layouts/application.html.erb:41:in `_app_views_layouts_application_html_erb___355147912018420671_70119399487180'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (33.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (47.9ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:16:24 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (3.0ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 500 Internal Server Error in 77ms (ActiveRecord: 1.0ms)

ActionView::Template::Error (undefined method `title' for nil:NilClass):
    38:           <% if current_cart.line_items.count == 0 then %>
    39:             <ol class="dropdown-menu">
    40:               <li><b>Ваша корзина пуста!</b></li>
    41:               <%= current_cart.line_items[0].title %>
    42:             </ol>
    43:           <% else %>
    44:             <ol class="dropdown-menu">
  app/views/layouts/application.html.erb:41:in `_app_views_layouts_application_html_erb___355147912018420671_70119385233620'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (31.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.1ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:16:53 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.8ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 63ms (Views: 60.9ms | ActiveRecord: 0.6ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:19:55 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (6.7ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 104ms (Views: 98.9ms | ActiveRecord: 1.6ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:20:22 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (3.1ms)
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 77ms (Views: 74.7ms | ActiveRecord: 0.9ms)
  [1m[35mLineItem Load (0.6ms)[0m  SELECT "line_items".* FROM "line_items"
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 4]]
  [1m[35m (74.3ms)[0m  commit transaction
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 3]]
  [1m[35m (73.9ms)[0m  commit transaction
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 2]]
  [1m[35m (64.7ms)[0m  commit transaction
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  [1m[35m (200.0ms)[0m  commit transaction
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 21:21:42 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.5ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (30.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 110ms (Views: 96.0ms | ActiveRecord: 2.1ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 21:23:40 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (27.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 114ms (Views: 96.5ms | ActiveRecord: 2.8ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 21:24:30 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.5ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (30.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 129ms (Views: 107.8ms | ActiveRecord: 3.6ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 21:24:35 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"xyW9VlJfeRqQLnmrM/h5CWBDDYT3QB1ubNONkvUTgOnIiSuJldEcBInIeAv9DkN1sZ/DWvmRp+XIgIuMSWF5Bw==", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "card_id"=>"1", "quantity"=>"5"}, "commit"=>"Добавить"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)

ActiveRecord::UnknownAttributeError (unknown attribute 'card_id' for LineItem.):
  app/controllers/line_items_controller.rb:7:in `create'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (11.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (37.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (29.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (53.9ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 21:25:19 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (25.2ms)
  [1m[35mCACHE (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 131ms (Views: 110.1ms | ActiveRecord: 3.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 21:25:22 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"XRv2hAQFFE4kn8L7N9ph/fkCL9sxz9T0aCB6BbTP2dNSt2Bbw4txUD15w1v5LFuBKN7hBT8ebn/Mc3wbCL0gPQ==", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "card_id"=>"1", "quantity"=>"4"}, "commit"=>"Добавить"}
Unpermitted parameter: card_id
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Пицца"], ["quantity", 4], ["price", 500.0], ["created_at", "2017-08-28 15:25:22.510113"], ["updated_at", "2017-08-28 15:25:22.510113"]]
  [1m[35m (167.5ms)[0m  commit transaction
Redirected to http://localhost:3000/establishments
Completed 302 Found in 175ms (ActiveRecord: 168.2ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:25:22 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.1ms)
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 72ms (Views: 69.6ms | ActiveRecord: 0.9ms)
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1[0m


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:25:50 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.5ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (6.7ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 117ms (Views: 111.4ms | ActiveRecord: 2.1ms)
  [1m[35mLineItem Load (0.4ms)[0m  SELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.1ms)[0m  UPDATE "line_items" SET "id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?  [["id", 1], ["updated_at", "2017-08-28 15:26:17.672234"], ["id", 5]]
  [1m[36m (60.5ms)[0m  [1mcommit transaction[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items"


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:28:09 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.7ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (8.6ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 85ms (Views: 78.9ms | ActiveRecord: 2.1ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 21:28:12 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.5ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (23.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 115ms (Views: 101.0ms | ActiveRecord: 2.2ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 21:28:20 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (7.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 86ms (Views: 81.3ms | ActiveRecord: 1.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 21:28:23 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O8oR2ay3DuDbxUZ+3YJ81Q2mmMpE0E22XwGqY77fJCI0ZocGazlr/sIjR94TdEap3HpWFEoB9z37Uqx9Aq3dzA==", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "card_id"=>"1", "quantity"=>"5"}, "commit"=>"Добавить"}
Unpermitted parameter: card_id
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Пицца"], ["quantity", 5], ["price", 500.0], ["created_at", "2017-08-28 15:28:23.497785"], ["updated_at", "2017-08-28 15:28:23.497785"]]
  [1m[35m (64.5ms)[0m  commit transaction
Redirected to http://localhost:3000/establishments
Completed 302 Found in 70ms (ActiveRecord: 65.0ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:28:23 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.5ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.8ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 72ms (Views: 69.1ms | ActiveRecord: 0.9ms)
  [1m[36mLineItem Load (0.5ms)[0m  [1mSELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 6]]
  [1m[36m (103.3ms)[0m  [1mcommit transaction[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 1]]
  [1m[36m (92.4ms)[0m  [1mcommit transaction[0m
  [1m[35mLineItem Load (0.5ms)[0m  SELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:28:58 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.0ms)
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 77ms (Views: 74.3ms | ActiveRecord: 1.0ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 21:29:00 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 3]]
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (7.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 97ms (Views: 93.0ms | ActiveRecord: 1.1ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 21:29:10 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 3]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (4.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 77ms (Views: 73.9ms | ActiveRecord: 1.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 21:29:13 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RMFhpZAUm/ci3qUvtkdWBB9uxInkCdp9MHhL5pfQActLbfd6V5r+6Ts4pI94sWx4zrIKV+rYYPaUK034K6L4JQ==", "line_item"=>{"title"=>"Ice Cream", "price"=>"100.0", "card_id"=>"1", "quantity"=>"5"}, "commit"=>"Добавить"}
Unpermitted parameter: card_id
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["title", "Ice Cream"], ["quantity", 5], ["price", 100.0], ["created_at", "2017-08-28 15:29:13.093072"], ["updated_at", "2017-08-28 15:29:13.093072"]]
  [1m[36m (183.4ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/establishments
Completed 302 Found in 189ms (ActiveRecord: 183.8ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:29:13 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (3.0ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 74ms (Views: 71.6ms | ActiveRecord: 0.9ms)
  [1m[35mLineItem Load (0.4ms)[0m  SELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.5ms)[0m  [1mSELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 7]]
  [1m[35m (80.5ms)[0m  commit transaction


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 21:29:40 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (15.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 99ms (Views: 95.7ms | ActiveRecord: 1.1ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 21:29:48 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (9.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 91ms (Views: 86.9ms | ActiveRecord: 1.2ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 21:29:51 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"pyU+EwbJvsNy2o7tDe8i7tkLW7IAxCCa3PQFN3ijBzuoiajMwUfb3Ws8j03DGRiSCNeVbA4VmhF4pwMpxNH+1Q==", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"5"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 5], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-28 15:29:51.508951"], ["updated_at", "2017-08-28 15:29:51.508951"]]
  [1m[36m (98.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/establishments
Completed 302 Found in 105ms (ActiveRecord: 98.7ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:29:51 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.0ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 500 Internal Server Error in 73ms (ActiveRecord: 0.6ms)

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    41:             </ol>
    42:           <% else %>
    43:             <ol class="dropdown-menu">
    44:               <% @line_items.each do |line_item| %>
    45:                 <li>
    46:                   <ul>
    47:                     <li><%= line_item.title %></li>
  app/views/layouts/application.html.erb:44:in `_app_views_layouts_application_html_erb___355147912018420671_70119399667680'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (32.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (51.0ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:30:27 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.5ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (3.1ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 79ms (Views: 75.6ms | ActiveRecord: 1.7ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 21:30:44 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (9.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 113ms (Views: 109.6ms | ActiveRecord: 1.3ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 21:30:49 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (5.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 83ms (Views: 79.5ms | ActiveRecord: 1.3ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 21:30:52 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"tfBRkbksZl3KsC9bgDg273A/V3Mhm/OW4bq69AcPOWm6XMdOfqIDQ9NWLvtOzgyToeOZrS9KSR1F6bzqu33Ahw==", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"4"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 4], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-28 15:30:52.324285"], ["updated_at", "2017-08-28 15:30:52.324285"]]
  [1m[35m (90.5ms)[0m  commit transaction
Redirected to http://localhost:3000/establishments
Completed 302 Found in 98ms (ActiveRecord: 91.4ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:30:52 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.8ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 65ms (Views: 63.2ms | ActiveRecord: 0.7ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:32:27 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.9ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.8ms)
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 112ms (Views: 108.2ms | ActiveRecord: 1.9ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:32:48 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (3.2ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 74ms (Views: 71.4ms | ActiveRecord: 1.0ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:33:41 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.7ms)
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 82ms (Views: 79.3ms | ActiveRecord: 1.3ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:33:54 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.5ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (3.0ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 80ms (Views: 76.5ms | ActiveRecord: 1.2ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:36:22 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.5ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (8.1ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 500 Internal Server Error in 126ms (ActiveRecord: 2.7ms)

ActionView::Template::Error (undefined local variable or method `pre_total_price' for #<#<Class:0x007f8be2abb1c8>:0x007f8be2ab7028>):
    53:                   <td><%= line_item.title %></td>
    54:                   <td><%= line_item.price %></td>
    55:                   <td><%= line_item.quantity %></td>
    56:                   <td><%= pre_total_price %></td>
    57:                 </tr>
    58:               <% end %>
    59:               </table>
  app/views/layouts/application.html.erb:56:in `block in _app_views_layouts_application_html_erb___355147912018420671_70119390001140'
  app/views/layouts/application.html.erb:51:in `_app_views_layouts_application_html_erb___355147912018420671_70119390001140'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (34.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (47.4ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:36:50 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (3.0ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 500 Internal Server Error in 90ms (ActiveRecord: 0.9ms)

ActionView::Template::Error (undefined method `line_item' for #<LineItem:0x007f8bb0897888>):
    53:                   <td><%= line_item.title %></td>
    54:                   <td><%= line_item.price %></td>
    55:                   <td><%= line_item.quantity %></td>
    56:                   <td><%= line_item.pre_total_price %></td>
    57:                 </tr>
    58:               <% end %>
    59:               </table>
  app/models/line_item.rb:5:in `pre_total_price'
  app/views/layouts/application.html.erb:56:in `block in _app_views_layouts_application_html_erb___355147912018420671_70118970947960'
  app/views/layouts/application.html.erb:51:in `_app_views_layouts_application_html_erb___355147912018420671_70118970947960'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (34.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (27.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (51.1ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:37:33 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.5ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (7.7ms)
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.5ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 109ms (Views: 101.0ms | ActiveRecord: 2.3ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 21:37:44 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mDish Load (0.5ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 3]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (26.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 106ms (Views: 101.2ms | ActiveRecord: 2.1ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 21:38:02 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 3]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (4.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 82ms (Views: 79.1ms | ActiveRecord: 1.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 21:38:22 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"pA8bzq2bApOhEqVqYJDu+JrtTq+fRKPfzcJjrP04Lwmro40RahVnjbj0pMquZtSESzGAcZGVGVRpkWWyQUrW5w==", "line_item"=>{"title"=>"Ice Cream", "price"=>"100.0", "cart_id"=>"1", "quantity"=>"4"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Ice Cream"], ["quantity", 4], ["price", 100.0], ["cart_id", 1], ["created_at", "2017-08-28 15:38:22.905393"], ["updated_at", "2017-08-28 15:38:22.905393"]]
  [1m[36m (74.9ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/establishments
Completed 302 Found in 80ms (ActiveRecord: 75.3ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:38:22 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.2ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 77ms (Views: 75.0ms | ActiveRecord: 1.0ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 21:40:39 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 3]]
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (5.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 93ms (Views: 90.0ms | ActiveRecord: 1.2ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 21:40:47 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 3]]
  [1m[35mCart Load (0.7ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (5.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 77ms (Views: 73.9ms | ActiveRecord: 1.3ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:40:49 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (3.1ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 119ms (Views: 116.7ms | ActiveRecord: 1.0ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:40:49 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.4ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 70ms (Views: 67.7ms | ActiveRecord: 0.9ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 21:40:52 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (6.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 95ms (Views: 90.0ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 21:41:08 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.6ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 71ms (Views: 69.5ms | ActiveRecord: 1.0ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 21:41:11 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 3]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (4.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 86ms (Views: 83.8ms | ActiveRecord: 1.0ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 21:41:19 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 3]]
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (5.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 87ms (Views: 81.5ms | ActiveRecord: 1.4ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 21:41:22 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"k6ftlhwzKNIbU5xeoNlMVyY+2CDtF3s5ox9UyS6yUmGcC3tJ271NzAK1nf5uL3Yr9+IW/uPGwbIHTFLXksCrjw==", "line_item"=>{"title"=>"Ice Cream", "price"=>"100.0", "cart_id"=>"1", "quantity"=>"5"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Ice Cream"], ["quantity", 5], ["price", 100.0], ["cart_id", 1], ["created_at", "2017-08-28 15:41:22.652273"], ["updated_at", "2017-08-28 15:41:22.652273"]]
  [1m[35m (100.6ms)[0m  commit transaction
Redirected to http://localhost:3000/establishments
Completed 302 Found in 106ms (ActiveRecord: 101.1ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:41:22 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.5ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.9ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 79ms (Views: 77.0ms | ActiveRecord: 1.0ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-28 21:42:57 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (2.9ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 89ms (Views: 86.1ms | ActiveRecord: 0.9ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:42:59 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (3.8ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 98ms (Views: 95.1ms | ActiveRecord: 1.0ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:43:02 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.1ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 92ms (Views: 89.4ms | ActiveRecord: 0.8ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:43:03 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (6.0ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 102ms (Views: 99.8ms | ActiveRecord: 1.0ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-28 21:43:06 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (4.5ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 110ms (Views: 107.5ms | ActiveRecord: 1.3ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:43:09 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (5.3ms)
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 133ms (Views: 130.1ms | ActiveRecord: 1.4ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 21:43:12 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (9.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 122ms (Views: 117.9ms | ActiveRecord: 1.3ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 21:43:32 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (31.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 128ms (Views: 106.1ms | ActiveRecord: 3.5ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 21:43:34 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.7ms)
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 101ms (Views: 97.7ms | ActiveRecord: 1.3ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 21:43:36 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 3]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (4.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 99ms (Views: 95.5ms | ActiveRecord: 1.0ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 21:43:40 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 3]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (5.2ms)
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 75ms (Views: 71.4ms | ActiveRecord: 1.3ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 21:43:43 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+L1Z2F7YKfWOpqPgpKZ+fCNXzQYZXe5QHBjRLYflGHr3Ec8HmVZM65dAokBqUEQA8osD2BeMVNu4S9czO5fhlA==", "line_item"=>{"title"=>"Ice Cream", "price"=>"100.0", "cart_id"=>"1", "quantity"=>"4"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Ice Cream"], ["quantity", 4], ["price", 100.0], ["cart_id", 1], ["created_at", "2017-08-28 15:43:43.277997"], ["updated_at", "2017-08-28 15:43:43.277997"]]
  [1m[36m (750.6ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/establishments
Completed 302 Found in 756ms (ActiveRecord: 751.1ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:43:44 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (1.8ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 68ms (Views: 65.5ms | ActiveRecord: 0.8ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:46:39 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.5ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (8.1ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 110ms (Views: 102.9ms | ActiveRecord: 2.7ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 21:46:43 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (26.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 133ms (Views: 127.3ms | ActiveRecord: 2.0ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 21:46:47 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (8.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 80ms (Views: 76.0ms | ActiveRecord: 1.2ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 21:46:50 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"nj9MPhxqeXMj81TPqf7s8vvuuzFC89QFPBeMuRsEusuRk9rh2+QcbToVVW9nCNaOKjJ170wibo6YRIqnp3ZDJQ==", "line_item"=>{"title"=>"Sushi", "price"=>"320.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Sushi"], ["quantity", 1], ["price", 320.0], ["cart_id", 1], ["created_at", "2017-08-28 15:46:50.041692"], ["updated_at", "2017-08-28 15:46:50.041692"]]
  [1m[35m (60.4ms)[0m  commit transaction
Redirected to http://localhost:3000/establishments
Completed 302 Found in 67ms (ActiveRecord: 61.1ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:46:50 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.5ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 74ms (Views: 71.5ms | ActiveRecord: 1.0ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-28 21:49:03 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (4.8ms)
Completed 200 OK in 83ms (Views: 80.5ms | ActiveRecord: 0.4ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:52:43 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.5ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (8.2ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 134ms (Views: 126.5ms | ActiveRecord: 2.9ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:53:22 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.5ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (7.4ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 101ms (Views: 95.5ms | ActiveRecord: 2.2ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:55:14 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.9ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 78ms (Views: 75.1ms | ActiveRecord: 1.0ms)


Started GET "/line_items/8" for 127.0.0.1 at 2017-08-28 21:55:16 +0600

AbstractController::ActionNotFound (The action 'show' could not be found for LineItemsController):
  actionpack (4.2.6) lib/abstract_controller/base.rb:132:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (24.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (49.0ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:55:20 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (3.4ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 88ms (Views: 85.1ms | ActiveRecord: 1.1ms)


Started GET "/line_items/13" for 127.0.0.1 at 2017-08-28 21:55:24 +0600

AbstractController::ActionNotFound (The action 'show' could not be found for LineItemsController):
  actionpack (4.2.6) lib/abstract_controller/base.rb:132:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (26.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (49.1ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:55:26 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.5ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 87ms (Views: 84.6ms | ActiveRecord: 0.8ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:56:17 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.5ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (8.0ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 500 Internal Server Error in 126ms (ActiveRecord: 2.4ms)

ActionView::Template::Error (undefined method `line_item' for #<#<Class:0x007f8be2d83568>:0x007f8be236f630>):
    55:                   <td><%= line_item.price %></td>
    56:                   <td><%= line_item.quantity %></td>
    57:                   <td><%= line_item.pre_total_price %> сом</td>
    58:                   <td><%= link_to 'Удалить', line_item(line_item) %></td>
    59:                 </tr>
    60:               <% end %>
    61:               </table>
  app/views/layouts/application.html.erb:58:in `block in _app_views_layouts_application_html_erb___355147912018420671_70119386210500'
  app/views/layouts/application.html.erb:52:in `_app_views_layouts_application_html_erb___355147912018420671_70119386210500'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (29.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (53.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (47.3ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:57:14 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.6ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 74ms (Views: 70.7ms | ActiveRecord: 1.0ms)


Started DELETE "/line_items/8" for 127.0.0.1 at 2017-08-28 21:57:16 +0600
Processing by LineItemsController#destroy as HTML
  Parameters: {"authenticity_token"=>"dXEWJxAHt8piP6mmoUN3oPeUH/TXPmnLCROMmbePgVJ63YD414nS1HvZqAZvtU3cJkjRKtnv00CtQIqHC/14vA==", "id"=>"8"}
  [1m[35mLineItem Load (0.4ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 8]]
  [1m[36m (118.9ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/establishments
Completed 302 Found in 124ms (ActiveRecord: 119.7ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:57:16 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.1ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 63ms (Views: 61.1ms | ActiveRecord: 0.8ms)


Started DELETE "/line_items/10" for 127.0.0.1 at 2017-08-28 21:57:20 +0600
Processing by LineItemsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ngRvaHtWlNKj00U2NxOgb53HLrrGboQd1f2CG1VJNDWRqPm3vNjxzLo1RJb55ZoTTBvgZMi/PpZxroQF6TvN2w==", "id"=>"10"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 10]]
  [1m[35m (76.0ms)[0m  commit transaction
Redirected to http://localhost:3000/establishments
Completed 302 Found in 80ms (ActiveRecord: 76.3ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:57:20 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.6ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 72ms (Views: 69.8ms | ActiveRecord: 0.8ms)


Started DELETE "/line_items/11" for 127.0.0.1 at 2017-08-28 21:57:22 +0600
Processing by LineItemsController#destroy as HTML
  Parameters: {"authenticity_token"=>"7BJqhmhhTLro111yXD03C2bGzfXFqAYPD8N/AO5RdRTjvvxZr+8ppPExXNKSyw13txoDK8t5vISrkHkeUiOM+g==", "id"=>"11"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 11]]
  [1m[36m (87.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/establishments
Completed 302 Found in 91ms (ActiveRecord: 87.4ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 21:57:22 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (3.0ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 68ms (Views: 66.2ms | ActiveRecord: 0.9ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 22:05:27 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 3]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (20.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 100ms (Views: 96.1ms | ActiveRecord: 2.0ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 22:05:32 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.5ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 73ms (Views: 70.8ms | ActiveRecord: 0.7ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 22:14:14 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 3]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (4.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 73ms (Views: 70.6ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 22:17:44 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (194.0ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (196.0ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 2550ms (Views: 1891.2ms | ActiveRecord: 194.6ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 22:18:29 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 3]]
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (7.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 93ms (Views: 89.7ms | ActiveRecord: 1.3ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 22:18:39 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 3]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (4.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 80ms (Views: 76.4ms | ActiveRecord: 1.5ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 22:18:43 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"UqEvOT8urORKcD29nWEQoULMqyvzXkKe020JhI0Xf8pdDbnm+KDJ+lOWPB1TlyrdkxBl9f2P+BV3Pg+aMWWGJA==", "line_item"=>{"title"=>"Ice Cream", "price"=>"100.0", "cart_id"=>"1", "quantity"=>"4"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (79.5ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Ice Cream"], ["quantity", 4], ["price", 100.0], ["cart_id", 1], ["created_at", "2017-08-28 16:18:43.175892"], ["updated_at", "2017-08-28 16:18:43.175892"]]
  [1m[36m (198.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/establishments
Completed 302 Found in 283ms (ActiveRecord: 277.7ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 22:18:43 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (1.9ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 75ms (Views: 72.7ms | ActiveRecord: 0.8ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 22:34:38 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (52.8ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (64.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 787ms (Views: 685.5ms | ActiveRecord: 53.6ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 22:34:41 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (9.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 74ms (Views: 69.8ms | ActiveRecord: 1.2ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 22:38:54 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (6.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 75ms (Views: 71.4ms | ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 22:38:55 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (4.5ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 72ms (Views: 69.3ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 22:39:26 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (16.0ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 87ms (Views: 84.9ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 22:43:33 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.3ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 85ms (Views: 83.2ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 22:43:38 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.3ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 77ms (Views: 75.4ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 22:43:49 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (5.1ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 101ms (Views: 98.6ms | ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 22:45:32 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.9ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 73ms (Views: 70.9ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 22:57:42 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.9ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 68ms (Views: 65.7ms | ActiveRecord: 0.8ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-28 22:58:28 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (1.7ms)
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 82ms (Views: 78.6ms | ActiveRecord: 1.4ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:09:16 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (3.3ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 63ms (Views: 61.2ms | ActiveRecord: 0.8ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 23:09:17 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 3]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (3.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 82ms (Views: 79.9ms | ActiveRecord: 0.8ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 23:09:22 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 3]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (3.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 64ms (Views: 60.5ms | ActiveRecord: 0.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 23:09:24 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/wR7tZMCUXmgixSpXKqSuagG/1tzJa74I9NwshWSoO7wqO1qVIw0Z7ltFQmSXKjFedoxhX30FHOHgHasqeBZAA==", "line_item"=>{"title"=>"Ice Cream", "price"=>"100.0", "cart_id"=>"1", "quantity"=>"4"}, "commit"=>"Добавить"}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (41.9ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Ice Cream"], ["quantity", 4], ["price", 100.0], ["cart_id", 1], ["created_at", "2017-08-28 17:09:24.681151"], ["updated_at", "2017-08-28 17:09:24.681151"]]
  [1m[35m (76.4ms)[0m  commit transaction
Redirected to http://localhost:3000/establishments
Completed 302 Found in 125ms (ActiveRecord: 118.5ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:09:24 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.7ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 64ms (Views: 62.3ms | ActiveRecord: 1.0ms)


Started DELETE "/line_items/15" for 127.0.0.1 at 2017-08-28 23:09:29 +0600
Processing by LineItemsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Yue2dIvIisbiq3pJ5vYhLD/EH+NZLvNu2uTKxPkLe5ZtSyCrTEbv2PtNe+koABtQ7hjRPVf/SeV+t8zaRXmCeA==", "id"=>"15"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 15]]
  [1m[36m (78.7ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/establishments
Completed 302 Found in 82ms (ActiveRecord: 79.1ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:09:29 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.1ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 61ms (Views: 59.4ms | ActiveRecord: 0.8ms)


Started DELETE "/line_items/14" for 127.0.0.1 at 2017-08-28 23:09:31 +0600
Processing by LineItemsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZN8O2wrHwWEuOlmpDwp64wIogCLxD4Gvk03xSjt2Tbxrc5gEzUmkfzfcWAnB/ECf0/RO/P/eOyQ3HvdUhwS0Ug==", "id"=>"14"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 14]]
  [1m[35m (122.0ms)[0m  commit transaction
Redirected to http://localhost:3000/establishments
Completed 302 Found in 126ms (ActiveRecord: 122.4ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:09:32 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.2ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 59ms (Views: 57.0ms | ActiveRecord: 0.8ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 23:09:54 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 3]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (8.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 74ms (Views: 71.1ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 23:17:59 +0600
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (19.1ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 1591ms (Views: 1572.4ms | ActiveRecord: 2.6ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 23:18:01 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.6ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.9ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 83ms (Views: 80.5ms | ActiveRecord: 1.1ms)


Started DELETE "/line_items/9" for 127.0.0.1 at 2017-08-28 23:18:07 +0600
Processing by LineItemsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ySpgfLlWJ0i4XLqDlE1KVuH5Uf1LgJeNk8TkDXaaJJzGhvajfthCVqG6uyNau3AqMCWfI0VRLQY3l+ITyujdcg==", "id"=>"9"}
  [1m[35mLineItem Load (0.3ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 9]]
  [1m[36m (78.6ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/establishments
Completed 302 Found in 88ms (ActiveRecord: 79.2ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:18:08 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.4ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 77ms (Views: 74.9ms | ActiveRecord: 1.1ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:18:25 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.9ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 80ms (Views: 78.1ms | ActiveRecord: 0.9ms)


Started DELETE "/line_items/12" for 127.0.0.1 at 2017-08-28 23:18:28 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"12"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 12]]
  [1m[36m (82.3ms)[0m  [1mcommit transaction[0m
Completed 500 Internal Server Error in 94ms (ActiveRecord: 83.0ms)

ActionView::MissingTemplate (Missing template line_items/destroy, application/destroy with {:locale=>[:en], :formats=>[:js, :html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
  actionview (4.2.6) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.6) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.6) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.6) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.6) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.6) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.6) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/missing_template.text.erb (0.6ms)


Started DELETE "/line_items/12" for 127.0.0.1 at 2017-08-28 23:18:31 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"12"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 12]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.1ms)

ActiveRecord::RecordNotFound (Couldn't find LineItem with 'id'=12):
  app/controllers/line_items_controller.rb:15:in `destroy'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (11.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (34.2ms)


Started DELETE "/line_items/13" for 127.0.0.1 at 2017-08-28 23:18:32 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"13"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 13]]
  [1m[35m (76.1ms)[0m  commit transaction
Completed 500 Internal Server Error in 83ms (ActiveRecord: 76.7ms)

ActionView::MissingTemplate (Missing template line_items/destroy, application/destroy with {:locale=>[:en], :formats=>[:js, :html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
  actionview (4.2.6) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.6) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.6) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.6) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.6) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.6) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.6) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/missing_template.text.erb (0.5ms)


Started DELETE "/line_items/12" for 127.0.0.1 at 2017-08-28 23:18:33 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"12"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 12]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.1ms)

ActiveRecord::RecordNotFound (Couldn't find LineItem with 'id'=12):
  app/controllers/line_items_controller.rb:15:in `destroy'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (24.8ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:18:34 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.5ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 71ms (Views: 69.1ms | ActiveRecord: 0.7ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 23:19:27 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 3]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (65.0ms)
  [1m[35mCACHE (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 143ms (Views: 137.6ms | ActiveRecord: 2.3ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 23:19:30 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 3]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (3.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 66ms (Views: 63.9ms | ActiveRecord: 0.7ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 23:19:35 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/Lkj7h2i+q2bhNHDqSPTWw4SCP9GPTlKftpezsMrNivzFbUx2iyfs4Ji0GNn1ekn387GIUjsg8HaiVjQf1nPxQ==", "line_item"=>{"title"=>"Ice Cream", "price"=>"100.0", "cart_id"=>"1", "quantity"=>"44"}, "commit"=>"Добавить"}
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Ice Cream"], ["quantity", 44], ["price", 100.0], ["cart_id", 1], ["created_at", "2017-08-28 17:19:35.859245"], ["updated_at", "2017-08-28 17:19:35.859245"]]
  [1m[36m (72.9ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/establishments
Completed 302 Found in 82ms (ActiveRecord: 73.6ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:19:35 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.1ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 63ms (Views: 60.7ms | ActiveRecord: 0.7ms)


Started DELETE "/line_items/16" for 127.0.0.1 at 2017-08-28 23:19:37 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"16"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 16]]
  [1m[35m (62.9ms)[0m  commit transaction
Completed 500 Internal Server Error in 70ms (ActiveRecord: 63.3ms)

ActionView::MissingTemplate (Missing template line_items/destroy, application/destroy with {:locale=>[:en], :formats=>[:js, :html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
  actionview (4.2.6) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.6) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.6) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.6) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.6) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.6) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.6) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/missing_template.text.erb (0.5ms)


Started DELETE "/line_items/16" for 127.0.0.1 at 2017-08-28 23:19:41 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"16"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 16]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.1ms)

ActiveRecord::RecordNotFound (Couldn't find LineItem with 'id'=16):
  app/controllers/line_items_controller.rb:15:in `destroy'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (23.4ms)


Started DELETE "/line_items/16" for 127.0.0.1 at 2017-08-28 23:19:42 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"16"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 16]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.1ms)

ActiveRecord::RecordNotFound (Couldn't find LineItem with 'id'=16):
  app/controllers/line_items_controller.rb:15:in `destroy'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (23.1ms)


Started DELETE "/line_items/16" for 127.0.0.1 at 2017-08-28 23:19:43 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"16"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 16]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.2ms)

ActiveRecord::RecordNotFound (Couldn't find LineItem with 'id'=16):
  app/controllers/line_items_controller.rb:15:in `destroy'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (30.9ms)


Started DELETE "/line_items/16" for 127.0.0.1 at 2017-08-28 23:19:43 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"16"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 16]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.2ms)

ActiveRecord::RecordNotFound (Couldn't find LineItem with 'id'=16):
  app/controllers/line_items_controller.rb:15:in `destroy'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (23.7ms)


Started DELETE "/line_items/16" for 127.0.0.1 at 2017-08-28 23:19:43 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"16"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 16]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.1ms)

ActiveRecord::RecordNotFound (Couldn't find LineItem with 'id'=16):
  app/controllers/line_items_controller.rb:15:in `destroy'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (31.0ms)


Started DELETE "/line_items/16" for 127.0.0.1 at 2017-08-28 23:19:43 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"16"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 16]]
Completed 404 Not Found in 4ms (ActiveRecord: 0.1ms)

ActiveRecord::RecordNotFound (Couldn't find LineItem with 'id'=16):
  app/controllers/line_items_controller.rb:15:in `destroy'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (22.8ms)


Started DELETE "/line_items/16" for 127.0.0.1 at 2017-08-28 23:19:43 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"16"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 16]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.1ms)

ActiveRecord::RecordNotFound (Couldn't find LineItem with 'id'=16):
  app/controllers/line_items_controller.rb:15:in `destroy'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (23.3ms)


Started DELETE "/line_items/16" for 127.0.0.1 at 2017-08-28 23:21:20 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"16"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 16]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.1ms)

ActiveRecord::RecordNotFound (Couldn't find LineItem with 'id'=16):
  app/controllers/line_items_controller.rb:15:in `destroy'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (22.3ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:21:22 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (4.0ms)
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 73ms (Views: 70.6ms | ActiveRecord: 1.1ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 23:21:25 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 3]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (6.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 74ms (Views: 70.5ms | ActiveRecord: 1.0ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 23:21:30 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 3]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (5.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 72ms (Views: 69.5ms | ActiveRecord: 0.8ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 23:21:33 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ozm5pikym5cXt14wVJria7cUxVV78KCF3OI1eveYgPeslS957rz+iQ5RX5CabNgXZsgLi3UhGg54sTNkS+p5GQ==", "line_item"=>{"title"=>"Ice Cream", "price"=>"100.0", "cart_id"=>"1", "quantity"=>"5"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Ice Cream"], ["quantity", 5], ["price", 100.0], ["cart_id", 1], ["created_at", "2017-08-28 17:21:33.458829"], ["updated_at", "2017-08-28 17:21:33.458829"]]
  [1m[35m (164.6ms)[0m  commit transaction
Redirected to http://localhost:3000/establishments
Completed 302 Found in 169ms (ActiveRecord: 164.9ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:21:33 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.8ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 57ms (Views: 55.2ms | ActiveRecord: 0.7ms)


Started DELETE "/line_items/17" for 127.0.0.1 at 2017-08-28 23:21:36 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"17"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 17]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 17]]
  [1m[36m (95.5ms)[0m  [1mcommit transaction[0m
Completed 500 Internal Server Error in 100ms (ActiveRecord: 95.9ms)

ActionView::MissingTemplate (Missing template line_items/destroy, application/destroy with {:locale=>[:en], :formats=>[:js, :html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
  actionview (4.2.6) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.6) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.6) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.6) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.6) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.6) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.6) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/missing_template.text.erb (0.5ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:22:51 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.3ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 84ms (Views: 81.8ms | ActiveRecord: 0.8ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 23:22:54 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (9.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 120ms (Views: 114.7ms | ActiveRecord: 1.0ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 23:23:00 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (8.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 84ms (Views: 81.5ms | ActiveRecord: 1.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 23:23:03 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Jl5xgpahO6SOBboXF2ij/Ib4UNwM797lw1M+k8WVC4Ip8uddUS9eupfju7fZnpmAVySeAgI+ZG5nADiNeefybA==", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"4"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 4], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-28 17:23:03.769601"], ["updated_at", "2017-08-28 17:23:03.769601"]]
  [1m[36m (104.6ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/establishments
Completed 302 Found in 112ms (ActiveRecord: 105.5ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:23:03 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (1.7ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 69ms (Views: 66.9ms | ActiveRecord: 0.8ms)


Started DELETE "/line_items/18" for 127.0.0.1 at 2017-08-28 23:23:06 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"18"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 18]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 18]]
  [1m[35m (129.9ms)[0m  commit transaction
Completed 500 Internal Server Error in 135ms (ActiveRecord: 130.4ms)

ActionView::MissingTemplate (Missing template line_items/destroy, application/destroy with {:locale=>[:en], :formats=>[:js, :html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
  actionview (4.2.6) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.6) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.6) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.6) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.6) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.6) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.6) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/missing_template.text.erb (0.5ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:24:57 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.2ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 88ms (Views: 86.1ms | ActiveRecord: 0.7ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 23:25:00 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (10.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 102ms (Views: 98.7ms | ActiveRecord: 1.1ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 23:25:05 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (7.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 79ms (Views: 76.1ms | ActiveRecord: 1.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 23:25:07 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/roZ4Y7iEqQ1Lxa70AMUrXIF28cmNfix+tP4mGz1BxrxFo8+SWx3uizJFxse9S7Ro9kVGSjkQjpegP6G0If+9A==", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"3"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 3], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-28 17:25:07.651849"], ["updated_at", "2017-08-28 17:25:07.651849"]]
  [1m[35m (147.2ms)[0m  commit transaction
Redirected to http://localhost:3000/establishments
Completed 302 Found in 153ms (ActiveRecord: 147.7ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:25:07 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.1ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 98ms (Views: 96.5ms | ActiveRecord: 0.8ms)


Started DELETE "/line_items/19" for 127.0.0.1 at 2017-08-28 23:25:10 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"19"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 19]]
  [1m[36m (107.4ms)[0m  [1mcommit transaction[0m
  Rendered line_items/destroy.js.erb (0.5ms)
Completed 200 OK in 114ms (Views: 3.0ms | ActiveRecord: 107.9ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:25:15 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.1ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 79ms (Views: 76.8ms | ActiveRecord: 0.7ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 23:25:18 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (9.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 106ms (Views: 103.1ms | ActiveRecord: 0.9ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 23:25:23 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (8.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 72ms (Views: 68.9ms | ActiveRecord: 1.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 23:25:25 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Hs9B30agf6MZmjzurXL+GejKLthn+oPGnhHAH8lZXAkRY9cAgS4avQB8PU5jhMRlORbgBmkrOU06QsYBdSul5w==", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"4"}, "commit"=>"Добавить"}
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 4], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-28 17:25:25.383572"], ["updated_at", "2017-08-28 17:25:25.383572"]]
  [1m[36m (110.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/establishments
Completed 302 Found in 117ms (ActiveRecord: 110.9ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:25:25 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (1.9ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 77ms (Views: 75.4ms | ActiveRecord: 0.9ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:25:50 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.5ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 86ms (Views: 84.1ms | ActiveRecord: 0.8ms)


Started DELETE "/line_items/20" for 127.0.0.1 at 2017-08-28 23:25:55 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"20"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 20]]
  [1m[36m (92.0ms)[0m  [1mcommit transaction[0m
  Rendered line_items/destroy.js.erb (0.1ms)
Completed 200 OK in 97ms (Views: 2.0ms | ActiveRecord: 92.5ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:26:05 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.0ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 78ms (Views: 76.0ms | ActiveRecord: 0.6ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 23:26:08 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (9.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 90ms (Views: 87.3ms | ActiveRecord: 1.0ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 23:26:28 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (10.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 84ms (Views: 80.3ms | ActiveRecord: 1.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 23:26:33 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hHuGTTY3meIhPMhy7MCm1WKUV1zra68h5WmeJcWHCgCL1xCS8bn8/DjaydIiNpyps0iZguW6FapBOpg7efXz7g==", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-28 17:26:33.268006"], ["updated_at", "2017-08-28 17:26:33.268006"]]
  [1m[36m (79.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/establishments
Completed 302 Found in 85ms (ActiveRecord: 79.8ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:26:33 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (1.7ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 76ms (Views: 73.8ms | ActiveRecord: 0.7ms)


Started DELETE "/line_items/21" for 127.0.0.1 at 2017-08-28 23:26:35 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"21"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 21]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 21]]
  [1m[35m (92.6ms)[0m  commit transaction
  Rendered line_items/destroy.js.erb (0.5ms)
Completed 200 OK in 100ms (Views: 3.3ms | ActiveRecord: 93.2ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:26:55 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.4ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 82ms (Views: 80.4ms | ActiveRecord: 0.6ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 23:27:02 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (13.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 105ms (Views: 101.7ms | ActiveRecord: 1.2ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 23:27:05 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (8.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 82ms (Views: 78.6ms | ActiveRecord: 1.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 23:27:07 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"SQcRmSwpPuAMd3jp4MwpXZsVKO54GY4iuxLvRdZFGf1Gq4dG66db/hWReUkuOhMhSsnmMHbINKkfQelbajfgEw==", "line_item"=>{"title"=>"Gruton", "price"=>"300.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Gruton"], ["quantity", 1], ["price", 300.0], ["cart_id", 1], ["created_at", "2017-08-28 17:27:07.480410"], ["updated_at", "2017-08-28 17:27:07.480410"]]
  [1m[35m (114.8ms)[0m  commit transaction
Redirected to http://localhost:3000/establishments
Completed 302 Found in 122ms (ActiveRecord: 115.3ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:27:07 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.4ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 82ms (Views: 80.0ms | ActiveRecord: 0.9ms)


Started DELETE "/line_items/22" for 127.0.0.1 at 2017-08-28 23:27:14 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"22"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 22]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 22]]
  [1m[36m (116.2ms)[0m  [1mcommit transaction[0m
  Rendered line_items/destroy.js.erb (0.0ms)
Completed 200 OK in 122ms (Views: 2.0ms | ActiveRecord: 116.8ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:28:19 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.2ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 61ms (Views: 59.0ms | ActiveRecord: 0.7ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 23:28:22 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (9.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 72ms (Views: 69.5ms | ActiveRecord: 1.0ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-28 23:28:25 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (6.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 68ms (Views: 64.9ms | ActiveRecord: 0.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 23:28:27 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"zC8efMWa1Y0NdEgwzoB+vX8O9HC1Y8f+YIkirVUwu9XDg4ijAhSwkxSSSZAAdkTBrtI6rruyfXXE2iSz6UJCOw==", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"2"}, "commit"=>"Добавить"}
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Пицца"], ["quantity", 2], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-28 17:28:27.674591"], ["updated_at", "2017-08-28 17:28:27.674591"]]
  [1m[36m (88.2ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/establishments
Completed 302 Found in 95ms (ActiveRecord: 88.8ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:28:27 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.0ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 77ms (Views: 75.0ms | ActiveRecord: 0.9ms)


Started DELETE "/line_items/23" for 127.0.0.1 at 2017-08-28 23:28:30 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"23"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 23]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 23]]
  [1m[35m (81.5ms)[0m  commit transaction
  Rendered line_items/destroy.js.erb (0.6ms)
Completed 200 OK in 90ms (Views: 4.0ms | ActiveRecord: 82.0ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:30:21 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.6ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 64ms (Views: 62.1ms | ActiveRecord: 0.7ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 23:30:23 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (7.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 80ms (Views: 77.2ms | ActiveRecord: 0.9ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 23:30:26 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (6.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 68ms (Views: 64.9ms | ActiveRecord: 1.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 23:30:28 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"c7q8N+Ewz0sM6rmRPkG9YbImEgd6OARP/q56OD6P0j18FiroJr6qVRUMuDHwt4cdY/rc2XTpvsRa/Xwmgv0r0w==", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"3"}, "commit"=>"Добавить"}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 3], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-28 17:30:28.563425"], ["updated_at", "2017-08-28 17:30:28.563425"]]
  [1m[35m (172.4ms)[0m  commit transaction
Redirected to http://localhost:3000/establishments
Completed 302 Found in 179ms (ActiveRecord: 172.9ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:30:28 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.7ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 80ms (Views: 78.2ms | ActiveRecord: 1.0ms)


Started DELETE "/line_items/24" for 127.0.0.1 at 2017-08-28 23:30:32 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"24"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 24]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 24]]
  [1m[36m (103.9ms)[0m  [1mcommit transaction[0m
  Rendered line_items/destroy.js.erb (0.4ms)
Completed 200 OK in 109ms (Views: 2.4ms | ActiveRecord: 104.3ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:30:49 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.7ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 64ms (Views: 61.9ms | ActiveRecord: 0.7ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:36:18 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.0ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 59ms (Views: 57.1ms | ActiveRecord: 0.6ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 23:36:40 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 3]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (5.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 75ms (Views: 72.7ms | ActiveRecord: 0.8ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 23:36:46 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 3]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (3.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 79ms (Views: 76.5ms | ActiveRecord: 1.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 23:36:48 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"keG3evZzthuNaI4WFObivEat+6EiKnjJ0m/Es5Nzvp2eTSGlMf3TBZSOj7baENjAl3E1fyz7wkJ2PMKtLwFHcw==", "line_item"=>{"title"=>"Ice Cream", "price"=>"100.0", "cart_id"=>"1", "quantity"=>""}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "line_items" ("title", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Ice Cream"], ["price", 100.0], ["cart_id", 1], ["created_at", "2017-08-28 17:36:48.293951"], ["updated_at", "2017-08-28 17:36:48.293951"]]
  [1m[35m (178.9ms)[0m  commit transaction
Redirected to http://localhost:3000/establishments
Completed 302 Found in 184ms (ActiveRecord: 179.5ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:36:48 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (3.0ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 500 Internal Server Error in 85ms (ActiveRecord: 0.9ms)

ActionView::Template::Error (undefined method `*' for nil:NilClass):
    54:                   <td><%= line_item.title %></td>
    55:                   <td><%= line_item.price %></td>
    56:                   <td><%= line_item.quantity %></td>
    57:                   <td><%= line_item.pre_total_price %> сом</td>
    58:                   <td><%= link_to 'Удалить', line_item, method: :delete, remote: true %></td>
    59:                 </tr>
    60:               <% end %>
  app/models/line_item.rb:5:in `pre_total_price'
  app/views/layouts/application.html.erb:57:in `block in _app_views_layouts_application_html_erb___4511744191554559841_70019342166420'
  app/views/layouts/application.html.erb:52:in `_app_views_layouts_application_html_erb___4511744191554559841_70019342166420'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (10.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (37.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (28.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (57.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 23:37:02 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"keG3evZzthuNaI4WFObivEat+6EiKnjJ0m/Es5Nzvp2eTSGlMf3TBZSOj7baENjAl3E1fyz7wkJ2PMKtLwFHcw==", "line_item"=>{"title"=>"Ice Cream", "price"=>"100.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Ice Cream"], ["quantity", 1], ["price", 100.0], ["cart_id", 1], ["created_at", "2017-08-28 17:37:02.708044"], ["updated_at", "2017-08-28 17:37:02.708044"]]
  [1m[35m (76.7ms)[0m  commit transaction
Redirected to http://localhost:3000/establishments
Completed 302 Found in 82ms (ActiveRecord: 77.1ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:37:02 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.2ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 500 Internal Server Error in 76ms (ActiveRecord: 0.8ms)

ActionView::Template::Error (undefined method `*' for nil:NilClass):
    54:                   <td><%= line_item.title %></td>
    55:                   <td><%= line_item.price %></td>
    56:                   <td><%= line_item.quantity %></td>
    57:                   <td><%= line_item.pre_total_price %> сом</td>
    58:                   <td><%= link_to 'Удалить', line_item, method: :delete, remote: true %></td>
    59:                 </tr>
    60:               <% end %>
  app/models/line_item.rb:5:in `pre_total_price'
  app/views/layouts/application.html.erb:57:in `block in _app_views_layouts_application_html_erb___4511744191554559841_70019342166420'
  app/views/layouts/application.html.erb:52:in `_app_views_layouts_application_html_erb___4511744191554559841_70019342166420'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (33.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (46.7ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-28 23:37:10 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 3]]
  [1m[35mCart Load (0.7ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (6.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 500 Internal Server Error in 96ms (ActiveRecord: 1.4ms)

ActionView::Template::Error (undefined method `*' for nil:NilClass):
    54:                   <td><%= line_item.title %></td>
    55:                   <td><%= line_item.price %></td>
    56:                   <td><%= line_item.quantity %></td>
    57:                   <td><%= line_item.pre_total_price %> сом</td>
    58:                   <td><%= link_to 'Удалить', line_item, method: :delete, remote: true %></td>
    59:                 </tr>
    60:               <% end %>
  app/models/line_item.rb:5:in `pre_total_price'
  app/views/layouts/application.html.erb:57:in `block in _app_views_layouts_application_html_erb___4511744191554559841_70019342166420'
  app/views/layouts/application.html.erb:52:in `_app_views_layouts_application_html_erb___4511744191554559841_70019342166420'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (35.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (48.8ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 23:37:18 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (5.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 500 Internal Server Error in 76ms (ActiveRecord: 1.1ms)

ActionView::Template::Error (undefined method `*' for nil:NilClass):
    54:                   <td><%= line_item.title %></td>
    55:                   <td><%= line_item.price %></td>
    56:                   <td><%= line_item.quantity %></td>
    57:                   <td><%= line_item.pre_total_price %> сом</td>
    58:                   <td><%= link_to 'Удалить', line_item, method: :delete, remote: true %></td>
    59:                 </tr>
    60:               <% end %>
  app/models/line_item.rb:5:in `pre_total_price'
  app/views/layouts/application.html.erb:57:in `block in _app_views_layouts_application_html_erb___4511744191554559841_70019342166420'
  app/views/layouts/application.html.erb:52:in `_app_views_layouts_application_html_erb___4511744191554559841_70019342166420'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (33.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (47.1ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 23:37:23 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.7ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 500 Internal Server Error in 60ms (ActiveRecord: 0.7ms)

ActionView::Template::Error (undefined method `*' for nil:NilClass):
    54:                   <td><%= line_item.title %></td>
    55:                   <td><%= line_item.price %></td>
    56:                   <td><%= line_item.quantity %></td>
    57:                   <td><%= line_item.pre_total_price %> сом</td>
    58:                   <td><%= link_to 'Удалить', line_item, method: :delete, remote: true %></td>
    59:                 </tr>
    60:               <% end %>
  app/models/line_item.rb:5:in `pre_total_price'
  app/views/layouts/application.html.erb:57:in `block in _app_views_layouts_application_html_erb___4511744191554559841_70019342166420'
  app/views/layouts/application.html.erb:52:in `_app_views_layouts_application_html_erb___4511744191554559841_70019342166420'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (31.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (41.7ms)


Started GET "/" for 127.0.0.1 at 2017-08-28 23:37:24 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (1.8ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 500 Internal Server Error in 67ms (ActiveRecord: 0.7ms)

ActionView::Template::Error (undefined method `*' for nil:NilClass):
    54:                   <td><%= line_item.title %></td>
    55:                   <td><%= line_item.price %></td>
    56:                   <td><%= line_item.quantity %></td>
    57:                   <td><%= line_item.pre_total_price %> сом</td>
    58:                   <td><%= link_to 'Удалить', line_item, method: :delete, remote: true %></td>
    59:                 </tr>
    60:               <% end %>
  app/models/line_item.rb:5:in `pre_total_price'
  app/views/layouts/application.html.erb:57:in `block in _app_views_layouts_application_html_erb___4511744191554559841_70019342166420'
  app/views/layouts/application.html.erb:52:in `_app_views_layouts_application_html_erb___4511744191554559841_70019342166420'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (30.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.4ms)
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 26]]
  [1m[36m (77.3ms)[0m  [1mcommit transaction[0m


Started GET "/" for 127.0.0.1 at 2017-08-28 23:38:37 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.2ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 500 Internal Server Error in 63ms (ActiveRecord: 0.7ms)

ActionView::Template::Error (undefined method `*' for nil:NilClass):
    54:                   <td><%= line_item.title %></td>
    55:                   <td><%= line_item.price %></td>
    56:                   <td><%= line_item.quantity %></td>
    57:                   <td><%= line_item.pre_total_price %> сом</td>
    58:                   <td><%= link_to 'Удалить', line_item, method: :delete, remote: true %></td>
    59:                 </tr>
    60:               <% end %>
  app/models/line_item.rb:5:in `pre_total_price'
  app/views/layouts/application.html.erb:57:in `block in _app_views_layouts_application_html_erb___4511744191554559841_70019342166420'
  app/views/layouts/application.html.erb:52:in `_app_views_layouts_application_html_erb___4511744191554559841_70019342166420'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (30.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.1ms)
  [1m[35mLineItem Load (0.4ms)[0m  SELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 25]]
  [1m[36m (81.4ms)[0m  [1mcommit transaction[0m


Started GET "/" for 127.0.0.1 at 2017-08-28 23:38:48 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (4.1ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 68ms (Views: 65.8ms | ActiveRecord: 0.7ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 23:38:50 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (10.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 75ms (Views: 71.3ms | ActiveRecord: 1.1ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 23:39:03 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (7.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 87ms (Views: 83.0ms | ActiveRecord: 0.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 23:39:06 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"u9oJcBSHSS2szYKZbEif6FgSmuaomSG4c6E6M5MBsYm0dp+v0wksM7UrgzmivqWUic5UOKZImzPX8jwtL3NIZw==", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"2"}, "commit"=>"Добавить"}
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 2], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-28 17:39:06.141691"], ["updated_at", "2017-08-28 17:39:06.141691"]]
  [1m[36m (109.6ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/establishments
Completed 302 Found in 116ms (ActiveRecord: 110.1ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:39:06 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (1.9ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 63ms (Views: 60.4ms | ActiveRecord: 0.8ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:40:11 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.2ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 63ms (Views: 61.4ms | ActiveRecord: 0.9ms)


Started DELETE "/line_items/27" for 127.0.0.1 at 2017-08-28 23:40:27 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"27"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 27]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 27]]
  [1m[36m (97.4ms)[0m  [1mcommit transaction[0m
  Rendered line_items/destroy.js.erb (2.9ms)
Completed 500 Internal Server Error in 105ms (ActiveRecord: 97.8ms)

ActionView::Template::Error (undefined method `od' for #<LineItem:0x007f5d558a6fb0>):
    1: alert('#line_item_<%= @line_item.od %>')
    2: //$('#line_item_<%=@line_item.id=>').remove()
  app/views/line_items/destroy.js.erb:1:in `_app_views_line_items_destroy_js_erb___2598830437793000923_70019421788480'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (13.2ms)


Started GET "/establishments/" for 127.0.0.1 at 2017-08-28 23:41:05 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (4.1ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 68ms (Views: 65.8ms | ActiveRecord: 0.8ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 23:41:08 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (7.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 98ms (Views: 95.0ms | ActiveRecord: 0.9ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 23:41:10 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (9.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 94ms (Views: 91.0ms | ActiveRecord: 1.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 23:41:12 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"a3VSzXz+imf6SEpdNRnvPod+Drcoju+8xJd1L/Akhehk2cQSu3DveeOuS/3779VCVqLAaSZfVTdgxHMxTFZ8Bg==", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"3"}, "commit"=>"Добавить"}
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 3], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-28 17:41:12.718602"], ["updated_at", "2017-08-28 17:41:12.718602"]]
  [1m[36m (137.2ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/establishments
Completed 302 Found in 145ms (ActiveRecord: 138.5ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:41:12 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (1.9ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 77ms (Views: 74.9ms | ActiveRecord: 0.9ms)


Started DELETE "/line_items/28" for 127.0.0.1 at 2017-08-28 23:41:29 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"28"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 28]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 28]]
  [1m[35m (70.9ms)[0m  commit transaction
  Rendered line_items/destroy.js.erb (0.5ms)
Completed 200 OK in 77ms (Views: 2.5ms | ActiveRecord: 71.3ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:41:49 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.4ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 69ms (Views: 66.5ms | ActiveRecord: 0.7ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:44:38 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (1.7ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 80ms (Views: 78.4ms | ActiveRecord: 0.6ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 23:44:40 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (14.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 93ms (Views: 89.7ms | ActiveRecord: 1.0ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-28 23:44:43 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (8.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 68ms (Views: 64.3ms | ActiveRecord: 1.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-28 23:44:45 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jM0hdMshE4N57TfTdUt1aHQA01Yax8DurDqwArjgh22DYberDK92nWALNnO7vU8UpdwdiBQWemUIabYcBJJ+gw==", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"2"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 2], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-28 17:44:45.963273"], ["updated_at", "2017-08-28 17:44:45.963273"]]
  [1m[36m (79.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/establishments
Completed 302 Found in 86ms (ActiveRecord: 79.7ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:44:46 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (1.7ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 62ms (Views: 60.0ms | ActiveRecord: 0.8ms)


Started DELETE "/line_items/29" for 127.0.0.1 at 2017-08-28 23:44:55 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"29"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 29]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 29]]
  [1m[35m (80.9ms)[0m  commit transaction
  Rendered line_items/destroy.js.erb (0.9ms)
Completed 200 OK in 91ms (Views: 5.2ms | ActiveRecord: 81.5ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:45:12 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.9ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 73ms (Views: 71.5ms | ActiveRecord: 0.6ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-28 23:46:59 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (1.7ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 65ms (Views: 63.1ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 09:36:21 +0600
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (19.4ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
Completed 200 OK in 1400ms (Views: 1339.0ms | ActiveRecord: 3.4ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 09:36:23 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (4.3ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
Completed 200 OK in 89ms (Views: 85.4ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 10:06:17 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.5ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (10.5ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (15.5ms)
Completed 200 OK in 108ms (Views: 103.1ms | ActiveRecord: 1.7ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 10:06:22 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (95.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (2.9ms)
Completed 200 OK in 232ms (Views: 155.2ms | ActiveRecord: 1.5ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 10:06:27 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (6.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.7ms)
Completed 200 OK in 79ms (Views: 76.0ms | ActiveRecord: 1.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 10:06:30 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yrn8hCsCu1+6JhtdY1AStwYU0N4lhEdBjaQLKC74CnLFFWpb7IzeQaPAGv2tpijL18geACtV/cop9w02korznA==", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"3"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 3], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 04:06:30.525496"], ["updated_at", "2017-08-29 04:06:30.525496"]]
  [1m[36m (94.9ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/establishments
Completed 302 Found in 101ms (ActiveRecord: 95.5ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 10:06:30 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (1.8ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (8.0ms)
Completed 200 OK in 83ms (Views: 80.4ms | ActiveRecord: 1.0ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 10:07:05 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.8ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (6.2ms)
Completed 200 OK in 69ms (Views: 67.4ms | ActiveRecord: 0.9ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-29 10:07:06 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 3]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (5.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.3ms)
Completed 200 OK in 65ms (Views: 62.2ms | ActiveRecord: 0.9ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-29 10:08:13 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 3]]
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (18.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (8.0ms)
Completed 200 OK in 103ms (Views: 86.6ms | ActiveRecord: 2.5ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 10:08:16 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"W9AV9Cufq27rPewVQz2nUY5nMLIp5aXkMPyBaSaaxLpUfIMr7BHOcPLb7bWNy50tX7v+bCc0H2+Ur4d3mug9VA==", "line_item"=>{"title"=>"Ice Cream", "price"=>"100.0", "cart_id"=>"1", "quantity"=>"3"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Ice Cream"], ["quantity", 3], ["price", 100.0], ["cart_id", 1], ["created_at", "2017-08-29 04:08:16.545087"], ["updated_at", "2017-08-29 04:08:16.545087"]]
  [1m[35m (92.9ms)[0m  commit transaction
Redirected to http://localhost:3000/establishments
Completed 302 Found in 98ms (ActiveRecord: 93.5ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 10:08:16 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.9ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.7ms)
Completed 200 OK in 62ms (Views: 60.4ms | ActiveRecord: 0.7ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 10:08:49 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.5ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (7.8ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (22.9ms)
Completed 200 OK in 91ms (Views: 84.8ms | ActiveRecord: 2.5ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-29 10:08:50 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 3]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (22.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.3ms)
Completed 200 OK in 87ms (Views: 82.0ms | ActiveRecord: 1.8ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-29 10:08:54 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 3]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (19.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.7ms)
Completed 200 OK in 82ms (Views: 78.4ms | ActiveRecord: 1.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 10:08:57 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"IJHQgtFWTpzfdjMaKMfg5kYk5MBCUkQXfo/d/QgDabcvPUZdFtgrgsaQMrrmMdqal/gqHkyD/pza3NvjtHGQWQ==", "line_item"=>{"title"=>"Ice Cream", "price"=>"100.0", "cart_id"=>"1", "quantity"=>"3"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Ice Cream"], ["quantity", 3], ["price", 100.0], ["cart_id", 1], ["created_at", "2017-08-29 04:08:57.693170"], ["updated_at", "2017-08-29 04:08:57.693170"]]
  [1m[36m (50.0ms)[0m  [1mcommit transaction[0m
Completed 500 Internal Server Error in 82ms (ActiveRecord: 50.5ms)

ActionView::MissingTemplate (Missing template line_items/create, application/create with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
  actionview (4.2.6) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.6) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.6) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.6) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.6) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.6) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.6) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (37.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (71.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (112.9ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-29 10:10:48 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 3]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (34.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (10.3ms)
Completed 200 OK in 119ms (Views: 100.1ms | ActiveRecord: 2.8ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 10:10:52 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Ice Cream", "price"=>"100.0", "cart_id"=>"1", "quantity"=>"2"}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Ice Cream"], ["quantity", 2], ["price", 100.0], ["cart_id", 1], ["created_at", "2017-08-29 04:10:52.814957"], ["updated_at", "2017-08-29 04:10:52.814957"]]
  [1m[36m (108.5ms)[0m  [1mcommit transaction[0m
  Rendered line_items/create.js.erb (0.4ms)
Completed 200 OK in 119ms (Views: 5.2ms | ActiveRecord: 109.1ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-29 10:10:55 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 3]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (4.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.4ms)
Completed 200 OK in 69ms (Views: 65.7ms | ActiveRecord: 0.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 10:11:06 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Ice Cream", "price"=>"100.0", "cart_id"=>"1", "quantity"=>"3"}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Ice Cream"], ["quantity", 3], ["price", 100.0], ["cart_id", 1], ["created_at", "2017-08-29 04:11:06.073195"], ["updated_at", "2017-08-29 04:11:06.073195"]]
  [1m[36m (85.9ms)[0m  [1mcommit transaction[0m
  Rendered line_items/create.js.erb (0.1ms)
Completed 200 OK in 93ms (Views: 2.6ms | ActiveRecord: 86.4ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-29 10:11:10 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 3]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (4.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (7.9ms)
Completed 200 OK in 76ms (Views: 72.5ms | ActiveRecord: 1.1ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 10:11:18 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (3.7ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.3ms)
Completed 200 OK in 89ms (Views: 86.9ms | ActiveRecord: 0.8ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 10:11:19 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (9.0ms)
  [1m[35mCACHE (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.1ms)
Completed 200 OK in 80ms (Views: 76.5ms | ActiveRecord: 1.1ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 10:11:24 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (5.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.7ms)
Completed 200 OK in 67ms (Views: 63.6ms | ActiveRecord: 1.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 10:11:27 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Gruton", "price"=>"300.0", "cart_id"=>"1", "quantity"=>"3"}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Gruton"], ["quantity", 3], ["price", 300.0], ["cart_id", 1], ["created_at", "2017-08-29 04:11:27.520677"], ["updated_at", "2017-08-29 04:11:27.520677"]]
  [1m[35m (73.0ms)[0m  commit transaction
  Rendered line_items/create.js.erb (0.0ms)
Completed 200 OK in 80ms (Views: 1.9ms | ActiveRecord: 73.4ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 10:11:31 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (7.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.3ms)
Completed 200 OK in 71ms (Views: 68.0ms | ActiveRecord: 1.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 10:11:47 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"2"}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 2], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 04:11:47.120928"], ["updated_at", "2017-08-29 04:11:47.120928"]]
  [1m[36m (109.0ms)[0m  [1mcommit transaction[0m
  Rendered line_items/create.js.erb (0.0ms)
Completed 200 OK in 116ms (Views: 2.0ms | ActiveRecord: 109.4ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 10:11:58 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"4"}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 4], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 04:11:58.482360"], ["updated_at", "2017-08-29 04:11:58.482360"]]
  [1m[35m (108.8ms)[0m  commit transaction
  Rendered line_items/create.js.erb (0.0ms)
Completed 200 OK in 115ms (Views: 1.9ms | ActiveRecord: 109.2ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 10:12:01 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (8.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (6.3ms)
Completed 200 OK in 107ms (Views: 104.6ms | ActiveRecord: 1.1ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 10:12:24 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (5.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (6.2ms)
Completed 200 OK in 68ms (Views: 64.7ms | ActiveRecord: 1.3ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 10:13:30 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (5.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (6.6ms)
Completed 200 OK in 69ms (Views: 64.9ms | ActiveRecord: 1.0ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 10:20:08 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (7.1ms)
Completed 500 Internal Server Error in 84ms (ActiveRecord: 0.8ms)

ActionView::Template::Error (undefined method `line_items' for nil:NilClass):
    30:       <ul class="nav navbar-nav navbar-right">
    31:         <a class="navbar-brand" href="<%= admin_establishments_path %>">Админка</a>
    32:         
    33:         <%= render @cart.line_items %>
    34: 
    35: 
    36: 
  app/views/layouts/application.html.erb:33:in `_app_views_layouts_application_html_erb__3489235572292502889_69958508688100'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (33.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.8ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 10:20:16 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (4.9ms)
Completed 500 Internal Server Error in 63ms (ActiveRecord: 0.5ms)

ActionView::Template::Error (undefined method `line_item' for nil:NilClass):
    30:       <ul class="nav navbar-nav navbar-right">
    31:         <a class="navbar-brand" href="<%= admin_establishments_path %>">Админка</a>
    32:         
    33:         <%= render @cart.line_item %>
    34: 
    35: 
    36: 
  app/views/layouts/application.html.erb:33:in `_app_views_layouts_application_html_erb__3489235572292502889_69958512144200'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (31.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.0ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 10:20:20 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (5.0ms)
Completed 500 Internal Server Error in 65ms (ActiveRecord: 0.5ms)

ActionView::Template::Error (undefined method `line_items' for nil:NilClass):
    30:       <ul class="nav navbar-nav navbar-right">
    31:         <a class="navbar-brand" href="<%= admin_establishments_path %>">Админка</a>
    32:         
    33:         <%= render @cart.line_items %>
    34: 
    35: 
    36: 
  app/views/layouts/application.html.erb:33:in `_app_views_layouts_application_html_erb__3489235572292502889_69958511291740'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (21.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (46.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.4ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 10:22:05 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (5.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (7.3ms)
Completed 200 OK in 74ms (Views: 70.2ms | ActiveRecord: 1.3ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 10:24:40 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (4.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (6.6ms)
Completed 200 OK in 70ms (Views: 67.0ms | ActiveRecord: 0.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 10:24:43 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"4"}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 4], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 04:24:43.775398"], ["updated_at", "2017-08-29 04:24:43.775398"]]
  [1m[36m (121.9ms)[0m  [1mcommit transaction[0m
  Rendered line_items/create.js.erb (18.5ms)
Completed 500 Internal Server Error in 148ms (ActiveRecord: 122.4ms)

ActionView::Template::Error (undefined local variable or method `line_items' for #<#<Class:0x007f40f81148c0>:0x007f410206da70>):
    1: $('#cart').append("<%= j render line_items/line_item %>");
  app/views/line_items/create.js.erb:1:in `_app_views_line_items_create_js_erb___2600555631847173814_69958591779980'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (14.8ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 10:24:45 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (7.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (7.3ms)
Completed 200 OK in 75ms (Views: 70.9ms | ActiveRecord: 1.2ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 10:24:47 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"3"}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 3], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 04:24:47.781063"], ["updated_at", "2017-08-29 04:24:47.781063"]]
  [1m[35m (166.3ms)[0m  commit transaction
  Rendered line_items/create.js.erb (18.1ms)
Completed 500 Internal Server Error in 191ms (ActiveRecord: 166.8ms)

ActionView::Template::Error (undefined local variable or method `line_items' for #<#<Class:0x007f40f81148c0>:0x007f40f8328800>):
    1: $('#cart').append("<%= j render line_items/line_item %>");
  app/views/line_items/create.js.erb:1:in `_app_views_line_items_create_js_erb___2600555631847173814_69958591779980'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (13.4ms)


Started DELETE "/line_items/30" for 127.0.0.1 at 2017-08-29 10:24:56 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"30"}
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 30]]
  [1m[35m (107.7ms)[0m  commit transaction
  Rendered line_items/destroy.js.erb (0.6ms)
Completed 200 OK in 114ms (Views: 2.6ms | ActiveRecord: 108.4ms)


Started DELETE "/line_items/31" for 127.0.0.1 at 2017-08-29 10:24:58 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"31"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 31]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 31]]
  [1m[35m (89.4ms)[0m  commit transaction
  Rendered line_items/destroy.js.erb (0.1ms)
Completed 200 OK in 94ms (Views: 2.0ms | ActiveRecord: 89.8ms)


Started DELETE "/line_items/32" for 127.0.0.1 at 2017-08-29 10:24:58 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"32"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 32]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 32]]
  [1m[35m (63.1ms)[0m  commit transaction
  Rendered line_items/destroy.js.erb (0.1ms)
Completed 200 OK in 68ms (Views: 1.9ms | ActiveRecord: 63.6ms)


Started DELETE "/line_items/33" for 127.0.0.1 at 2017-08-29 10:24:59 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"33"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 33]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 33]]
  [1m[35m (74.9ms)[0m  commit transaction
  Rendered line_items/destroy.js.erb (0.1ms)
Completed 200 OK in 81ms (Views: 2.3ms | ActiveRecord: 75.4ms)


Started DELETE "/line_items/36" for 127.0.0.1 at 2017-08-29 10:25:00 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"36"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 36]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 36]]
  [1m[35m (94.0ms)[0m  commit transaction
  Rendered line_items/destroy.js.erb (0.1ms)
Completed 200 OK in 100ms (Views: 2.3ms | ActiveRecord: 94.4ms)


Started DELETE "/line_items/37" for 127.0.0.1 at 2017-08-29 10:25:00 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"37"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 37]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 37]]
  [1m[35m (88.2ms)[0m  commit transaction
  Rendered line_items/destroy.js.erb (0.1ms)
Completed 200 OK in 96ms (Views: 4.3ms | ActiveRecord: 88.6ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 10:25:03 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"3"}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 3], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 04:25:03.835137"], ["updated_at", "2017-08-29 04:25:03.835137"]]
  [1m[36m (99.3ms)[0m  [1mcommit transaction[0m
  Rendered line_items/create.js.erb (18.0ms)
Completed 500 Internal Server Error in 123ms (ActiveRecord: 99.7ms)

ActionView::Template::Error (undefined local variable or method `line_items' for #<#<Class:0x007f40f81148c0>:0x007f40f84523c0>):
    1: $('#cart').append("<%= j render line_items/line_item %>");
  app/views/line_items/create.js.erb:1:in `_app_views_line_items_create_js_erb___2600555631847173814_69958591779980'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (15.1ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 10:25:06 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (6.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.4ms)
Completed 200 OK in 82ms (Views: 78.6ms | ActiveRecord: 1.2ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 10:25:10 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>""}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 04:25:10.580862"], ["updated_at", "2017-08-29 04:25:10.580862"]]
  [1m[35m (143.3ms)[0m  commit transaction
  Rendered line_items/create.js.erb (23.1ms)
Completed 500 Internal Server Error in 174ms (ActiveRecord: 143.7ms)

ActionView::Template::Error (undefined local variable or method `line_items' for #<#<Class:0x007f40f81148c0>:0x007f40f8c23798>):
    1: $('#cart').append("<%= j render line_items/line_item %>");
  app/views/line_items/create.js.erb:1:in `_app_views_line_items_create_js_erb___2600555631847173814_69958591779980'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (14.1ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 10:25:13 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (4.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (7.1ms)
Completed 500 Internal Server Error in 86ms (ActiveRecord: 0.9ms)

ActionView::Template::Error (undefined method `*' for nil:NilClass):
    23:           	<td><%= line_item.title %></td>
    24:           	<td><%= line_item.price %></td>
    25:           	<td><%= line_item.quantity %></td>
    26:           	<td><%= line_item.pre_total_price %> сом</td>
    27:           	<td><%= link_to 'Удалить', line_item, method: :delete, remote: true %></td>
    28:         	</tr>
    29:       	<% end %>
  app/models/line_item.rb:5:in `pre_total_price'
  app/views/line_items/_line_item.erb:26:in `block in _app_views_line_items__line_item_erb__4103207066806203831_69958508622540'
  app/views/line_items/_line_item.erb:21:in `_app_views_line_items__line_item_erb__4103207066806203831_69958508622540'
  app/views/layouts/application.html.erb:33:in `_app_views_layouts_application_html_erb__3489235572292502889_69958513109740'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (10.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (37.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (47.7ms)
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 41]]
  [1m[35m (337.4ms)[0m  commit transaction


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 10:25:33 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (6.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.3ms)
Completed 200 OK in 85ms (Views: 82.0ms | ActiveRecord: 1.0ms)


Started DELETE "/line_items/39" for 127.0.0.1 at 2017-08-29 10:25:40 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"39"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 39]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 39]]
  [1m[35m (131.6ms)[0m  commit transaction
  Rendered line_items/destroy.js.erb (0.1ms)
Completed 200 OK in 137ms (Views: 2.2ms | ActiveRecord: 132.0ms)


Started DELETE "/line_items/40" for 127.0.0.1 at 2017-08-29 10:25:41 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"40"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 40]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 40]]
  [1m[35m (69.2ms)[0m  commit transaction
  Rendered line_items/destroy.js.erb (0.1ms)
Completed 200 OK in 74ms (Views: 2.0ms | ActiveRecord: 69.6ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 10:25:48 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Gruton", "price"=>"300.0", "cart_id"=>"1", "quantity"=>"2"}}
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Gruton"], ["quantity", 2], ["price", 300.0], ["cart_id", 1], ["created_at", "2017-08-29 04:25:48.956910"], ["updated_at", "2017-08-29 04:25:48.956910"]]
  [1m[36m (109.3ms)[0m  [1mcommit transaction[0m
  Rendered line_items/create.js.erb (16.5ms)
Completed 500 Internal Server Error in 132ms (ActiveRecord: 109.7ms)

ActionView::Template::Error (undefined local variable or method `line_items' for #<#<Class:0x007f40f81148c0>:0x007f40f875f2e8>):
    1: $('#cart').append("<%= j render line_items/line_item %>");
  app/views/line_items/create.js.erb:1:in `_app_views_line_items_create_js_erb___2600555631847173814_69958591779980'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (14.2ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 10:25:51 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (6.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.2ms)
Completed 200 OK in 86ms (Views: 82.9ms | ActiveRecord: 1.0ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 10:26:32 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (6.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.7ms)
Completed 200 OK in 75ms (Views: 72.0ms | ActiveRecord: 1.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 10:26:35 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"4"}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 4], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 04:26:35.944594"], ["updated_at", "2017-08-29 04:26:35.944594"]]
  [1m[35m (72.8ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.8ms)
  Rendered line_items/create.js.erb (7.7ms)
Completed 200 OK in 86ms (Views: 9.2ms | ActiveRecord: 73.6ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 10:26:44 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (7.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.1ms)
Completed 200 OK in 71ms (Views: 68.4ms | ActiveRecord: 1.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 10:26:47 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"3"}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 3], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 04:26:47.805757"], ["updated_at", "2017-08-29 04:26:47.805757"]]
  [1m[36m (93.5ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.5ms)
  Rendered line_items/create.js.erb (7.3ms)
Completed 200 OK in 107ms (Views: 8.9ms | ActiveRecord: 94.2ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 10:26:51 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"5"}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 5], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 04:26:51.824711"], ["updated_at", "2017-08-29 04:26:51.824711"]]
  [1m[35m (90.9ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (6.0ms)
  Rendered line_items/create.js.erb (7.4ms)
Completed 200 OK in 104ms (Views: 9.0ms | ActiveRecord: 91.7ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 10:30:31 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.4ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (6.2ms)
Completed 200 OK in 105ms (Views: 102.4ms | ActiveRecord: 0.8ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:30:34 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (4.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (7.3ms)
Completed 200 OK in 72ms (Views: 67.8ms | ActiveRecord: 0.9ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:36:37 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (24.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (12.3ms)
Completed 200 OK in 123ms (Views: 103.7ms | ActiveRecord: 3.0ms)


Started DELETE "/line_items/43" for 127.0.0.1 at 2017-08-29 10:36:41 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"43"}
  [1m[35mLineItem Load (0.3ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 43]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 43]]
  [1m[36m (91.8ms)[0m  [1mcommit transaction[0m
  Rendered line_items/destroy.js.erb (0.1ms)
Completed 200 OK in 102ms (Views: 6.1ms | ActiveRecord: 92.4ms)


Started DELETE "/line_items/44" for 127.0.0.1 at 2017-08-29 10:36:42 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"44"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 44]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 44]]
  [1m[36m (103.5ms)[0m  [1mcommit transaction[0m
  Rendered line_items/destroy.js.erb (0.1ms)
Completed 200 OK in 109ms (Views: 2.1ms | ActiveRecord: 104.1ms)


Started DELETE "/line_items/45" for 127.0.0.1 at 2017-08-29 10:36:43 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"45"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 45]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 45]]
  [1m[36m (104.9ms)[0m  [1mcommit transaction[0m
  Rendered line_items/destroy.js.erb (0.1ms)
Completed 200 OK in 112ms (Views: 3.7ms | ActiveRecord: 105.3ms)


Started DELETE "/line_items/42" for 127.0.0.1 at 2017-08-29 10:36:44 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"42"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 42]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 42]]
  [1m[36m (164.4ms)[0m  [1mcommit transaction[0m
  Rendered line_items/destroy.js.erb (0.1ms)
Completed 200 OK in 169ms (Views: 1.9ms | ActiveRecord: 164.8ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 10:36:49 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.7ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (6.0ms)
Completed 200 OK in 78ms (Views: 76.2ms | ActiveRecord: 0.9ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:36:51 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (8.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (6.9ms)
Completed 200 OK in 89ms (Views: 83.7ms | ActiveRecord: 1.3ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:37:14 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (6.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (8.1ms)
Completed 200 OK in 104ms (Views: 100.4ms | ActiveRecord: 1.2ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 10:37:22 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (3.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (5.9ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (6.1ms)
Completed 200 OK in 135ms (Views: 130.3ms | ActiveRecord: 3.9ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:37:24 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (9.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (8.6ms)
Completed 200 OK in 131ms (Views: 126.8ms | ActiveRecord: 1.4ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:38:00 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (9.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.8ms)
Completed 200 OK in 151ms (Views: 147.6ms | ActiveRecord: 1.1ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 10:38:02 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.8ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (3.0ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (20.2ms)
Completed 200 OK in 128ms (Views: 125.4ms | ActiveRecord: 1.3ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:38:03 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (11.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (7.8ms)
Completed 200 OK in 125ms (Views: 121.0ms | ActiveRecord: 1.1ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:39:51 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (7.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.5ms)
Completed 200 OK in 76ms (Views: 72.5ms | ActiveRecord: 1.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 10:39:54 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>""}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["title", "Пицца"], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 04:39:54.583843"], ["updated_at", "2017-08-29 04:39:54.583843"]]
  [1m[36m (90.4ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (7.4ms)
  Rendered line_items/create.js.erb (8.8ms)
Completed 500 Internal Server Error in 106ms (ActiveRecord: 91.3ms)

ActionView::Template::Error (undefined method `*' for nil:NilClass):
    23:           	<td><%= line_item.title %></td>
    24:           	<td><%= line_item.price %></td>
    25:           	<td><%= line_item.quantity %></td>
    26:           	<td><%= line_item.pre_total_price %> сом</td>
    27:           	<td><%= link_to 'Удалить', line_item, method: :delete, remote: true %></td>
    28:         	</tr>
    29:       	<% end %>
  app/models/line_item.rb:5:in `pre_total_price'
  app/views/line_items/_line_item.erb:26:in `block in _app_views_line_items__line_item_erb__4103207066806203831_69958510165100'
  app/views/line_items/_line_item.erb:21:in `_app_views_line_items__line_item_erb__4103207066806203831_69958510165100'
  app/views/line_items/create.js.erb:1:in `_app_views_line_items_create_js_erb___2600555631847173814_69958586688340'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (14.5ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:39:56 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (6.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (7.0ms)
Completed 500 Internal Server Error in 79ms (ActiveRecord: 0.9ms)

ActionView::Template::Error (undefined method `*' for nil:NilClass):
    23:           	<td><%= line_item.title %></td>
    24:           	<td><%= line_item.price %></td>
    25:           	<td><%= line_item.quantity %></td>
    26:           	<td><%= line_item.pre_total_price %> сом</td>
    27:           	<td><%= link_to 'Удалить', line_item, method: :delete, remote: true %></td>
    28:         	</tr>
    29:       	<% end %>
  app/models/line_item.rb:5:in `pre_total_price'
  app/views/line_items/_line_item.erb:26:in `block in _app_views_line_items__line_item_erb__4103207066806203831_69958508622540'
  app/views/line_items/_line_item.erb:21:in `_app_views_line_items__line_item_erb__4103207066806203831_69958508622540'
  app/views/layouts/application.html.erb:33:in `_app_views_layouts_application_html_erb__3489235572292502889_69958513109740'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (34.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (46.8ms)
  [1m[36mLineItem Load (0.5ms)[0m  [1mSELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 46]]
  [1m[35m (107.2ms)[0m  commit transaction


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:40:05 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (6.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.6ms)
Completed 200 OK in 74ms (Views: 71.5ms | ActiveRecord: 1.0ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:40:53 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (6.9ms)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.6ms)

ActionView::Template::Error (wrong number of arguments (3 for 1..2)):
    34: 								<%= f.hidden_field :title, value: dish.title %>
    35: 								<%= f.hidden_field :price, value: dish.price %>
    36: 								<%= f.hidden_field :cart_id, value: current_cart.id %>
    37: 								<%= f.number_field :quantity, '1', min: 1 %>							
    38: 						</td>
    39: 						<td><%= f.submit "Добавить" %></td>
    40: 							<% end %>
  app/views/establishments/show.html.erb:37:in `block (2 levels) in _app_views_establishments_show_html_erb__2199457652558529205_69958509639940'
  app/views/establishments/show.html.erb:33:in `block in _app_views_establishments_show_html_erb__2199457652558529205_69958509639940'
  app/views/establishments/show.html.erb:27:in `_app_views_establishments_show_html_erb__2199457652558529205_69958509639940'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (33.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.0ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:41:58 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered establishments/show.html.erb within layouts/application (2.1ms)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.2ms)

SyntaxError (/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views/establishments/show.html.erb:37: syntax error, unexpected tINTEGER, expecting ')'
....number_field :quantity, :min 1 );@output_buffer.safe_append...
...                               ^):
  app/views/establishments/show.html.erb:37: syntax error, unexpected tINTEGER, expecting ')'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (10.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (35.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (47.0ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:42:36 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (9.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.8ms)
Completed 200 OK in 94ms (Views: 90.8ms | ActiveRecord: 1.0ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:43:29 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (8.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (7.5ms)
Completed 200 OK in 85ms (Views: 81.7ms | ActiveRecord: 1.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 10:43:32 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 04:43:32.640745"], ["updated_at", "2017-08-29 04:43:32.640745"]]
  [1m[35m (391.8ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (7.2ms)
  Rendered line_items/create.js.erb (9.2ms)
Completed 200 OK in 408ms (Views: 11.6ms | ActiveRecord: 392.8ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 10:43:33 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 04:43:33.906760"], ["updated_at", "2017-08-29 04:43:33.906760"]]
  [1m[36m (90.7ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.7ms)
  Rendered line_items/create.js.erb (7.2ms)
Completed 200 OK in 104ms (Views: 8.9ms | ActiveRecord: 91.6ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 10:43:34 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 04:43:34.051824"], ["updated_at", "2017-08-29 04:43:34.051824"]]
  [1m[35m (56.1ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (7.8ms)
  Rendered line_items/create.js.erb (9.2ms)
Completed 200 OK in 72ms (Views: 10.6ms | ActiveRecord: 57.2ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 10:43:34 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 04:43:34.184739"], ["updated_at", "2017-08-29 04:43:34.184739"]]
  [1m[36m (100.7ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (6.9ms)
  Rendered line_items/create.js.erb (8.7ms)
Completed 200 OK in 116ms (Views: 10.2ms | ActiveRecord: 101.6ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 10:43:34 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 04:43:34.324129"], ["updated_at", "2017-08-29 04:43:34.324129"]]
  [1m[35m (95.0ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (6.0ms)
  Rendered line_items/create.js.erb (7.3ms)
Completed 200 OK in 108ms (Views: 8.8ms | ActiveRecord: 95.8ms)


Started DELETE "/line_items/47" for 127.0.0.1 at 2017-08-29 10:43:38 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"47"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 47]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 47]]
  [1m[35m (166.2ms)[0m  commit transaction
  Rendered line_items/destroy.js.erb (0.1ms)
Completed 200 OK in 172ms (Views: 2.0ms | ActiveRecord: 166.7ms)


Started DELETE "/line_items/48" for 127.0.0.1 at 2017-08-29 10:43:39 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"48"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 48]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 48]]
  [1m[35m (100.6ms)[0m  commit transaction
  Rendered line_items/destroy.js.erb (0.1ms)
Completed 200 OK in 111ms (Views: 2.5ms | ActiveRecord: 101.8ms)


Started DELETE "/line_items/49" for 127.0.0.1 at 2017-08-29 10:43:39 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"49"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 49]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 49]]
  [1m[35m (62.2ms)[0m  commit transaction
  Rendered line_items/destroy.js.erb (0.1ms)
Completed 200 OK in 68ms (Views: 2.6ms | ActiveRecord: 62.7ms)


Started DELETE "/line_items/50" for 127.0.0.1 at 2017-08-29 10:43:40 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"50"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 50]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 50]]
  [1m[35m (76.1ms)[0m  commit transaction
  Rendered line_items/destroy.js.erb (0.1ms)
Completed 200 OK in 86ms (Views: 3.8ms | ActiveRecord: 76.6ms)


Started DELETE "/line_items/34" for 127.0.0.1 at 2017-08-29 10:43:42 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"34"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 34]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 34]]
  [1m[35m (93.5ms)[0m  commit transaction
  Rendered line_items/destroy.js.erb (0.1ms)
Completed 200 OK in 99ms (Views: 2.0ms | ActiveRecord: 93.9ms)


Started DELETE "/line_items/35" for 127.0.0.1 at 2017-08-29 10:43:42 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"35"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 35]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 35]]
  [1m[35m (80.4ms)[0m  commit transaction
  Rendered line_items/destroy.js.erb (0.1ms)
Completed 200 OK in 87ms (Views: 2.5ms | ActiveRecord: 80.9ms)


Started DELETE "/line_items/38" for 127.0.0.1 at 2017-08-29 10:43:43 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"38"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 38]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 38]]
  [1m[35m (85.2ms)[0m  commit transaction
  Rendered line_items/destroy.js.erb (0.1ms)
Completed 200 OK in 92ms (Views: 1.9ms | ActiveRecord: 85.9ms)


Started DELETE "/line_items/51" for 127.0.0.1 at 2017-08-29 10:43:43 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"51"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 51]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 51]]
  [1m[35m (114.6ms)[0m  commit transaction
  Rendered line_items/destroy.js.erb (0.1ms)
Completed 200 OK in 120ms (Views: 1.9ms | ActiveRecord: 115.1ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:43:49 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (5.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.9ms)
Completed 200 OK in 99ms (Views: 95.6ms | ActiveRecord: 0.8ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 10:45:10 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.3ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.2ms)
Completed 200 OK in 80ms (Views: 78.4ms | ActiveRecord: 0.6ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:45:11 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (14.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.9ms)
Completed 200 OK in 117ms (Views: 112.0ms | ActiveRecord: 1.0ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:46:27 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (21.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.7ms)
Completed 200 OK in 118ms (Views: 99.7ms | ActiveRecord: 2.3ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 10:46:30 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (1.8ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.5ms)
Completed 200 OK in 76ms (Views: 74.4ms | ActiveRecord: 0.6ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:46:31 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (8.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (2.7ms)
Completed 200 OK in 86ms (Views: 82.2ms | ActiveRecord: 0.9ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:47:08 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (5.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.6ms)
Completed 200 OK in 66ms (Views: 64.3ms | ActiveRecord: 0.7ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 10:47:11 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.9ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.4ms)
Completed 200 OK in 98ms (Views: 96.6ms | ActiveRecord: 0.6ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-08-29 10:47:12 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 3]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (6.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (2.8ms)
Completed 200 OK in 84ms (Views: 80.7ms | ActiveRecord: 0.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 10:47:14 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Ice Cream", "price"=>"100.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Ice Cream"], ["quantity", 1], ["price", 100.0], ["cart_id", 1], ["created_at", "2017-08-29 04:47:14.332769"], ["updated_at", "2017-08-29 04:47:14.332769"]]
  [1m[36m (141.3ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (6.9ms)
  Rendered line_items/create.js.erb (8.0ms)
Completed 200 OK in 159ms (Views: 12.0ms | ActiveRecord: 142.4ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 10:47:16 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (3.6ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.4ms)
Completed 200 OK in 87ms (Views: 84.8ms | ActiveRecord: 0.9ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:47:17 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (7.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.5ms)
Completed 200 OK in 109ms (Views: 105.9ms | ActiveRecord: 1.2ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 10:47:19 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 04:47:19.412349"], ["updated_at", "2017-08-29 04:47:19.412349"]]
  [1m[36m (87.2ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (6.0ms)
  Rendered line_items/create.js.erb (7.1ms)
Completed 200 OK in 102ms (Views: 8.8ms | ActiveRecord: 88.2ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:49:14 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (6.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.5ms)
Completed 200 OK in 85ms (Views: 82.1ms | ActiveRecord: 0.9ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:49:16 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (5.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (6.0ms)
Completed 200 OK in 79ms (Views: 76.2ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 10:49:22 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.1ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (6.1ms)
Completed 200 OK in 74ms (Views: 71.7ms | ActiveRecord: 0.8ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:49:23 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (12.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.2ms)
Completed 200 OK in 105ms (Views: 97.8ms | ActiveRecord: 1.0ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:51:14 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (8.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.2ms)
Completed 200 OK in 107ms (Views: 104.1ms | ActiveRecord: 1.2ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:52:00 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (7.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (7.3ms)
Completed 200 OK in 76ms (Views: 72.8ms | ActiveRecord: 1.2ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:55:44 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (7.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.3ms)
Completed 200 OK in 72ms (Views: 69.0ms | ActiveRecord: 1.1ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:56:10 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (6.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (6.3ms)
Completed 200 OK in 78ms (Views: 74.6ms | ActiveRecord: 1.0ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:56:18 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (21.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.5ms)
Completed 200 OK in 83ms (Views: 79.1ms | ActiveRecord: 1.0ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 10:56:31 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (6.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.5ms)
Completed 200 OK in 68ms (Views: 65.0ms | ActiveRecord: 1.0ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:00:17 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (5.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (7.8ms)
Completed 200 OK in 73ms (Views: 69.5ms | ActiveRecord: 1.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 11:00:56 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 05:00:56.847522"], ["updated_at", "2017-08-29 05:00:56.847522"]]
  [1m[36m (103.3ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.9ms)
  Rendered line_items/create.js.erb (7.3ms)
Completed 200 OK in 117ms (Views: 8.8ms | ActiveRecord: 104.2ms)


Started DELETE "/line_items/54" for 127.0.0.1 at 2017-08-29 11:01:09 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"54"}
  [1m[35mLineItem Load (0.3ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 54]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 54]]
  [1m[36m (97.5ms)[0m  [1mcommit transaction[0m
  Rendered line_items/destroy.js.erb (0.1ms)
Completed 200 OK in 104ms (Views: 2.0ms | ActiveRecord: 98.2ms)


Started DELETE "/line_items/53" for 127.0.0.1 at 2017-08-29 11:01:10 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"53"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 53]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 53]]
  [1m[36m (90.8ms)[0m  [1mcommit transaction[0m
  Rendered line_items/destroy.js.erb (0.1ms)
Completed 200 OK in 97ms (Views: 2.7ms | ActiveRecord: 91.2ms)


Started DELETE "/line_items/52" for 127.0.0.1 at 2017-08-29 11:01:11 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"52"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 52]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 52]]
  [1m[36m (77.4ms)[0m  [1mcommit transaction[0m
  Rendered line_items/destroy.js.erb (0.1ms)
Completed 200 OK in 84ms (Views: 2.6ms | ActiveRecord: 77.9ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:01:29 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (7.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.8ms)
Completed 200 OK in 87ms (Views: 83.2ms | ActiveRecord: 1.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 11:01:31 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 05:01:31.635254"], ["updated_at", "2017-08-29 05:01:31.635254"]]
  [1m[35m (173.5ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.2ms)
  Rendered line_items/create.js.erb (5.2ms)
Completed 200 OK in 186ms (Views: 6.9ms | ActiveRecord: 174.4ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 11:01:32 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Sushi", "price"=>"320.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Sushi"], ["quantity", 1], ["price", 320.0], ["cart_id", 1], ["created_at", "2017-08-29 05:01:32.547697"], ["updated_at", "2017-08-29 05:01:32.547697"]]
  [1m[36m (104.6ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.5ms)
  Rendered line_items/create.js.erb (5.4ms)
Completed 200 OK in 116ms (Views: 6.9ms | ActiveRecord: 105.4ms)


Started DELETE "/line_items/55" for 127.0.0.1 at 2017-08-29 11:01:34 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"55"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 55]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 55]]
  [1m[36m (87.4ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.8ms)
  Rendered line_items/destroy.js.erb (8.5ms)
Completed 200 OK in 103ms (Views: 11.8ms | ActiveRecord: 88.4ms)


Started DELETE "/line_items/56" for 127.0.0.1 at 2017-08-29 11:01:35 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"56"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 56]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 56]]
  [1m[36m (100.6ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.0ms)
  Rendered line_items/destroy.js.erb (5.0ms)
Completed 200 OK in 111ms (Views: 6.5ms | ActiveRecord: 101.4ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:01:48 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (4.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (2.8ms)
Completed 200 OK in 67ms (Views: 61.7ms | ActiveRecord: 0.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 11:01:50 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 05:01:50.153947"], ["updated_at", "2017-08-29 05:01:50.153947"]]
  [1m[35m (138.0ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.4ms)
  Rendered line_items/create.js.erb (5.5ms)
Completed 200 OK in 151ms (Views: 6.9ms | ActiveRecord: 138.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 11:01:50 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 05:01:50.550290"], ["updated_at", "2017-08-29 05:01:50.550290"]]
  [1m[36m (85.5ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.6ms)
  Rendered line_items/create.js.erb (5.7ms)
Completed 200 OK in 97ms (Views: 7.2ms | ActiveRecord: 86.3ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 11:01:50 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 05:01:50.860050"], ["updated_at", "2017-08-29 05:01:50.860050"]]
  [1m[35m (75.5ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.6ms)
  Rendered line_items/create.js.erb (6.7ms)
Completed 200 OK in 88ms (Views: 8.0ms | ActiveRecord: 76.5ms)


Started DELETE "/line_items/57" for 127.0.0.1 at 2017-08-29 11:01:52 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"57"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 57]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 57]]
  [1m[35m (94.1ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.1ms)
  Rendered line_items/destroy.js.erb (6.9ms)
Completed 200 OK in 107ms (Views: 8.6ms | ActiveRecord: 95.0ms)


Started DELETE "/line_items/58" for 127.0.0.1 at 2017-08-29 11:01:53 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"58"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 58]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 58]]
  [1m[35m (96.1ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.9ms)
  Rendered line_items/destroy.js.erb (6.0ms)
Completed 200 OK in 109ms (Views: 7.7ms | ActiveRecord: 97.1ms)


Started DELETE "/line_items/59" for 127.0.0.1 at 2017-08-29 11:01:55 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"59"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 59]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 59]]
  [1m[35m (97.3ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (2.9ms)
  Rendered line_items/destroy.js.erb (3.9ms)
Completed 200 OK in 107ms (Views: 5.5ms | ActiveRecord: 98.0ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:02:12 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (6.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (2.7ms)
Completed 200 OK in 85ms (Views: 82.4ms | ActiveRecord: 0.7ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 11:02:16 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 05:02:16.509949"], ["updated_at", "2017-08-29 05:02:16.509949"]]
  [1m[36m (97.9ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.3ms)
  Rendered line_items/create.js.erb (5.4ms)
Completed 200 OK in 109ms (Views: 6.9ms | ActiveRecord: 98.7ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 11:02:19 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 05:02:19.211027"], ["updated_at", "2017-08-29 05:02:19.211027"]]
  [1m[35m (92.9ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.6ms)
  Rendered line_items/create.js.erb (5.6ms)
Completed 200 OK in 105ms (Views: 7.0ms | ActiveRecord: 93.7ms)


Started DELETE "/line_items/60" for 127.0.0.1 at 2017-08-29 11:02:23 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"60"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 60]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 60]]
  [1m[35m (83.6ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.4ms)
  Rendered line_items/destroy.js.erb (6.0ms)
Completed 200 OK in 94ms (Views: 7.5ms | ActiveRecord: 84.4ms)


Started DELETE "/line_items/61" for 127.0.0.1 at 2017-08-29 11:02:26 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"61"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 61]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 61]]
  [1m[35m (103.6ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (2.9ms)
  Rendered line_items/destroy.js.erb (3.8ms)
Completed 200 OK in 113ms (Views: 5.4ms | ActiveRecord: 104.4ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:02:28 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (5.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.7ms)
Completed 200 OK in 77ms (Views: 74.0ms | ActiveRecord: 0.8ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:02:58 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (6.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (2.9ms)
Completed 200 OK in 65ms (Views: 62.3ms | ActiveRecord: 0.7ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:04:24 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (6.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.9ms)
Completed 200 OK in 77ms (Views: 73.9ms | ActiveRecord: 0.9ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:04:27 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (4.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.0ms)
Completed 200 OK in 63ms (Views: 60.4ms | ActiveRecord: 0.7ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:04:28 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (10.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (2.9ms)
Completed 200 OK in 84ms (Views: 79.9ms | ActiveRecord: 1.1ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:04:28 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (7.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (2.9ms)
Completed 200 OK in 84ms (Views: 81.1ms | ActiveRecord: 0.9ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:04:29 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (6.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.0ms)
Completed 200 OK in 85ms (Views: 81.9ms | ActiveRecord: 0.9ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:04:38 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (8.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.6ms)
Completed 200 OK in 79ms (Views: 74.4ms | ActiveRecord: 1.2ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 11:04:40 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 05:04:40.043757"], ["updated_at", "2017-08-29 05:04:40.043757"]]
  [1m[36m (124.5ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.4ms)
  Rendered line_items/create.js.erb (6.4ms)
Completed 200 OK in 137ms (Views: 8.0ms | ActiveRecord: 125.3ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 11:04:40 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 05:04:40.721742"], ["updated_at", "2017-08-29 05:04:40.721742"]]
  [1m[35m (90.1ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.8ms)
  Rendered line_items/create.js.erb (5.9ms)
Completed 200 OK in 102ms (Views: 7.5ms | ActiveRecord: 90.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 11:04:41 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 05:04:41.391011"], ["updated_at", "2017-08-29 05:04:41.391011"]]
  [1m[36m (97.6ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.2ms)
  Rendered line_items/create.js.erb (6.2ms)
Completed 200 OK in 110ms (Views: 7.6ms | ActiveRecord: 98.5ms)


Started DELETE "/line_items/62" for 127.0.0.1 at 2017-08-29 11:04:45 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"62"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 62]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 62]]
  [1m[36m (155.0ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.9ms)
  Rendered line_items/destroy.js.erb (6.0ms)
Completed 200 OK in 166ms (Views: 7.3ms | ActiveRecord: 155.9ms)


Started DELETE "/line_items/63" for 127.0.0.1 at 2017-08-29 11:04:46 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"63"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 63]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 63]]
  [1m[36m (119.4ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.8ms)
  Rendered line_items/destroy.js.erb (5.9ms)
Completed 200 OK in 131ms (Views: 7.8ms | ActiveRecord: 120.2ms)


Started DELETE "/line_items/64" for 127.0.0.1 at 2017-08-29 11:04:48 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"64"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 64]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 64]]
  [1m[36m (92.2ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.6ms)
  Rendered line_items/destroy.js.erb (7.0ms)
Completed 200 OK in 105ms (Views: 8.5ms | ActiveRecord: 93.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 11:12:11 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 05:12:11.977912"], ["updated_at", "2017-08-29 05:12:11.977912"]]
  [1m[35m (172.1ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.6ms)
  Rendered line_items/create.js.erb (5.7ms)
Completed 200 OK in 185ms (Views: 7.0ms | ActiveRecord: 173.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 11:12:12 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 05:12:12.544607"], ["updated_at", "2017-08-29 05:12:12.544607"]]
  [1m[36m (82.7ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.7ms)
  Rendered line_items/create.js.erb (5.7ms)
Completed 200 OK in 95ms (Views: 7.3ms | ActiveRecord: 83.5ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:18:47 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (27.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.5ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (13.6ms)
Completed 200 OK in 145ms (Views: 124.2ms | ActiveRecord: 3.6ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:19:02 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (6.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.2ms)
Completed 200 OK in 67ms (Views: 64.0ms | ActiveRecord: 1.0ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:19:13 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (4.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (7.1ms)
Completed 500 Internal Server Error in 67ms (ActiveRecord: 0.9ms)

ActionView::Template::Error (undefined method `total_price' for nil:NilClass):
    33: 	      		<td></td>
    34: 	      		<td></td>
    35: 	      		<td></td>
    36: 	      		<td colspan="2"><%= @cart.total_price %></td>
    37: 	      	</tr>
    38: 	    	</table>
    39: 	    </ol>
  app/views/line_items/_line_item.erb:36:in `_app_views_line_items__line_item_erb__4103207066806203831_69958589276900'
  app/views/layouts/application.html.erb:32:in `_app_views_layouts_application_html_erb__3489235572292502889_69958511470580'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (32.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.1ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:19:21 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (5.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.7ms)
Completed 200 OK in 66ms (Views: 63.5ms | ActiveRecord: 0.8ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:22:45 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (21.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (8.9ms)
Completed 200 OK in 117ms (Views: 82.7ms | ActiveRecord: 2.6ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:25:00 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (23.3ms)
  [1m[35mCACHE (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (15.8ms)
Completed 500 Internal Server Error in 131ms (ActiveRecord: 3.4ms)

ActionView::Template::Error (undefined method `total_price' for nil:NilClass):
    33: 	      		<td></td>
    34: 	      		<td></td>
    35: 	      		<td></td>
    36: 	      		<td colspan="2"><%= @cart.total_price %></td>
    37: 	      	</tr>
    38: 	    	</table>
    39: 	    </ol>
  app/views/line_items/_line_item.erb:36:in `_app_views_line_items__line_item_erb__4103207066806203831_46963261505140'
  app/views/layouts/application.html.erb:32:in `_app_views_layouts_application_html_erb__3489235572292502889_69958511470580'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (23.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (9.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (53.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (28.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (52.3ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:25:55 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (8.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (25.3ms)
Completed 500 Internal Server Error in 135ms (ActiveRecord: 0.9ms)

ActionView::Template::Error (undefined local variable or method `cart' for #<#<Class:0x007f40f82216f0>:0x007f40f8115e78>):
    33: 	      		<td></td>
    34: 	      		<td></td>
    35: 	      		<td></td>
    36: 	      		<td colspan="2"><%= cart.total_price %></td>
    37: 	      	</tr>
    38: 	    	</table>
    39: 	    </ol>
  app/views/line_items/_line_item.erb:36:in `_app_views_line_items__line_item_erb__4103207066806203831_69958515270180'
  app/views/layouts/application.html.erb:32:in `_app_views_layouts_application_html_erb__3489235572292502889_69958511470580'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (33.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.9ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:27:20 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (19.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (27.9ms)
Completed 500 Internal Server Error in 119ms (ActiveRecord: 2.7ms)

ActionView::Template::Error (undefined local variable or method `cart' for #<#<Class:0x007f40f8ebf998>:0x007f40f8e8d9e8>):
    33: 	      		<td></td>
    34: 	      		<td></td>
    35: 	      		<td></td>
    36: 	      		<td colspan="2"><%= cart.total_price %></td>
    37: 	      	</tr>
    38: 	    	</table>
    39: 	    </ol>
  app/views/line_items/_line_item.erb:36:in `_app_views_line_items__line_item_erb__4103207066806203831_69958515270180'
  app/views/layouts/application.html.erb:32:in `_app_views_layouts_application_html_erb__3489235572292502889_69958511470580'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (32.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.3ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:27:34 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (21.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (27.1ms)
Completed 500 Internal Server Error in 123ms (ActiveRecord: 2.7ms)

ActionView::Template::Error (undefined local variable or method `cart' for #<#<Class:0x007f40f887d9b8>:0x007f40f8878148>):
    33: 	      		<td></td>
    34: 	      		<td></td>
    35: 	      		<td></td>
    36: 	      		<td colspan="2"><%= cart.total_price %></td>
    37: 	      	</tr>
    38: 	    	</table>
    39: 	    </ol>
  app/views/line_items/_line_item.erb:36:in `_app_views_line_items__line_item_erb__4103207066806203831_69958515270180'
  app/views/layouts/application.html.erb:32:in `_app_views_layouts_application_html_erb__3489235572292502889_69958511470580'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (34.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (48.5ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:33:40 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (5.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (8.2ms)
Completed 500 Internal Server Error in 73ms (ActiveRecord: 0.9ms)

ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
    33: 	      		<td></td>
    34: 	      		<td></td>
    35: 	      		<td></td>
    36: 	      		<td colspan="2"><%= render 'carts/cart' %></td>
    37: 	      	</tr>
    38: 	    	</table>
    39: 	    </ol>
  app/views/line_items/_line_item.erb:36:in `_app_views_line_items__line_item_erb__4103207066806203831_46963265955400'
  app/views/layouts/application.html.erb:32:in `_app_views_layouts_application_html_erb__3489235572292502889_69958511470580'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (35.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.2ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:33:51 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (5.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered cart/_cart.erb (2.6ms)
  Rendered line_items/_line_item.erb (25.7ms)
Completed 500 Internal Server Error in 90ms (ActiveRecord: 0.9ms)

ActionView::Template::Error (undefined method `total_price' for nil:NilClass):
    1: <%= @cart.total_price %>
  app/views/cart/_cart.erb:1:in `_app_views_cart__cart_erb___1305071732560478016_69958510876760'
  app/views/line_items/_line_item.erb:36:in `_app_views_line_items__line_item_erb__4103207066806203831_46963235947740'
  app/views/layouts/application.html.erb:32:in `_app_views_layouts_application_html_erb__3489235572292502889_69958511470580'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (17.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (6.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (46.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (43.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (65.9ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:34:01 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (4.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered cart/_cart.erb (20.6ms)
  Rendered line_items/_line_item.erb (26.8ms)
Completed 500 Internal Server Error in 97ms (ActiveRecord: 0.9ms)

ActionView::Template::Error (undefined local variable or method `cart' for #<#<Class:0x007f40f887d9b8>:0x007f40f869fec0>):
    1: <%= cart.total_price %>
  app/views/cart/_cart.erb:1:in `_app_views_cart__cart_erb___1305071732560478016_69958513826520'
  app/views/line_items/_line_item.erb:36:in `_app_views_line_items__line_item_erb__4103207066806203831_46963235947740'
  app/views/layouts/application.html.erb:32:in `_app_views_layouts_application_html_erb__3489235572292502889_69958511470580'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (10.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (6.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (38.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.3ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:34:43 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (6.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered cart/_cart.erb (3.1ms)
  Rendered line_items/_line_item.erb (8.3ms)
Completed 500 Internal Server Error in 71ms (ActiveRecord: 1.1ms)

ActionView::Template::Error (undefined method `total_price' for nil:NilClass):
    1: <%= @cart.total_price %>
  app/views/cart/_cart.erb:1:in `_app_views_cart__cart_erb___1305071732560478016_69958508416500'
  app/views/line_items/_line_item.erb:36:in `_app_views_line_items__line_item_erb__4103207066806203831_46963235947740'
  app/views/layouts/application.html.erb:32:in `_app_views_layouts_application_html_erb__3489235572292502889_69958511470580'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (31.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (41.7ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:35:56 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (6.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered cart/_cart.erb (20.0ms)
  Rendered line_items/_line_item.erb (25.1ms)
Completed 500 Internal Server Error in 85ms (ActiveRecord: 1.0ms)

ActionView::Template::Error (undefined local variable or method `cart' for #<#<Class:0x007f40f887d9b8>:0x007f410394d248>):
    1: <%= cart.total_price %>
  app/views/cart/_cart.erb:1:in `_app_views_cart__cart_erb___1305071732560478016_69958512812540'
  app/views/line_items/_line_item.erb:36:in `_app_views_line_items__line_item_erb__4103207066806203831_46963235947740'
  app/views/layouts/application.html.erb:32:in `_app_views_layouts_application_html_erb__3489235572292502889_69958511470580'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (32.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (41.9ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:36:10 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (5.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.3ms)
Completed 200 OK in 65ms (Views: 62.5ms | ActiveRecord: 0.9ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:37:04 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (4.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (7.3ms)
Completed 500 Internal Server Error in 73ms (ActiveRecord: 0.8ms)

ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    33: 	      		<td></td>
    34: 	      		<td></td>
    35: 	      		<td></td>
    36: 	      		<td colspan="2"><%= render @cart %></td>
    37: 	      	</tr>
    38: 	    	</table>
    39: 	    </ol>
  app/views/line_items/_line_item.erb:36:in `_app_views_line_items__line_item_erb__4103207066806203831_46963262947680'
  app/views/layouts/application.html.erb:32:in `_app_views_layouts_application_html_erb__3489235572292502889_69958511470580'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (31.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (41.0ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:38:56 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (8.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.3ms)
  Rendered cart/_cart.erb (18.4ms)
Completed 500 Internal Server Error in 93ms (ActiveRecord: 1.3ms)

ActionView::Template::Error (undefined local variable or method `cart' for #<#<Class:0x007f40f887d9b8>:0x007f40e00849b8>):
    1: <%= cart.total_price %>
  app/views/cart/_cart.erb:1:in `_app_views_cart__cart_erb___1305071732560478016_69958602729680'
  app/views/layouts/application.html.erb:37:in `_app_views_layouts_application_html_erb__3489235572292502889_69958605466540'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (30.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.0ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:39:03 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (6.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.4ms)
  Rendered cart/_cart.erb (2.3ms)
Completed 500 Internal Server Error in 68ms (ActiveRecord: 0.9ms)

ActionView::Template::Error (undefined method `total_price' for nil:NilClass):
    1: <%= @cart.total_price %>
  app/views/cart/_cart.erb:1:in `_app_views_cart__cart_erb___1305071732560478016_69958509322060'
  app/views/layouts/application.html.erb:37:in `_app_views_layouts_application_html_erb__3489235572292502889_69958605466540'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (11.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (38.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.0ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:39:35 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (4.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.8ms)
Completed 500 Internal Server Error in 79ms (ActiveRecord: 0.8ms)

ActionView::Template::Error (Missing partial cart/_cart with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
    34: 
    35: 
    36: 
    37:       <%= render 'cart/cart' %>
    38:     </div><!-- /.navbar-collapse -->
    39:   </div><!-- /.container-fluid -->
    40: </nav>
  app/views/layouts/application.html.erb:37:in `_app_views_layouts_application_html_erb__3489235572292502889_69958605466540'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (10.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (36.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (47.9ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:39:51 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (5.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.3ms)
Completed 200 OK in 85ms (Views: 81.2ms | ActiveRecord: 1.0ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:43:27 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (28.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (10.9ms)
Completed 200 OK in 145ms (Views: 120.8ms | ActiveRecord: 2.6ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 11:43:30 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 05:43:30.270243"], ["updated_at", "2017-08-29 05:43:30.270243"]]
  [1m[35m (113.3ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.9ms)
  Rendered line_items/create.js.erb (7.3ms)
Completed 200 OK in 130ms (Views: 11.2ms | ActiveRecord: 114.3ms)


Started DELETE "/line_items/65" for 127.0.0.1 at 2017-08-29 11:43:36 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"65"}
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 65]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 65]]
  [1m[35m (141.2ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.2ms)
  Rendered line_items/destroy.js.erb (5.2ms)
Completed 200 OK in 152ms (Views: 6.6ms | ActiveRecord: 142.3ms)


Started DELETE "/line_items/66" for 127.0.0.1 at 2017-08-29 11:43:37 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"66"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 66]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 66]]
  [1m[35m (91.9ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.8ms)
  Rendered line_items/destroy.js.erb (7.5ms)
Completed 200 OK in 106ms (Views: 10.7ms | ActiveRecord: 92.8ms)


Started DELETE "/line_items/67" for 127.0.0.1 at 2017-08-29 11:43:38 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"67"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 67]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 67]]
  [1m[35m (88.0ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (2.9ms)
  Rendered line_items/destroy.js.erb (4.3ms)
Completed 200 OK in 98ms (Views: 6.6ms | ActiveRecord: 88.7ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:43:42 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (5.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (2.7ms)
Completed 200 OK in 63ms (Views: 59.9ms | ActiveRecord: 0.8ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:54:02 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (22.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.4ms)
Completed 500 Internal Server Error in 3380ms (ActiveRecord: 2.6ms)

ActionView::Template::Error (Missing partial cart/_cart with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
    29:       </ul>
    30:      
    31:         <%= render 'line_items/line_item' %>
    32:           <%= render 'cart/cart' %>
    33:     </div><!-- /.navbar-collapse -->
    34:   </div><!-- /.container-fluid -->
    35: </nav>
  app/views/layouts/application.html.erb:32:in `_app_views_layouts_application_html_erb__3489235572292502889_69958598021320'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (35.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.5ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:54:25 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (5.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.2ms)
  Rendered carts/_cart.erb (30.4ms)
Completed 500 Internal Server Error in 146ms (ActiveRecord: 0.8ms)

ActionView::Template::Error (undefined local variable or method `cart' for #<#<Class:0x007f4103359698>:0x007f40f82e9c18>):
    1: <%= cart.total_price %>
  app/views/carts/_cart.erb:1:in `_app_views_carts__cart_erb__982697369487848078_69958587153120'
  app/views/layouts/application.html.erb:32:in `_app_views_layouts_application_html_erb__3489235572292502889_69958509175820'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (33.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (24.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (46.7ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:55:13 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.9ms)

NameError (uninitialized constant EstablishmentsController::Card):
  app/controllers/establishments_controller.rb:8:in `show'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (29.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.6ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:56:45 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 2]]
Completed 404 Not Found in 16ms (ActiveRecord: 1.5ms)

ActiveRecord::RecordNotFound (Couldn't find Cart with 'id'=2):
  app/controllers/establishments_controller.rb:8:in `show'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (30.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.0ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:58:01 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (16.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.5ms)
  Rendered carts/_cart.erb (18.2ms)
Completed 500 Internal Server Error in 118ms (ActiveRecord: 2.5ms)

ActionView::Template::Error (undefined local variable or method `cart' for #<#<Class:0x00556cf7be9678>:0x00556cf7b66db8>):
    1: <%= cart.total_price %>
  app/views/carts/_cart.erb:1:in `_app_views_carts__cart_erb__982697369487848078_69958587153120'
  app/views/layouts/application.html.erb:32:in `_app_views_layouts_application_html_erb__3489235572292502889_69958509175820'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (10.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (34.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.1ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:59:24 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (23.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.3ms)
  Rendered carts/_cart.erb (18.1ms)
Completed 500 Internal Server Error in 127ms (ActiveRecord: 2.5ms)

ActionView::Template::Error (undefined local variable or method `cart' for #<#<Class:0x007f40e15cac00>:0x007f40e15c2dc0>):
    1: <%= cart.total_price %>
  app/views/carts/_cart.erb:1:in `_app_views_carts__cart_erb__982697369487848078_69958587153120'
  app/views/layouts/application.html.erb:32:in `_app_views_layouts_application_html_erb__3489235572292502889_69958509175820'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (33.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.4ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 11:59:55 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (6.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.9ms)
Completed 200 OK in 74ms (Views: 71.1ms | ActiveRecord: 0.8ms)


Started GET "/assets/carts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2017-08-29 11:59:56 +0600


Started GET "/assets/carts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for 127.0.0.1 at 2017-08-29 11:59:56 +0600


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 11:59:59 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 05:59:59.548095"], ["updated_at", "2017-08-29 05:59:59.548095"]]
  [1m[35m (81.6ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (20.7ms)
  Rendered line_items/_line_item.erb (27.0ms)
  Rendered line_items/create.js.erb (28.1ms)
Completed 500 Internal Server Error in 120ms (ActiveRecord: 82.6ms)

ActionView::Template::Error (undefined local variable or method `cart' for #<#<Class:0x00556cf6c92850>:0x00556cf6c1fe68>):
    1: <%= cart.total_price %>
  app/views/carts/_cart.erb:1:in `_app_views_carts__cart_erb__982697369487848078_46963238518860'
  app/views/line_items/_line_item.erb:19:in `_app_views_line_items__line_item_erb__4103207066806203831_46963241754660'
  app/views/line_items/create.js.erb:1:in `_app_views_line_items_create_js_erb___2600555631847173814_69958586688340'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (15.4ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:00:03 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 06:00:03.574158"], ["updated_at", "2017-08-29 06:00:03.574158"]]
  [1m[35m (94.0ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (19.4ms)
  Rendered line_items/_line_item.erb (26.8ms)
  Rendered line_items/create.js.erb (28.5ms)
Completed 500 Internal Server Error in 131ms (ActiveRecord: 95.1ms)

ActionView::Template::Error (undefined local variable or method `cart' for #<#<Class:0x00556cf6c92850>:0x007f40e151c498>):
    1: <%= cart.total_price %>
  app/views/carts/_cart.erb:1:in `_app_views_carts__cart_erb__982697369487848078_46963238518860'
  app/views/line_items/_line_item.erb:19:in `_app_views_line_items__line_item_erb__4103207066806203831_46963241754660'
  app/views/line_items/create.js.erb:1:in `_app_views_line_items_create_js_erb___2600555631847173814_69958586688340'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (15.1ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:00:05 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (6.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (20.7ms)
  Rendered line_items/_line_item.erb (24.7ms)
Completed 500 Internal Server Error in 105ms (ActiveRecord: 1.0ms)

ActionView::Template::Error (undefined local variable or method `cart' for #<#<Class:0x007f40e15cac00>:0x007f40f86d34c8>):
    1: <%= cart.total_price %>
  app/views/carts/_cart.erb:1:in `_app_views_carts__cart_erb__982697369487848078_69958587153120'
  app/views/line_items/_line_item.erb:19:in `_app_views_line_items__line_item_erb__4103207066806203831_46963261463920'
  app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb__3489235572292502889_69958591954320'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (33.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.3ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:00:25 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (4.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.7ms)
  Rendered line_items/_line_item.erb (6.4ms)
Completed 500 Internal Server Error in 72ms (ActiveRecord: 0.7ms)

ActionView::Template::Error (undefined method `total_price' for nil:NilClass):
    1: <%= @cart.total_price %>
  app/views/carts/_cart.erb:1:in `_app_views_carts__cart_erb__982697369487848078_69958317277940'
  app/views/line_items/_line_item.erb:19:in `_app_views_line_items__line_item_erb__4103207066806203831_46963261463920'
  app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb__3489235572292502889_69958591954320'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (34.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.6ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:01:35 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (6.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (8.8ms)
  Rendered line_items/_line_item.erb (15.0ms)
Completed 500 Internal Server Error in 115ms (ActiveRecord: 1.3ms)

ActionView::Template::Error (undefined method `total_price' for #<LineItem:0x007f41015fad40>):
    1: <%= current_cart.total_price %>
  app/models/cart.rb:5:in `block in total_price'
  app/models/cart.rb:5:in `total_price'
  app/views/carts/_cart.erb:1:in `_app_views_carts__cart_erb__982697369487848078_69958586659180'
  app/views/line_items/_line_item.erb:19:in `_app_views_line_items__line_item_erb__4103207066806203831_46963261463920'
  app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb__3489235572292502889_69958591954320'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (10.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (35.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.1ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:02:23 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (21.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered carts/_cart.erb (2.8ms)
  Rendered line_items/_line_item.erb (8.4ms)
Completed 500 Internal Server Error in 105ms (ActiveRecord: 2.5ms)

ActionView::Template::Error (undefined local variable or method `current_cart' for #<Cart:0x007f40e0754b08>):
    1: <%= current_cart.total_price %>
  app/models/cart.rb:5:in `total_price'
  app/views/carts/_cart.erb:1:in `_app_views_carts__cart_erb__982697369487848078_69958586659180'
  app/views/line_items/_line_item.erb:19:in `_app_views_line_items__line_item_erb__4103207066806203831_46963261463920'
  app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb__3489235572292502889_69958591954320'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (10.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (37.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.4ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:03:23 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (19.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered carts/_cart.erb (4.4ms)
  Rendered line_items/_line_item.erb (10.7ms)
Completed 500 Internal Server Error in 130ms (ActiveRecord: 2.5ms)

ActionView::Template::Error (undefined local variable or method `line_item' for #<Cart:0x007f41030d7de8>):
    1: <%= current_cart.total_price %>
  app/models/cart.rb:5:in `total_price'
  app/views/carts/_cart.erb:1:in `_app_views_carts__cart_erb__982697369487848078_69958586659180'
  app/views/line_items/_line_item.erb:19:in `_app_views_line_items__line_item_erb__4103207066806203831_46963261463920'
  app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb__3489235572292502889_69958591954320'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (35.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.7ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:03:32 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (21.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered carts/_cart.erb (0.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (9.7ms)
Completed 200 OK in 105ms (Views: 87.0ms | ActiveRecord: 2.7ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:04:05 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (22.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered carts/_cart.erb (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (10.6ms)
Completed 200 OK in 110ms (Views: 91.7ms | ActiveRecord: 2.8ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:04:16 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (21.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (7.7ms)
  Rendered line_items/_line_item.erb (13.3ms)
Completed 500 Internal Server Error in 112ms (ActiveRecord: 2.8ms)

ActionView::Template::Error (undefined method `total_price' for #<LineItem::ActiveRecord_Associations_CollectionProxy:0x007f410350e9e8>):
    1: <%= current_cart.total_price %>
  app/models/cart.rb:5:in `total_price'
  app/views/carts/_cart.erb:1:in `_app_views_carts__cart_erb__982697369487848078_69958586659180'
  app/views/line_items/_line_item.erb:19:in `_app_views_line_items__line_item_erb__4103207066806203831_46963261463920'
  app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb__3489235572292502889_69958591954320'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (10.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (35.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.1ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:04:55 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (21.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (3.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (11.3ms)
Completed 200 OK in 109ms (Views: 91.1ms | ActiveRecord: 2.8ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:06:10 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (5.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.3ms)
  Rendered line_items/_line_item.erb (38.9ms)
Completed 200 OK in 109ms (Views: 106.3ms | ActiveRecord: 1.0ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:06:33 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (5.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.2ms)
  Rendered line_items/_line_item.erb (7.5ms)
Completed 200 OK in 72ms (Views: 68.2ms | ActiveRecord: 0.9ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:07:06 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (5.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.3ms)
  Rendered line_items/_line_item.erb (7.1ms)
Completed 200 OK in 70ms (Views: 67.4ms | ActiveRecord: 0.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:07:13 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 06:07:13.781672"], ["updated_at", "2017-08-29 06:07:13.781672"]]
  [1m[35m (90.2ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.0ms)
  Rendered line_items/_line_item.erb (9.0ms)
  Rendered line_items/create.js.erb (10.3ms)
Completed 200 OK in 111ms (Views: 14.3ms | ActiveRecord: 91.3ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:07:19 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Sushi", "price"=>"320.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Sushi"], ["quantity", 1], ["price", 320.0], ["cart_id", 1], ["created_at", "2017-08-29 06:07:19.386876"], ["updated_at", "2017-08-29 06:07:19.386876"]]
  [1m[35m (110.2ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.1ms)
  Rendered line_items/_line_item.erb (9.5ms)
  Rendered line_items/create.js.erb (10.9ms)
Completed 200 OK in 128ms (Views: 12.5ms | ActiveRecord: 111.3ms)


Started DELETE "/line_items/68" for 127.0.0.1 at 2017-08-29 12:07:22 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"68"}
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 68]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 68]]
  [1m[35m (73.5ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.2ms)
  Rendered line_items/_line_item.erb (6.8ms)
  Rendered line_items/destroy.js.erb (7.9ms)
Completed 200 OK in 87ms (Views: 9.5ms | ActiveRecord: 74.5ms)


Started DELETE "/line_items/70" for 127.0.0.1 at 2017-08-29 12:07:24 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"70"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 70]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 70]]
  [1m[35m (136.8ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.3ms)
  Rendered line_items/_line_item.erb (7.4ms)
  Rendered line_items/destroy.js.erb (8.4ms)
Completed 200 OK in 150ms (Views: 9.7ms | ActiveRecord: 137.8ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:09:03 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (20.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.4ms)
  Rendered line_items/_line_item.erb (10.6ms)
Completed 200 OK in 107ms (Views: 89.4ms | ActiveRecord: 2.7ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:09:40 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (21.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.4ms)
  Rendered line_items/_line_item.erb (10.6ms)
Completed 200 OK in 110ms (Views: 91.4ms | ActiveRecord: 2.6ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:10:19 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (24.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (17.0ms)
Completed 500 Internal Server Error in 182ms (ActiveRecord: 3.3ms)

ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
    31: 	      	<% end %>
    32: 	      	<tr>
    33: 	      		<td colspan="2"></td>
    34: 	      		<td colspan="3">Общая сумма: <%= render 'carts/cart' %></td>
    35: 	      	</tr>
    36: 	    	</table>
    37: 	    </ol>
  app/views/line_items/_line_item.erb:34:in `_app_views_line_items__line_item_erb__4103207066806203831_69958314720140'
  app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb__3489235572292502889_69958591954320'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (13.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (42.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (25.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (50.9ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:11:07 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (21.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (11.8ms)
Completed 500 Internal Server Error in 126ms (ActiveRecord: 3.0ms)

ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
    31: 	      	<% end %>
    32: 	      	<tr>
    33: 	      		<td colspan="2"></td>
    34: 	      		<td colspan="3">Общая сумма: <%= render 'carts/cart' %></td>
    35: 	      	</tr>
    36: 	    	</table>
    37: 	    </ol>
  app/views/line_items/_line_item.erb:34:in `_app_views_line_items__line_item_erb__4103207066806203831_69958314720140'
  app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb__3489235572292502889_69958591954320'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (10.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (37.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.7ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:11:23 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (5.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.5ms)
  Rendered line_items/_line_item.erb (7.8ms)
Completed 200 OK in 74ms (Views: 71.3ms | ActiveRecord: 0.9ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:18:34 +0600

SyntaxError (/home/mazahaker/ruby/month4/lesson30/foodshop.kg/config/routes.rb:4: syntax error, unexpected tSTRING_BEG, expecting keyword_do or '{' or '('
  get 'line_items#destroy_all', as 'destroy_all'
                                    ^):
  config/routes.rb:4: syntax error, unexpected tSTRING_BEG, expecting keyword_do or '{' or '('


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (28.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (46.1ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:20:15 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (21.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.4ms)
  Rendered line_items/_line_item.erb (10.6ms)
Completed 200 OK in 134ms (Views: 116.1ms | ActiveRecord: 2.6ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:23:40 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (5.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.3ms)
  Rendered line_items/_line_item.erb (26.6ms)
Completed 500 Internal Server Error in 95ms (ActiveRecord: 0.9ms)

ActionView::Template::Error (undefined local variable or method `line_items_destroy_all' for #<#<Class:0x007f4103b233b0>:0x007f40ec005620>):
    31: 	      	<% end %>
    32: 	      	<tr>
    33: 	      		<td colspan="3">Общая сумма: <%= render 'carts/cart' %></td>
    34: 	      		<td colspan="2"><%= link_to 'Delete', line_items_destroy_all %></td>
    35: 	      	</tr>
    36: 	    	</table>
    37: 	    </ol>
  app/views/line_items/_line_item.erb:34:in `_app_views_line_items__line_item_erb__4103207066806203831_69958591863360'
  app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb__3489235572292502889_69958591954320'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (34.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.6ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:23:50 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (4.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.9ms)
  Rendered line_items/_line_item.erb (8.7ms)
Completed 200 OK in 75ms (Views: 71.7ms | ActiveRecord: 0.9ms)


Started GET "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:23:53 +0600
Processing by LineItemsController#destroy_all as HTML
  [1m[36mSQL (98.9ms)[0m  [1mDELETE FROM "line_items"[0m
Completed 500 Internal Server Error in 107ms (ActiveRecord: 98.9ms)

ActionView::MissingTemplate (Missing template line_items/destroy_all, application/destroy_all with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
  actionview (4.2.6) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.6) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.6) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.6) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.6) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.6) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.6) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (31.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.8ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:24:07 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (6.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (2.9ms)
Completed 200 OK in 71ms (Views: 67.8ms | ActiveRecord: 0.9ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:25:16 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (22.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (6.0ms)
Completed 200 OK in 132ms (Views: 113.1ms | ActiveRecord: 2.5ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:25:17 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 06:25:17.941739"], ["updated_at", "2017-08-29 06:25:17.941739"]]
  [1m[35m (98.7ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.0ms)
  Rendered line_items/_line_item.erb (11.4ms)
  Rendered line_items/create.js.erb (12.7ms)
Completed 200 OK in 122ms (Views: 16.6ms | ActiveRecord: 99.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:25:18 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Sushi", "price"=>"320.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Sushi"], ["quantity", 1], ["price", 320.0], ["cart_id", 1], ["created_at", "2017-08-29 06:25:18.760791"], ["updated_at", "2017-08-29 06:25:18.760791"]]
  [1m[36m (90.1ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.2ms)
  Rendered line_items/_line_item.erb (6.9ms)
  Rendered line_items/create.js.erb (8.1ms)
Completed 200 OK in 104ms (Views: 9.5ms | ActiveRecord: 91.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:25:19 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 06:25:19.226228"], ["updated_at", "2017-08-29 06:25:19.226228"]]
  [1m[35m (90.5ms)[0m  commit transaction
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.6ms)
  Rendered line_items/_line_item.erb (9.4ms)
  Rendered line_items/create.js.erb (11.5ms)
Completed 200 OK in 111ms (Views: 15.2ms | ActiveRecord: 91.7ms)


Started GET "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:25:21 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (98.5ms)[0m  [1mDELETE FROM "line_items"[0m
  Rendered line_items/destroy_all.js.erb (2.5ms)
Completed 500 Internal Server Error in 105ms (ActiveRecord: 98.5ms)

ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    1: $('#cart').html("<%= j render @line_item %>");
  app/views/line_items/destroy_all.js.erb:1:in `_app_views_line_items_destroy_all_js_erb___4001837807184911625_69958310293460'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (14.3ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:25:25 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (6.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.5ms)
Completed 200 OK in 72ms (Views: 68.9ms | ActiveRecord: 1.0ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:26:50 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (7.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.0ms)
Completed 200 OK in 78ms (Views: 74.3ms | ActiveRecord: 1.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:26:52 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 06:26:52.051864"], ["updated_at", "2017-08-29 06:26:52.051864"]]
  [1m[35m (124.1ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.4ms)
  Rendered line_items/_line_item.erb (8.4ms)
  Rendered line_items/create.js.erb (9.7ms)
Completed 200 OK in 147ms (Views: 11.4ms | ActiveRecord: 125.2ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:26:52 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 06:26:52.206053"], ["updated_at", "2017-08-29 06:26:52.206053"]]
  [1m[36m (91.0ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.5ms)
  Rendered line_items/_line_item.erb (12.7ms)
  Rendered line_items/create.js.erb (14.4ms)
Completed 200 OK in 115ms (Views: 16.7ms | ActiveRecord: 92.2ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:26:52 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 06:26:52.327778"], ["updated_at", "2017-08-29 06:26:52.327778"]]
  [1m[35m (69.5ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.2ms)
  Rendered line_items/_line_item.erb (11.0ms)
  Rendered line_items/create.js.erb (13.1ms)
Completed 200 OK in 92ms (Views: 15.7ms | ActiveRecord: 70.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:26:52 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 06:26:52.442013"], ["updated_at", "2017-08-29 06:26:52.442013"]]
  [1m[36m (89.2ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.6ms)
  Rendered line_items/_line_item.erb (8.0ms)
  Rendered line_items/create.js.erb (9.4ms)
Completed 200 OK in 105ms (Views: 10.9ms | ActiveRecord: 90.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:26:52 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 06:26:52.603413"], ["updated_at", "2017-08-29 06:26:52.603413"]]
  [1m[35m (82.6ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.6ms)
  Rendered line_items/_line_item.erb (8.3ms)
  Rendered line_items/create.js.erb (9.6ms)
Completed 200 OK in 100ms (Views: 11.1ms | ActiveRecord: 83.6ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:26:52 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 06:26:52.745716"], ["updated_at", "2017-08-29 06:26:52.745716"]]
  [1m[36m (61.8ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.4ms)
  Rendered line_items/_line_item.erb (9.5ms)
  Rendered line_items/create.js.erb (10.8ms)
Completed 200 OK in 80ms (Views: 12.2ms | ActiveRecord: 62.8ms)


Started GET "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:26:55 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[35mSQL (114.8ms)[0m  DELETE FROM "line_items"
  Rendered line_items/destroy_all.js.erb (2.7ms)
Completed 500 Internal Server Error in 121ms (ActiveRecord: 114.8ms)

ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    1: $('#cart').html("<%= j render @line_item %>");
  app/views/line_items/destroy_all.js.erb:1:in `_app_views_line_items_destroy_all_js_erb___4001837807184911625_46963263514100'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (13.8ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:27:02 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (7.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.0ms)
Completed 200 OK in 76ms (Views: 72.2ms | ActiveRecord: 1.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:27:14 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 06:27:14.800431"], ["updated_at", "2017-08-29 06:27:14.800431"]]
  [1m[36m (96.8ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.5ms)
  Rendered line_items/_line_item.erb (7.2ms)
  Rendered line_items/create.js.erb (8.4ms)
Completed 200 OK in 112ms (Views: 10.1ms | ActiveRecord: 97.7ms)


Started GET "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:27:27 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[35mSQL (83.8ms)[0m  DELETE FROM "line_items"
  Rendered line_items/destroy_all.js.erb (1.9ms)
Completed 500 Internal Server Error in 90ms (ActiveRecord: 83.8ms)

ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    1: $('#cart').html("<%= j render @line_item %>");
  app/views/line_items/destroy_all.js.erb:1:in `_app_views_line_items_destroy_all_js_erb___4001837807184911625_46963263514100'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (13.8ms)


Started DELETE "/line_items/81" for 127.0.0.1 at 2017-08-29 12:28:48 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"81"}
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 81]]
Completed 404 Not Found in 4ms (ActiveRecord: 0.3ms)

ActiveRecord::RecordNotFound (Couldn't find LineItem with 'id'=81):
  app/controllers/line_items_controller.rb:13:in `destroy'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (22.9ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:28:50 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 2]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (6.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.9ms)
Completed 200 OK in 124ms (Views: 84.8ms | ActiveRecord: 0.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:28:53 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Пицца", "price"=>"500.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Пицца"], ["quantity", 1], ["price", 500.0], ["cart_id", 1], ["created_at", "2017-08-29 06:28:53.136945"], ["updated_at", "2017-08-29 06:28:53.136945"]]
  [1m[35m (122.5ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.0ms)
  Rendered line_items/_line_item.erb (6.1ms)
  Rendered line_items/create.js.erb (7.1ms)
Completed 200 OK in 136ms (Views: 8.6ms | ActiveRecord: 123.3ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-08-29 12:31:10 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 2]]
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (20.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.4ms)
  Rendered line_items/_line_item.erb (11.4ms)
Completed 200 OK in 110ms (Views: 91.6ms | ActiveRecord: 2.9ms)


Started GET "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:31:14 +0600
Processing by LineItemsController#destroy_all as HTML
  [1m[36mSQL (117.3ms)[0m  [1mDELETE FROM "line_items"[0m
Redirected to http://localhost:3000/establishments
Completed 302 Found in 120ms (ActiveRecord: 117.3ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 12:31:14 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.4ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.0ms)
Completed 200 OK in 65ms (Views: 63.1ms | ActiveRecord: 0.7ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 12:32:03 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.5ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (6.8ms)
  [1m[35mCart Load (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (14.9ms)
Completed 200 OK in 92ms (Views: 85.7ms | ActiveRecord: 1.7ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:32:08 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.5ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (28.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (2.9ms)
Completed 200 OK in 115ms (Views: 99.8ms | ActiveRecord: 2.4ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:32:09 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:32:09.435799"], ["updated_at", "2017-08-29 06:32:09.435799"]]
  [1m[35m (147.6ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.5ms)
  Rendered line_items/_line_item.erb (45.4ms)
  Rendered line_items/create.js.erb (47.6ms)
Completed 200 OK in 218ms (Views: 56.7ms | ActiveRecord: 148.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:32:09 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:32:09.662362"], ["updated_at", "2017-08-29 06:32:09.662362"]]
  [1m[36m (89.3ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (3.1ms)
  Rendered line_items/_line_item.erb (15.6ms)
  Rendered line_items/create.js.erb (17.5ms)
Completed 200 OK in 118ms (Views: 19.4ms | ActiveRecord: 90.7ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:32:09 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:32:09.786813"], ["updated_at", "2017-08-29 06:32:09.786813"]]
  [1m[35m (95.3ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.4ms)
  Rendered line_items/_line_item.erb (12.4ms)
  Rendered line_items/create.js.erb (14.1ms)
Completed 200 OK in 126ms (Views: 16.5ms | ActiveRecord: 96.6ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:32:09 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:32:09.919300"], ["updated_at", "2017-08-29 06:32:09.919300"]]
  [1m[36m (75.1ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.3ms)
  Rendered line_items/_line_item.erb (7.9ms)
  Rendered line_items/create.js.erb (9.0ms)
Completed 200 OK in 91ms (Views: 10.4ms | ActiveRecord: 76.2ms)


Started GET "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:32:14 +0600
Processing by LineItemsController#destroy_all as HTML
  [1m[35mSQL (104.1ms)[0m  DELETE FROM "line_items"
Redirected to http://localhost:3000/establishments
Completed 302 Found in 106ms (ActiveRecord: 104.1ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 12:32:14 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.6ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.0ms)
Completed 200 OK in 56ms (Views: 54.4ms | ActiveRecord: 0.5ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 12:32:23 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.3ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (6.3ms)
Completed 200 OK in 87ms (Views: 84.3ms | ActiveRecord: 0.8ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:32:26 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (7.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.6ms)
Completed 200 OK in 83ms (Views: 79.2ms | ActiveRecord: 0.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:32:27 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:32:27.338349"], ["updated_at", "2017-08-29 06:32:27.338349"]]
  [1m[36m (108.2ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.1ms)
  Rendered line_items/_line_item.erb (8.7ms)
  Rendered line_items/create.js.erb (10.4ms)
Completed 200 OK in 131ms (Views: 14.2ms | ActiveRecord: 109.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:32:27 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:32:27.474907"], ["updated_at", "2017-08-29 06:32:27.474907"]]
  [1m[35m (69.9ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.9ms)
  Rendered line_items/_line_item.erb (10.4ms)
  Rendered line_items/create.js.erb (11.9ms)
Completed 200 OK in 91ms (Views: 14.4ms | ActiveRecord: 71.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:32:27 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:32:27.596148"], ["updated_at", "2017-08-29 06:32:27.596148"]]
  [1m[36m (61.2ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.5ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.6ms)
  Rendered line_items/_line_item.erb (8.5ms)
  Rendered line_items/create.js.erb (9.7ms)
Completed 200 OK in 76ms (Views: 10.8ms | ActiveRecord: 62.3ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:32:27 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:32:27.747338"], ["updated_at", "2017-08-29 06:32:27.747338"]]
  [1m[35m (87.5ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.3ms)
  Rendered line_items/_line_item.erb (12.2ms)
  Rendered line_items/create.js.erb (14.1ms)
Completed 200 OK in 109ms (Views: 16.4ms | ActiveRecord: 88.5ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:32:27 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:32:27.865063"], ["updated_at", "2017-08-29 06:32:27.865063"]]
  [1m[36m (91.7ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.5ms)
  Rendered line_items/_line_item.erb (9.7ms)
  Rendered line_items/create.js.erb (11.0ms)
Completed 200 OK in 109ms (Views: 12.6ms | ActiveRecord: 92.6ms)


Started GET "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:32:29 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[35mSQL (114.5ms)[0m  DELETE FROM "line_items"
Redirected to http://localhost:3000/establishments
Completed 302 Found in 116ms (ActiveRecord: 114.5ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 12:32:29 +0600
Processing by EstablishmentsController#index as JS
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.9ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.3ms)
Completed 200 OK in 71ms (Views: 69.4ms | ActiveRecord: 0.7ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:32:31 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (5.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.6ms)
Completed 200 OK in 67ms (Views: 64.6ms | ActiveRecord: 0.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:32:38 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:32:38.948175"], ["updated_at", "2017-08-29 06:32:38.948175"]]
  [1m[35m (80.7ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.7ms)
  Rendered line_items/_line_item.erb (11.0ms)
  Rendered line_items/create.js.erb (13.0ms)
Completed 200 OK in 102ms (Views: 16.2ms | ActiveRecord: 81.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:32:39 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:32:39.063658"], ["updated_at", "2017-08-29 06:32:39.063658"]]
  [1m[36m (65.0ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.2ms)
  Rendered line_items/_line_item.erb (6.9ms)
  Rendered line_items/create.js.erb (8.0ms)
Completed 200 OK in 79ms (Views: 9.4ms | ActiveRecord: 65.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:32:39 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:32:39.204804"], ["updated_at", "2017-08-29 06:32:39.204804"]]
  [1m[35m (67.5ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.8ms)
  Rendered line_items/_line_item.erb (8.6ms)
  Rendered line_items/create.js.erb (9.9ms)
Completed 200 OK in 84ms (Views: 11.3ms | ActiveRecord: 68.6ms)


Started GET "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:32:47 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (93.6ms)[0m  [1mDELETE FROM "line_items"[0m
Redirected to http://localhost:3000/establishments
Completed 302 Found in 95ms (ActiveRecord: 93.6ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 12:32:47 +0600
Processing by EstablishmentsController#index as JS
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (1.8ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.0ms)
Completed 200 OK in 93ms (Views: 91.4ms | ActiveRecord: 0.6ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:34:42 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (5.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.1ms)
Completed 200 OK in 75ms (Views: 72.4ms | ActiveRecord: 0.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:34:45 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:34:45.850962"], ["updated_at", "2017-08-29 06:34:45.850962"]]
  [1m[36m (85.5ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.6ms)
  Rendered line_items/_line_item.erb (13.1ms)
  Rendered line_items/create.js.erb (14.9ms)
Completed 200 OK in 108ms (Views: 17.1ms | ActiveRecord: 86.6ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:34:45 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:34:45.970857"], ["updated_at", "2017-08-29 06:34:45.970857"]]
  [1m[35m (76.5ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.8ms)
  Rendered line_items/_line_item.erb (10.9ms)
  Rendered line_items/create.js.erb (12.2ms)
Completed 200 OK in 95ms (Views: 13.3ms | ActiveRecord: 77.7ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:34:46 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:34:46.103977"], ["updated_at", "2017-08-29 06:34:46.103977"]]
  [1m[36m (65.7ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.9ms)
  Rendered line_items/_line_item.erb (9.8ms)
  Rendered line_items/create.js.erb (11.4ms)
Completed 200 OK in 84ms (Views: 13.3ms | ActiveRecord: 66.6ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:34:46 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:34:46.235539"], ["updated_at", "2017-08-29 06:34:46.235539"]]
  [1m[35m (77.5ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.0ms)
  Rendered line_items/_line_item.erb (8.4ms)
  Rendered line_items/create.js.erb (10.3ms)
Completed 200 OK in 96ms (Views: 12.2ms | ActiveRecord: 78.5ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:34:49 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"destroy_all"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 0]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.2ms)

ActiveRecord::RecordNotFound (Couldn't find LineItem with 'id'=destroy_all):
  app/controllers/line_items_controller.rb:13:in `destroy'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (22.5ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:37:15 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (7.6ms)
  [1m[35mCACHE (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.2ms)
  Rendered line_items/_line_item.erb (12.0ms)
Completed 200 OK in 103ms (Views: 100.0ms | ActiveRecord: 1.2ms)


Started GET "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:37:20 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[35mSQL (95.0ms)[0m  DELETE FROM "line_items"
Redirected to http://localhost:3000/establishments
Completed 302 Found in 97ms (ActiveRecord: 95.0ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 12:37:20 +0600
Processing by EstablishmentsController#index as JS
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.7ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.1ms)
Completed 200 OK in 67ms (Views: 65.0ms | ActiveRecord: 0.6ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:37:23 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (4.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (2.8ms)
Completed 200 OK in 99ms (Views: 96.6ms | ActiveRecord: 0.7ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:37:29 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:37:29.969947"], ["updated_at", "2017-08-29 06:37:29.969947"]]
  [1m[35m (84.4ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.2ms)
  Rendered line_items/_line_item.erb (9.8ms)
  Rendered line_items/create.js.erb (11.3ms)
Completed 200 OK in 104ms (Views: 13.6ms | ActiveRecord: 85.5ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:37:30 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:37:30.115119"], ["updated_at", "2017-08-29 06:37:30.115119"]]
  [1m[36m (61.4ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.5ms)
  Rendered line_items/_line_item.erb (7.3ms)
  Rendered line_items/create.js.erb (8.5ms)
Completed 200 OK in 77ms (Views: 10.1ms | ActiveRecord: 62.3ms)


Started GET "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:37:35 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[35mSQL (93.4ms)[0m  DELETE FROM "line_items"
Redirected to http://localhost:3000/establishments
Completed 302 Found in 96ms (ActiveRecord: 93.4ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 12:37:35 +0600
Processing by EstablishmentsController#index as JS
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.8ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.1ms)
Completed 200 OK in 69ms (Views: 67.4ms | ActiveRecord: 0.6ms)


Started DELETE "/line_items/100" for 127.0.0.1 at 2017-08-29 12:38:13 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"100"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 100]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.2ms)

ActiveRecord::RecordNotFound (Couldn't find LineItem with 'id'=100):
  app/controllers/line_items_controller.rb:13:in `destroy'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (25.1ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:38:15 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (6.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (2.9ms)
Completed 200 OK in 73ms (Views: 70.2ms | ActiveRecord: 0.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:38:24 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:38:24.723929"], ["updated_at", "2017-08-29 06:38:24.723929"]]
  [1m[36m (92.4ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.9ms)
  Rendered line_items/_line_item.erb (11.6ms)
  Rendered line_items/create.js.erb (13.4ms)
Completed 200 OK in 114ms (Views: 16.2ms | ActiveRecord: 93.6ms)


Started GET "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:38:27 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[35mSQL (81.6ms)[0m  DELETE FROM "line_items"
Redirected to http://localhost:3000/establishments
Completed 302 Found in 83ms (ActiveRecord: 81.6ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 12:38:27 +0600
Processing by EstablishmentsController#index as JS
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.8ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.4ms)
Completed 200 OK in 71ms (Views: 69.2ms | ActiveRecord: 0.7ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:38:32 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (7.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.0ms)
Completed 200 OK in 72ms (Views: 69.0ms | ActiveRecord: 0.9ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:39:16 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (7.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (2.8ms)
Completed 200 OK in 107ms (Views: 103.3ms | ActiveRecord: 1.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:39:19 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:39:19.350786"], ["updated_at", "2017-08-29 06:39:19.350786"]]
  [1m[35m (116.0ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.5ms)
  Rendered line_items/_line_item.erb (8.0ms)
  Rendered line_items/create.js.erb (9.4ms)
Completed 200 OK in 134ms (Views: 11.2ms | ActiveRecord: 116.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:39:19 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:39:19.492269"], ["updated_at", "2017-08-29 06:39:19.492269"]]
  [1m[36m (63.0ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.5ms)
  Rendered line_items/_line_item.erb (7.5ms)
  Rendered line_items/create.js.erb (8.8ms)
Completed 200 OK in 78ms (Views: 10.2ms | ActiveRecord: 63.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:39:19 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:39:19.598230"], ["updated_at", "2017-08-29 06:39:19.598230"]]
  [1m[35m (79.1ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.2ms)
  Rendered line_items/_line_item.erb (7.8ms)
  Rendered line_items/create.js.erb (8.9ms)
Completed 200 OK in 94ms (Views: 10.1ms | ActiveRecord: 80.1ms)


Started GET "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:39:21 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (79.0ms)[0m  [1mDELETE FROM "line_items"[0m
Redirected to http://localhost:3000/establishments
Completed 302 Found in 81ms (ActiveRecord: 79.0ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 12:39:21 +0600
Processing by EstablishmentsController#index as JS
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (1.5ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (2.9ms)
Completed 200 OK in 66ms (Views: 64.4ms | ActiveRecord: 0.5ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:39:24 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (6.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (2.8ms)
Completed 200 OK in 68ms (Views: 64.9ms | ActiveRecord: 0.9ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:39:42 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (5.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.3ms)
Completed 200 OK in 84ms (Views: 81.3ms | ActiveRecord: 0.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:39:43 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:39:43.862340"], ["updated_at", "2017-08-29 06:39:43.862340"]]
  [1m[36m (100.6ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.1ms)
  Rendered line_items/_line_item.erb (8.6ms)
  Rendered line_items/create.js.erb (10.1ms)
Completed 200 OK in 126ms (Views: 11.9ms | ActiveRecord: 101.5ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:39:43 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:39:43.996448"], ["updated_at", "2017-08-29 06:39:43.996448"]]
  [1m[35m (77.2ms)[0m  commit transaction
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.8ms)
  Rendered line_items/_line_item.erb (10.0ms)
  Rendered line_items/create.js.erb (12.2ms)
Completed 200 OK in 98ms (Views: 14.9ms | ActiveRecord: 78.3ms)


Started GET "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:39:45 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (101.7ms)[0m  [1mDELETE FROM "line_items"[0m
Redirected to http://localhost:3000/establishments
Completed 302 Found in 103ms (ActiveRecord: 101.7ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 12:39:45 +0600
Processing by EstablishmentsController#index as JS
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (1.8ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.0ms)
Completed 200 OK in 68ms (Views: 66.5ms | ActiveRecord: 0.6ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:40:03 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (4.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.2ms)
Completed 200 OK in 67ms (Views: 64.8ms | ActiveRecord: 0.7ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:40:28 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (21.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.9ms)
Completed 200 OK in 130ms (Views: 82.8ms | ActiveRecord: 2.5ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:40:30 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:40:30.337557"], ["updated_at", "2017-08-29 06:40:30.337557"]]
  [1m[36m (77.1ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.6ms)
  Rendered line_items/_line_item.erb (11.1ms)
  Rendered line_items/create.js.erb (12.5ms)
Completed 200 OK in 99ms (Views: 16.5ms | ActiveRecord: 78.3ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:40:30 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:40:30.451097"], ["updated_at", "2017-08-29 06:40:30.451097"]]
  [1m[35m (63.5ms)[0m  commit transaction
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.7ms)
  Rendered line_items/_line_item.erb (10.0ms)
  Rendered line_items/create.js.erb (11.7ms)
Completed 200 OK in 83ms (Views: 14.5ms | ActiveRecord: 64.6ms)


Started GET "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:40:34 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (76.4ms)[0m  [1mDELETE FROM "line_items"[0m
  Rendered line_items/destroy_all.js.erb (17.9ms)
Completed 500 Internal Server Error in 98ms (ActiveRecord: 76.4ms)

ActionView::Template::Error (undefined local variable or method `line_items' for #<#<Class:0x007f40e0568088>:0x007f40e0a4cc48>):
    1: $('#cart').html("<%= render line_items/line_item %>");
  app/views/line_items/destroy_all.js.erb:1:in `_app_views_line_items_destroy_all_js_erb___4001837807184911625_69958311582800'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (13.5ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:40:35 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (6.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.3ms)
Completed 200 OK in 76ms (Views: 73.4ms | ActiveRecord: 0.9ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:40:41 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (6.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.9ms)
Completed 200 OK in 73ms (Views: 70.1ms | ActiveRecord: 1.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:40:42 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:40:42.755127"], ["updated_at", "2017-08-29 06:40:42.755127"]]
  [1m[35m (96.3ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.1ms)
  Rendered line_items/_line_item.erb (6.4ms)
  Rendered line_items/create.js.erb (7.4ms)
Completed 200 OK in 110ms (Views: 9.0ms | ActiveRecord: 97.2ms)


Started GET "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:40:44 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (86.7ms)[0m  [1mDELETE FROM "line_items"[0m
  Rendered line_items/destroy_all.js.erb (22.6ms)
Completed 500 Internal Server Error in 114ms (ActiveRecord: 86.7ms)

ActionView::Template::Error (undefined local variable or method `line_items' for #<#<Class:0x007f40e0568088>:0x007f41020ed9f0>):
    1: alert("bugaga");
    2: $('#cart').html("<%= render line_items/line_item %>");
  app/views/line_items/destroy_all.js.erb:2:in `_app_views_line_items_destroy_all_js_erb___4001837807184911625_69958592010560'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (16.1ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:40:49 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (7.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.7ms)
Completed 200 OK in 76ms (Views: 71.9ms | ActiveRecord: 1.1ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:41:50 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (4.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.0ms)
Completed 200 OK in 64ms (Views: 61.1ms | ActiveRecord: 0.8ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:41:52 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:41:52.244121"], ["updated_at", "2017-08-29 06:41:52.244121"]]
  [1m[35m (135.1ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.9ms)
  Rendered line_items/_line_item.erb (9.4ms)
  Rendered line_items/create.js.erb (11.2ms)
Completed 200 OK in 154ms (Views: 14.2ms | ActiveRecord: 136.1ms)


Started GET "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:41:53 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (85.6ms)[0m  [1mDELETE FROM "line_items"[0m
  Rendered line_items/destroy_all.js.erb (2.4ms)
Completed 500 Internal Server Error in 92ms (ActiveRecord: 85.6ms)

ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    1: $('#cart').html("<%= render @line_item %>");
  app/views/line_items/destroy_all.js.erb:1:in `_app_views_line_items_destroy_all_js_erb___4001837807184911625_69958313711620'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (14.7ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:45:04 +0600

ArgumentError (Missing :controller key on routes definition, please check your routes.):
  config/routes.rb:4:in `block in <top (required)>'
  config/routes.rb:1:in `<top (required)>'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (30.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.7ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:45:11 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (20.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.0ms)
Completed 200 OK in 102ms (Views: 83.6ms | ActiveRecord: 2.4ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:45:13 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:45:13.984103"], ["updated_at", "2017-08-29 06:45:13.984103"]]
  [1m[35m (99.2ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.5ms)
  Rendered line_items/_line_item.erb (9.6ms)
  Rendered line_items/create.js.erb (10.8ms)
Completed 200 OK in 121ms (Views: 15.4ms | ActiveRecord: 100.5ms)


Started GET "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:45:15 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (132.8ms)[0m  [1mDELETE FROM "line_items"[0m
  Rendered line_items/destroy_all.js.erb (1.9ms)
Completed 500 Internal Server Error in 138ms (ActiveRecord: 132.8ms)

ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    1: $('#cart').html("<%= render @line_item %>");
  app/views/line_items/destroy_all.js.erb:1:in `_app_views_line_items_destroy_all_js_erb___4001837807184911625_69958313711620'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (14.2ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:45:16 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (5.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.2ms)
Completed 200 OK in 109ms (Views: 105.5ms | ActiveRecord: 0.8ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:48:30 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (25.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.9ms)
Completed 200 OK in 119ms (Views: 97.7ms | ActiveRecord: 2.8ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:48:33 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:48:33.051088"], ["updated_at", "2017-08-29 06:48:33.051088"]]
  [1m[35m (97.2ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.4ms)
  Rendered line_items/_line_item.erb (12.0ms)
  Rendered line_items/create.js.erb (13.8ms)
Completed 200 OK in 122ms (Views: 19.1ms | ActiveRecord: 98.6ms)


Started GET "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:48:35 +0600

AbstractController::ActionNotFound (The action 'show' could not be found for LineItemsController):
  actionpack (4.2.6) lib/abstract_controller/base.rb:132:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/unknown_action.text.erb (1.0ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:49:05 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (21.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.3ms)
  Rendered line_items/_line_item.erb (10.7ms)
Completed 200 OK in 106ms (Views: 88.2ms | ActiveRecord: 2.8ms)


Started GET "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:49:08 +0600

AbstractController::ActionNotFound (The action 'show' could not be found for LineItemsController):
  actionpack (4.2.6) lib/abstract_controller/base.rb:132:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/unknown_action.text.erb (0.7ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:49:09 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (7.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.7ms)
  Rendered line_items/_line_item.erb (9.4ms)
Completed 200 OK in 125ms (Views: 120.9ms | ActiveRecord: 1.2ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:49:20 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (23.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.5ms)
  Rendered line_items/_line_item.erb (12.0ms)
Completed 200 OK in 115ms (Views: 94.4ms | ActiveRecord: 3.0ms)


Started GET "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:49:22 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (137.7ms)[0m  [1mDELETE FROM "line_items"[0m
  Rendered line_items/destroy_all.js.erb (2.3ms)
Completed 500 Internal Server Error in 150ms (ActiveRecord: 137.7ms)

ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    1: $('#cart').html("<%= render @line_item %>");
  app/views/line_items/destroy_all.js.erb:1:in `_app_views_line_items_destroy_all_js_erb___4001837807184911625_69958313711620'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (16.0ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:49:24 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (5.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.2ms)
Completed 200 OK in 73ms (Views: 69.0ms | ActiveRecord: 1.0ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:53:02 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (22.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.1ms)
Completed 200 OK in 141ms (Views: 89.1ms | ActiveRecord: 2.5ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:53:04 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:53:04.657047"], ["updated_at", "2017-08-29 06:53:04.657047"]]
  [1m[35m (78.3ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.2ms)
  Rendered line_items/_line_item.erb (11.8ms)
  Rendered line_items/create.js.erb (13.2ms)
Completed 200 OK in 105ms (Views: 18.0ms | ActiveRecord: 79.7ms)


Started GET "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:53:06 +0600

AbstractController::ActionNotFound (The action 'show' could not be found for LineItemsController):
  actionpack (4.2.6) lib/abstract_controller/base.rb:132:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/unknown_action.text.erb (0.7ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:53:07 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (7.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.1ms)
  Rendered line_items/_line_item.erb (8.3ms)
Completed 200 OK in 79ms (Views: 75.4ms | ActiveRecord: 1.1ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:53:44 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (7.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.4ms)
  Rendered line_items/_line_item.erb (8.3ms)
Completed 200 OK in 80ms (Views: 76.5ms | ActiveRecord: 1.1ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:53:57 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (77.9ms)[0m  [1mDELETE FROM "line_items"[0m
  Rendered line_items/destroy_all.js.erb (2.1ms)
Completed 500 Internal Server Error in 84ms (ActiveRecord: 77.9ms)

ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    1: $('#cart').html("<%= render @line_item %>");
  app/views/line_items/destroy_all.js.erb:1:in `_app_views_line_items_destroy_all_js_erb___4001837807184911625_69958313711620'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (15.8ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:54:27 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (11.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.6ms)
Completed 200 OK in 99ms (Views: 94.5ms | ActiveRecord: 1.2ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:54:34 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:54:34.728571"], ["updated_at", "2017-08-29 06:54:34.728571"]]
  [1m[35m (82.3ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.2ms)
  Rendered line_items/_line_item.erb (11.7ms)
  Rendered line_items/create.js.erb (13.2ms)
Completed 200 OK in 103ms (Views: 15.7ms | ActiveRecord: 83.4ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:54:39 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (99.7ms)[0m  [1mDELETE FROM "line_items"[0m
  Rendered line_items/destroy_all.js.erb (3.2ms)
Completed 500 Internal Server Error in 108ms (ActiveRecord: 99.7ms)

ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    1: $('#cart').html("<%= render @line_item %>");
  app/views/line_items/destroy_all.js.erb:1:in `_app_views_line_items_destroy_all_js_erb___4001837807184911625_69958313711620'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (16.1ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:57:06 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (7.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.4ms)
Completed 200 OK in 118ms (Views: 113.9ms | ActiveRecord: 1.2ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:57:09 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:57:09.137951"], ["updated_at", "2017-08-29 06:57:09.137951"]]
  [1m[35m (105.1ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.3ms)
  Rendered line_items/_line_item.erb (7.9ms)
  Rendered line_items/create.js.erb (9.2ms)
Completed 200 OK in 121ms (Views: 10.9ms | ActiveRecord: 106.1ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:57:11 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (90.8ms)[0m  [1mDELETE FROM "line_items"[0m
  Rendered line_items/destroy_all.js.erb (3.8ms)
Completed 500 Internal Server Error in 99ms (ActiveRecord: 90.8ms)

ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    1: alert("sdsdfsdf")
    2: // $('#cart').html("<%= render @line_item %>");
  app/views/line_items/destroy_all.js.erb:2:in `_app_views_line_items_destroy_all_js_erb___4001837807184911625_69958510377280'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (16.6ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:57:29 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (9.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.8ms)
Completed 200 OK in 115ms (Views: 110.8ms | ActiveRecord: 1.3ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:57:31 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:57:31.183481"], ["updated_at", "2017-08-29 06:57:31.183481"]]
  [1m[35m (124.9ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.2ms)
  Rendered line_items/_line_item.erb (7.1ms)
  Rendered line_items/create.js.erb (8.3ms)
Completed 200 OK in 142ms (Views: 9.6ms | ActiveRecord: 126.4ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:57:32 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (112.5ms)[0m  [1mDELETE FROM "line_items"[0m
  Rendered line_items/destroy_all.js.erb (0.7ms)
Completed 200 OK in 118ms (Views: 3.5ms | ActiveRecord: 112.5ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:58:10 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (9.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (2.9ms)
Completed 200 OK in 95ms (Views: 89.0ms | ActiveRecord: 1.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:58:13 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:58:13.714664"], ["updated_at", "2017-08-29 06:58:13.714664"]]
  [1m[35m (97.1ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.7ms)
  Rendered line_items/_line_item.erb (7.8ms)
  Rendered line_items/create.js.erb (8.9ms)
Completed 200 OK in 113ms (Views: 10.5ms | ActiveRecord: 98.1ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:58:15 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (109.4ms)[0m  [1mDELETE FROM "line_items"[0m
  Rendered line_items/destroy_all.js.erb (0.7ms)
Completed 200 OK in 114ms (Views: 2.7ms | ActiveRecord: 109.4ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 12:59:35 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (6.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.8ms)
Completed 200 OK in 103ms (Views: 100.1ms | ActiveRecord: 1.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 12:59:39 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 06:59:39.426538"], ["updated_at", "2017-08-29 06:59:39.426538"]]
  [1m[35m (166.4ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.8ms)
  Rendered line_items/_line_item.erb (12.2ms)
  Rendered line_items/create.js.erb (13.6ms)
Completed 200 OK in 188ms (Views: 16.3ms | ActiveRecord: 167.6ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 12:59:41 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (109.4ms)[0m  [1mDELETE FROM "line_items"[0m
  Rendered line_items/destroy_all.js.erb (0.8ms)
Completed 200 OK in 117ms (Views: 4.6ms | ActiveRecord: 109.4ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 13:00:50 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (8.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.2ms)
Completed 200 OK in 87ms (Views: 84.0ms | ActiveRecord: 1.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 13:00:54 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 07:00:54.140664"], ["updated_at", "2017-08-29 07:00:54.140664"]]
  [1m[35m (161.3ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (3.2ms)
  Rendered line_items/_line_item.erb (11.1ms)
  Rendered line_items/create.js.erb (12.8ms)
Completed 200 OK in 181ms (Views: 14.7ms | ActiveRecord: 162.5ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 13:00:55 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (121.2ms)[0m  [1mDELETE FROM "line_items"[0m
  Rendered line_items/destroy_all.js.erb (50.2ms)
Completed 500 Internal Server Error in 175ms (ActiveRecord: 121.2ms)

ActionView::Template::Error (undefined local variable or method `line_items' for #<#<Class:0x007f40e01f2cf0>:0x00556cf6be6500>):
    1: $('#cart').html("<%= render line_items/line_item %>");
  app/views/line_items/destroy_all.js.erb:1:in `_app_views_line_items_destroy_all_js_erb___4001837807184911625_46963242081400'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (15.0ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 13:02:23 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (7.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.4ms)
Completed 200 OK in 102ms (Views: 99.0ms | ActiveRecord: 1.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 13:02:29 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 07:02:29.314276"], ["updated_at", "2017-08-29 07:02:29.314276"]]
  [1m[35m (109.9ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.2ms)
  Rendered line_items/_line_item.erb (11.9ms)
  Rendered line_items/create.js.erb (13.4ms)
Completed 200 OK in 131ms (Views: 15.2ms | ActiveRecord: 111.3ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 13:02:31 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (99.4ms)[0m  [1mDELETE FROM "line_items"[0m
  Rendered line_items/destroy_all.js.erb (20.2ms)
Completed 500 Internal Server Error in 124ms (ActiveRecord: 99.4ms)

ActionView::Template::Error (undefined local variable or method `line_item' for #<#<Class:0x007f40e01f2cf0>:0x007f40e0e11d88>):
    1: $('#cart').html("<%= render line_item/line_item %>");
  app/views/line_items/destroy_all.js.erb:1:in `_app_views_line_items_destroy_all_js_erb___4001837807184911625_69958313713000'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (15.5ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 13:06:08 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (7.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.0ms)
Completed 200 OK in 128ms (Views: 124.8ms | ActiveRecord: 1.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 13:06:11 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 07:06:11.665838"], ["updated_at", "2017-08-29 07:06:11.665838"]]
  [1m[35m (99.1ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.1ms)
  Rendered line_items/_line_item.erb (7.3ms)
  Rendered line_items/create.js.erb (8.7ms)
Completed 200 OK in 114ms (Views: 10.0ms | ActiveRecord: 100.0ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 13:06:13 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (98.4ms)[0m  [1mDELETE FROM "line_items"[0m
  Rendered line_items/destroy_all.js.erb (19.1ms)
Completed 500 Internal Server Error in 122ms (ActiveRecord: 98.4ms)

ActionView::Template::Error (undefined local variable or method `line_item' for #<#<Class:0x007f40e01f2cf0>:0x007f40e12b89e0>):
    1: $('#cart').html("<%= j render line_item/line_item %>");
  app/views/line_items/destroy_all.js.erb:1:in `_app_views_line_items_destroy_all_js_erb___4001837807184911625_69958312892580'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (15.1ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 13:06:24 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (10.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (2.9ms)
Completed 200 OK in 119ms (Views: 115.6ms | ActiveRecord: 1.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 13:06:26 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 07:06:26.877305"], ["updated_at", "2017-08-29 07:06:26.877305"]]
  [1m[35m (97.9ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.2ms)
  Rendered line_items/_line_item.erb (8.4ms)
  Rendered line_items/create.js.erb (9.5ms)
Completed 200 OK in 114ms (Views: 11.0ms | ActiveRecord: 99.0ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 13:06:28 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (101.6ms)[0m  [1mDELETE FROM "line_items"[0m
  Rendered line_items/destroy_all.js.erb (20.5ms)
Completed 500 Internal Server Error in 126ms (ActiveRecord: 101.6ms)

ActionView::Template::Error (undefined local variable or method `line_items' for #<#<Class:0x007f40e01f2cf0>:0x007f40f8e99540>):
    1: $('#cart').html("<%= j render line_items/line_item %>");
  app/views/line_items/destroy_all.js.erb:1:in `_app_views_line_items_destroy_all_js_erb___4001837807184911625_69958514155200'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (15.9ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 13:08:53 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (7.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.1ms)
Completed 200 OK in 104ms (Views: 100.3ms | ActiveRecord: 1.2ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 13:08:56 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 07:08:56.427589"], ["updated_at", "2017-08-29 07:08:56.427589"]]
  [1m[35m (76.5ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.6ms)
  Rendered line_items/_line_item.erb (12.1ms)
  Rendered line_items/create.js.erb (13.7ms)
Completed 200 OK in 100ms (Views: 17.1ms | ActiveRecord: 77.7ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 13:08:58 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (92.3ms)[0m  [1mDELETE FROM "line_items"[0m
  Rendered line_items/destroy_all.js.erb (21.1ms)
Completed 500 Internal Server Error in 118ms (ActiveRecord: 92.3ms)

ActionView::Template::Error (undefined local variable or method `line_items' for #<#<Class:0x007f40e01f2cf0>:0x007f4103f867e0>):
    1: $('#cart').html("<%= j render line_items/line_item %>");
  app/views/line_items/destroy_all.js.erb:1:in `_app_views_line_items_destroy_all_js_erb___4001837807184911625_69958514155200'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (17.0ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 13:11:58 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (12.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.0ms)
Completed 200 OK in 171ms (Views: 166.5ms | ActiveRecord: 1.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 13:12:01 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 07:12:01.556050"], ["updated_at", "2017-08-29 07:12:01.556050"]]
  [1m[35m (111.1ms)[0m  commit transaction
  [1m[36mCart Load (1.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.3ms)
  Rendered line_items/_line_item.erb (11.5ms)
  Rendered line_items/create.js.erb (13.3ms)
Completed 200 OK in 133ms (Views: 14.7ms | ActiveRecord: 113.2ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 13:12:05 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (92.9ms)[0m  [1mDELETE FROM "line_items"[0m
  Rendered line_items/destroy_all.js.erb (25.0ms)
Completed 500 Internal Server Error in 122ms (ActiveRecord: 92.9ms)

ActionView::Template::Error (undefined local variable or method `line_items' for #<#<Class:0x007f40e01f2cf0>:0x007f40e064cc10>):
    1: var a = <% line_items.count %>;
    2: alert(a);
  app/views/line_items/destroy_all.js.erb:1:in `_app_views_line_items_destroy_all_js_erb___4001837807184911625_69958309115980'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (15.3ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 13:12:20 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (5.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.0ms)
Completed 200 OK in 101ms (Views: 95.9ms | ActiveRecord: 0.8ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 13:12:23 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 07:12:23.470083"], ["updated_at", "2017-08-29 07:12:23.470083"]]
  [1m[35m (142.0ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.7ms)
  Rendered line_items/_line_item.erb (11.0ms)
  Rendered line_items/create.js.erb (12.8ms)
Completed 200 OK in 163ms (Views: 15.3ms | ActiveRecord: 143.3ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 13:12:25 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (143.4ms)[0m  [1mDELETE FROM "line_items"[0m
  Rendered line_items/destroy_all.js.erb (2.5ms)
Completed 500 Internal Server Error in 149ms (ActiveRecord: 143.4ms)

ActionView::Template::Error (undefined method `count' for nil:NilClass):
    1: var a = <% @line_items.count %>;
    2: alert(a);
  app/views/line_items/destroy_all.js.erb:1:in `_app_views_line_items_destroy_all_js_erb___4001837807184911625_69958603317700'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (18.6ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 13:12:50 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (8.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.4ms)
Completed 200 OK in 116ms (Views: 112.6ms | ActiveRecord: 1.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 13:12:53 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 07:12:53.509235"], ["updated_at", "2017-08-29 07:12:53.509235"]]
  [1m[35m (135.2ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.3ms)
  Rendered line_items/_line_item.erb (8.4ms)
  Rendered line_items/create.js.erb (9.5ms)
Completed 200 OK in 153ms (Views: 11.0ms | ActiveRecord: 136.2ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 13:12:55 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (121.1ms)[0m  [1mDELETE FROM "line_items"[0m
  Rendered line_items/destroy_all.js.erb (0.6ms)
Completed 200 OK in 125ms (Views: 2.5ms | ActiveRecord: 121.1ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 13:13:34 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (8.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.6ms)
Completed 200 OK in 113ms (Views: 109.6ms | ActiveRecord: 1.0ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 13:15:01 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (8.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.4ms)
Completed 200 OK in 129ms (Views: 125.3ms | ActiveRecord: 1.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 13:15:03 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 07:15:03.777788"], ["updated_at", "2017-08-29 07:15:03.777788"]]
  [1m[35m (124.7ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.4ms)
  Rendered line_items/_line_item.erb (7.1ms)
  Rendered line_items/create.js.erb (8.3ms)
Completed 200 OK in 140ms (Views: 10.2ms | ActiveRecord: 125.6ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 13:15:06 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (89.8ms)[0m  [1mDELETE FROM "line_items"[0m
  Rendered line_items/destroy_all.js.erb (0.7ms)
Completed 200 OK in 94ms (Views: 2.6ms | ActiveRecord: 89.8ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 13:15:33 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (25.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.4ms)
Completed 200 OK in 114ms (Views: 93.3ms | ActiveRecord: 2.7ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 13:15:35 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 07:15:35.596754"], ["updated_at", "2017-08-29 07:15:35.596754"]]
  [1m[35m (90.8ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.5ms)
  Rendered line_items/_line_item.erb (10.1ms)
  Rendered line_items/create.js.erb (11.4ms)
Completed 200 OK in 113ms (Views: 15.2ms | ActiveRecord: 92.0ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 13:15:39 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (92.1ms)[0m  [1mDELETE FROM "line_items"[0m
  Rendered line_items/destroy_all.js.erb (0.1ms)
Completed 200 OK in 96ms (Views: 2.2ms | ActiveRecord: 92.1ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 13:16:16 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (6.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.3ms)
Completed 200 OK in 90ms (Views: 87.0ms | ActiveRecord: 0.8ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 13:16:20 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 07:16:20.230969"], ["updated_at", "2017-08-29 07:16:20.230969"]]
  [1m[35m (133.6ms)[0m  commit transaction
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.2ms)
  Rendered line_items/_line_item.erb (7.1ms)
  Rendered line_items/create.js.erb (8.1ms)
Completed 200 OK in 150ms (Views: 9.4ms | ActiveRecord: 134.8ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 13:16:22 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (115.0ms)[0m  [1mDELETE FROM "line_items"[0m
  Rendered line_items/destroy_all.js.erb (0.9ms)
Completed 200 OK in 121ms (Views: 4.3ms | ActiveRecord: 115.0ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 13:17:29 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.6ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.5ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (30.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.1ms)
Completed 200 OK in 136ms (Views: 107.3ms | ActiveRecord: 4.2ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 13:17:32 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 07:17:32.618032"], ["updated_at", "2017-08-29 07:17:32.618032"]]
  [1m[35m (125.8ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.7ms)
  Rendered line_items/_line_item.erb (10.8ms)
  Rendered line_items/create.js.erb (12.2ms)
Completed 200 OK in 149ms (Views: 16.9ms | ActiveRecord: 127.2ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 13:17:34 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (103.5ms)[0m  [1mDELETE FROM "line_items"[0m
  Rendered line_items/destroy_all.js.erb (0.1ms)
Completed 200 OK in 108ms (Views: 2.0ms | ActiveRecord: 103.5ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 13:29:44 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (11.7ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (4.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (39.9ms)
Completed 200 OK in 343ms (Views: 328.6ms | ActiveRecord: 12.3ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 13:31:00 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (7.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (2.8ms)
Completed 200 OK in 77ms (Views: 73.1ms | ActiveRecord: 1.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 13:31:03 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 07:31:03.920916"], ["updated_at", "2017-08-29 07:31:03.920916"]]
  [1m[35m (117.2ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.2ms)
  Rendered line_items/_line_item.erb (7.7ms)
  Rendered line_items/create.js.erb (9.0ms)
Completed 200 OK in 132ms (Views: 10.4ms | ActiveRecord: 118.2ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 13:31:05 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (136.1ms)[0m  [1mDELETE FROM "line_items"[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items"
  Rendered line_items/destroy_all.js.erb (21.7ms)
Completed 500 Internal Server Error in 162ms (ActiveRecord: 136.4ms)

ActionView::Template::Error (undefined local variable or method `curren_cart' for #<#<Class:0x007f40f82f2598>:0x007f4103b57ae8>):
    1: $('#cart').html("<%= j render curren_cart.line_item %>");
  app/views/line_items/destroy_all.js.erb:1:in `_app_views_line_items_destroy_all_js_erb___4001837807184911625_69958605910800'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (14.9ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 13:31:17 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (105.7ms)[0m  [1mDELETE FROM "line_items"[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items"
  Rendered line_items/destroy_all.js.erb (21.4ms)
Completed 500 Internal Server Error in 132ms (ActiveRecord: 105.9ms)

ActionView::Template::Error (undefined local variable or method `curren_cart' for #<#<Class:0x007f40f82f2598>:0x007f4103f30d90>):
    1: $('#cart').html("<%= j render curren_cart.line_item %>");
  app/views/line_items/destroy_all.js.erb:1:in `_app_views_line_items_destroy_all_js_erb___4001837807184911625_69958605910800'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (15.9ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 13:31:28 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (8.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (4.7ms)
Completed 200 OK in 93ms (Views: 90.2ms | ActiveRecord: 1.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 13:31:30 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 07:31:30.815848"], ["updated_at", "2017-08-29 07:31:30.815848"]]
  [1m[36m (202.5ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.5ms)
  Rendered line_items/_line_item.erb (8.1ms)
  Rendered line_items/create.js.erb (9.1ms)
Completed 200 OK in 221ms (Views: 10.7ms | ActiveRecord: 203.7ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 13:31:33 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[35mSQL (116.6ms)[0m  DELETE FROM "line_items"
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered line_items/destroy_all.js.erb (4.9ms)
Completed 500 Internal Server Error in 125ms (ActiveRecord: 116.9ms)

ActionView::Template::Error (undefined method `line_item' for #<Cart:0x00556cf7b524a8>):
    1: $('#cart').html("<%= j render current_cart.line_item %>");
  app/views/line_items/destroy_all.js.erb:1:in `_app_views_line_items_destroy_all_js_erb___4001837807184911625_46963250980380'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (18.5ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 13:31:47 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (6.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (3.1ms)
Completed 200 OK in 92ms (Views: 87.7ms | ActiveRecord: 0.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 13:31:50 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 07:31:50.241200"], ["updated_at", "2017-08-29 07:31:50.241200"]]
  [1m[35m (104.2ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.4ms)
  Rendered line_items/_line_item.erb (10.6ms)
  Rendered line_items/create.js.erb (12.5ms)
Completed 200 OK in 126ms (Views: 15.7ms | ActiveRecord: 105.3ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 13:31:51 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (99.0ms)[0m  [1mDELETE FROM "line_items"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection (0.0ms)
  Rendered line_items/destroy_all.js.erb (2.5ms)
Completed 200 OK in 106ms (Views: 4.4ms | ActiveRecord: 99.3ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 13:31:56 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (9.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.erb (5.2ms)
Completed 200 OK in 120ms (Views: 116.1ms | ActiveRecord: 1.1ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 13:36:10 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.6ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (8.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (4.8ms)
Completed 200 OK in 89ms (Views: 86.0ms | ActiveRecord: 1.3ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 13:36:12 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 07:36:12.313459"], ["updated_at", "2017-08-29 07:36:12.313459"]]
  [1m[35m (122.7ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.7ms)
  Rendered line_items/_line_item.html.erb (9.2ms)
  Rendered line_items/create.js.erb (10.3ms)
Completed 200 OK in 141ms (Views: 11.7ms | ActiveRecord: 124.5ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 13:36:14 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (73.4ms)[0m  [1mDELETE FROM "line_items"[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items"
  Rendered line_items/destroy_all.js.erb (23.8ms)
Completed 500 Internal Server Error in 103ms (ActiveRecord: 73.7ms)

ActionView::Template::Error (undefined local variable or method `line_item' for #<#<Class:0x007f40f82f2598>:0x007f40f8a325b0>):
    1: $('#cart').html("<%= j render line_item %>");
  app/views/line_items/destroy_all.js.erb:1:in `_app_views_line_items_destroy_all_js_erb___4001837807184911625_69958513034460'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (14.6ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 13:36:36 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?  [["establishment_id", 4]]
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (9.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.4ms)
Completed 200 OK in 105ms (Views: 101.8ms | ActiveRecord: 1.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 13:36:38 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Gruton", "price"=>"300.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Gruton"], ["quantity", 1], ["price", 300.0], ["cart_id", 1], ["created_at", "2017-08-29 07:36:38.605438"], ["updated_at", "2017-08-29 07:36:38.605438"]]
  [1m[36m (425.1ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.6ms)
  Rendered line_items/_line_item.html.erb (8.6ms)
  Rendered line_items/create.js.erb (10.6ms)
Completed 200 OK in 443ms (Views: 13.0ms | ActiveRecord: 426.2ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 13:36:40 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[35mSQL (104.0ms)[0m  DELETE FROM "line_items"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (4.0ms)
  Rendered line_items/destroy_all.js.erb (5.5ms)
Completed 200 OK in 113ms (Views: 7.0ms | ActiveRecord: 104.3ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 13:36:46 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 07:36:46.791378"], ["updated_at", "2017-08-29 07:36:46.791378"]]
  [1m[36m (82.5ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.8ms)
  Rendered line_items/_line_item.html.erb (7.8ms)
  Rendered line_items/create.js.erb (8.9ms)
Completed 200 OK in 99ms (Views: 10.5ms | ActiveRecord: 83.4ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 13:36:46 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 07:36:46.929925"], ["updated_at", "2017-08-29 07:36:46.929925"]]
  [1m[35m (99.6ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (4.0ms)
  Rendered line_items/_line_item.html.erb (13.8ms)
  Rendered line_items/create.js.erb (15.3ms)
Completed 200 OK in 126ms (Views: 20.7ms | ActiveRecord: 100.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 13:36:47 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 07:36:47.064021"], ["updated_at", "2017-08-29 07:36:47.064021"]]
  [1m[36m (109.7ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.7ms)
  Rendered line_items/_line_item.html.erb (17.7ms)
  Rendered line_items/create.js.erb (19.3ms)
Completed 200 OK in 136ms (Views: 20.6ms | ActiveRecord: 110.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 13:36:47 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 07:36:47.211579"], ["updated_at", "2017-08-29 07:36:47.211579"]]
  [1m[35m (94.7ms)[0m  commit transaction
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.9ms)
  Rendered line_items/_line_item.html.erb (10.7ms)
  Rendered line_items/create.js.erb (13.0ms)
Completed 200 OK in 117ms (Views: 14.8ms | ActiveRecord: 96.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 13:36:47 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 07:36:47.350568"], ["updated_at", "2017-08-29 07:36:47.350568"]]
  [1m[36m (88.7ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.8ms)
  Rendered line_items/_line_item.html.erb (11.6ms)
  Rendered line_items/create.js.erb (12.9ms)
Completed 200 OK in 110ms (Views: 14.5ms | ActiveRecord: 90.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 13:36:47 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 07:36:47.493526"], ["updated_at", "2017-08-29 07:36:47.493526"]]
  [1m[35m (100.9ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.4ms)
  Rendered line_items/_line_item.html.erb (8.2ms)
  Rendered line_items/create.js.erb (9.4ms)
Completed 200 OK in 119ms (Views: 10.8ms | ActiveRecord: 102.0ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 13:36:50 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (106.2ms)[0m  [1mDELETE FROM "line_items"[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (4.9ms)
  Rendered line_items/destroy_all.js.erb (6.7ms)
Completed 200 OK in 119ms (Views: 9.7ms | ActiveRecord: 106.7ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-08-29 13:37:33 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (21.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (7.0ms)
Completed 200 OK in 110ms (Views: 91.0ms | ActiveRecord: 2.4ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 13:37:40 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 07:37:40.219904"], ["updated_at", "2017-08-29 07:37:40.219904"]]
  [1m[35m (73.0ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.7ms)
  Rendered line_items/_line_item.html.erb (24.1ms)
  Rendered line_items/create.js.erb (25.5ms)
Completed 200 OK in 108ms (Views: 29.7ms | ActiveRecord: 74.3ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 13:37:40 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Foie gras", "price"=>"900.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Foie gras"], ["quantity", 1], ["price", 900.0], ["cart_id", 1], ["created_at", "2017-08-29 07:37:40.336364"], ["updated_at", "2017-08-29 07:37:40.336364"]]
  [1m[36m (67.5ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.3ms)
  Rendered line_items/_line_item.html.erb (8.5ms)
  Rendered line_items/create.js.erb (9.6ms)
Completed 200 OK in 84ms (Views: 11.0ms | ActiveRecord: 68.5ms)


Started DELETE "/line_items/142" for 127.0.0.1 at 2017-08-29 13:37:42 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"142"}
  [1m[35mLineItem Load (0.3ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 142]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 142]]
  [1m[36m (71.7ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.2ms)
  Rendered line_items/_line_item.html.erb (6.6ms)
  Rendered line_items/destroy.js.erb (7.7ms)
Completed 200 OK in 85ms (Views: 9.1ms | ActiveRecord: 72.8ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 13:37:44 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[35mSQL (93.8ms)[0m  DELETE FROM "line_items"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (4.3ms)
  Rendered line_items/destroy_all.js.erb (5.4ms)
Completed 200 OK in 103ms (Views: 6.9ms | ActiveRecord: 94.2ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateCategories (20170829074359)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "establishment_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_categories_on_establishment_id" ON "categories" ("establishment_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170829074359"]]
  [1m[36m (107.5ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_categories_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_categories_on_establishment_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to FixColumns (20170829074840)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TEMPORARY TABLE "adishes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "price" decimal, "establishment_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_establishment_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "tindex_adishes_on_establishment_id" ON "adishes" ("establishment_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "dishes"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "adishes" ("id","title","description","price","establishment_id","created_at","updated_at") VALUES (6, 'Пицца', 'Пицца, пицца, пицца', 500, 2, '2017-08-25 17:43:17.605211', '2017-08-28 08:00:39.760566')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "adishes" ("id","title","description","price","establishment_id","created_at","updated_at") VALUES (7, 'Foie gras', 'Fois gras is a luxury food product made of the liver of a duck or goose that has been specially fattened. By French law, foie gras is defined as the liver of a duck or goose fattened by force-feeding corn with a feeding tube, a process also known as gavage.', 900, 4, '2017-08-28 06:51:49.536758', '2017-08-28 08:00:47.507334')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "adishes" ("id","title","description","price","establishment_id","created_at","updated_at") VALUES (8, 'Gruton', 'Потому что гренки не могут стоить $8 за штуку, а gruton - может', 300, 4, '2017-08-28 06:51:49.640125', '2017-08-28 08:00:52.776786')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "adishes" ("id","title","description","price","establishment_id","created_at","updated_at") VALUES (9, 'Sushi', 'Су́ши, или су́си — блюдо традиционной японской кухни, приготовленное из риса с уксусной приправой и различных морепродуктов, а также других ингредиентов. С начала 1980-х суши получили широкую популярность в мире.', 320, 2, '2017-08-28 06:51:49.717791', '2017-08-28 08:01:02.146839')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "adishes" ("id","title","description","price","establishment_id","created_at","updated_at") VALUES (10, 'Ice Cream', 'Сладкая ням-ням штука', 100, 3, '2017-08-28 06:51:49.806327', '2017-08-28 08:01:10.634416')
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "dishes"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "dishes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_adishes_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_adishes_on_establishment_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "adishes"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "dishes" ("id","title","description","price","created_at","updated_at") VALUES (6, 'Пицца', 'Пицца, пицца, пицца', 500, '2017-08-25 17:43:17.605211', '2017-08-28 08:00:39.760566')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "dishes" ("id","title","description","price","created_at","updated_at") VALUES (7, 'Foie gras', 'Fois gras is a luxury food product made of the liver of a duck or goose that has been specially fattened. By French law, foie gras is defined as the liver of a duck or goose fattened by force-feeding corn with a feeding tube, a process also known as gavage.', 900, '2017-08-28 06:51:49.536758', '2017-08-28 08:00:47.507334')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "dishes" ("id","title","description","price","created_at","updated_at") VALUES (8, 'Gruton', 'Потому что гренки не могут стоить $8 за штуку, а gruton - может', 300, '2017-08-28 06:51:49.640125', '2017-08-28 08:00:52.776786')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "dishes" ("id","title","description","price","created_at","updated_at") VALUES (9, 'Sushi', 'Су́ши, или су́си — блюдо традиционной японской кухни, приготовленное из риса с уксусной приправой и различных морепродуктов, а также других ингредиентов. С начала 1980-х суши получили широкую популярность в мире.', 320, '2017-08-28 06:51:49.717791', '2017-08-28 08:01:02.146839')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "dishes" ("id","title","description","price","created_at","updated_at") VALUES (10, 'Ice Cream', 'Сладкая ням-ням штука', 100, '2017-08-28 06:51:49.806327', '2017-08-28 08:01:10.634416')[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "adishes"
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "dishes" ADD "category_id" integer[0m
  [1m[35m (0.4ms)[0m  CREATE  INDEX "index_dishes_on_category_id" ON "dishes" ("category_id")
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170829074840"]]
  [1m[35m (117.0ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_categories_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_categories_on_establishment_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_category_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_line_items_on_cart_id' AND type='index'

  [1m[36mSQL (67.7ms)[0m  [1mDELETE FROM "establishments"[0m
  [1m[35mSQL (79.2ms)[0m  DELETE FROM "dishes"


Started GET "/" for 127.0.0.1 at 2017-08-29 13:53:04 +0600
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (3.0ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (73.6ms)
Completed 200 OK in 1645ms (Views: 1615.3ms | ActiveRecord: 1.6ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 13:53:06 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.2ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.1ms)
Completed 200 OK in 69ms (Views: 66.5ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 13:53:06 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (1.0ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.4ms)
Completed 200 OK in 63ms (Views: 61.5ms | ActiveRecord: 0.6ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 13:53:07 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (0.8ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.1ms)
Completed 200 OK in 74ms (Views: 72.3ms | ActiveRecord: 0.6ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "establishments" ("title", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Golden Dragon"], ["description", "Ресторан Золотой дракон приглашает оценить обновленное убранство залов и восхитительный вкус новых и хорошо знакомых кушаний корейской и европейской кухни. Он расположен на территории отеля в отдельно стоящем здании и открыт с 10-00 утра до 12-00 часов ночи."], ["created_at", "2017-08-29 07:56:34.299227"], ["updated_at", "2017-08-29 07:56:34.299227"]]
  [1m[35m (85.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "establishments" ("title", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["title", "Ninja Sushi"], ["description", "Компания Ninja Shop выполнит весть спектр услуг по доставке готовой еды на дом, в офис или в любое удобное для вас место. Быстро и качественно доставляем суши, пиццу в Томске, горячие обеды, салаты, закуски, напитки, различные десерты и многое другое. Готовим гриль блюда различной сложности. "], ["created_at", "2017-08-29 07:56:34.389356"], ["updated_at", "2017-08-29 07:56:34.389356"]]
  [1m[36m (74.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "establishments" ("title", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Коффейня Coffee"], ["description", "…Летом, когда день не торопится завершиться, и зимой, когда за окном уже сумерки, приятно посидеть за чашечкой кофе. Впрочем, чашечка кофе не только пункт в меню, это повод для встречи, приятный ритуал, который в разное время суток может иметь различное дополнение. Утром – кофе с молоком плюс яблочный пирог – быстрый завтрак. Днем – ароматный эспрессо с чизкейком - приятная передышка. Вечером…\nА вот вечером возможны варианты. И ради чашечки вечернего кофе лучше отправиться в кофейню.\nПервая кофейня «Coffee» гостеприимно распахнула свои двери в марте 2006 года и положила начало созданию кофейной культуры в Киргизии. Кофейня «Coffee» - место, где не только подают кофе, но и создают уютную атмосферу общения для самой широкой аудитории. Спешит ли наш гость, и может провести в кофейне всего несколько минут, или, человеку захотелось обдумать какие-то идеи, провести деловую встречу, а может побыть наедине с собой, атмосфера кофейни располагает к тому, чтобы все они чувствовали себя как дома…"], ["created_at", "2017-08-29 07:56:34.467044"], ["updated_at", "2017-08-29 07:56:34.467044"]]
  [1m[35m (86.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "establishments" ("title", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["title", "Циклон"], ["description", "Ресторан «Циклон» был открыт, чтоб донести давнюю итальянскую традицию до жителей и гостей города Бишкек.\nИтальянский ресторан существует в центре города уже 20 лет и за это время успел обзавестись множеством постоянных гостей. А недавно, к большой их радости, в заведении обновился интерьер. Общая демократичность обстановки, свойственная итальянским ресторанчикам, не могла не сказаться и на меню «Циклона». В нем можно увидеть более двадцати видов пасты и вкусную пиццу во всем ее разнообразии, ризотто и домашние равиоли, классические итальянские блюда и интересные фирменные предложения от шеф-повара, которые по достоинству оценили даже гурманы из самой Италии.\n«Циклон» — это место, где можно ощутить итальянское гостеприимство, дружеские отношения с персоналом и конечно же попробовать традиционную итальянскую кухню"], ["created_at", "2017-08-29 07:56:34.555902"], ["updated_at", "2017-08-29 07:56:34.555902"]]
  [1m[36m (75.2ms)[0m  [1mcommit transaction[0m


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 13:56:37 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (7.8ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.7ms)
Completed 200 OK in 66ms (Views: 64.0ms | ActiveRecord: 0.9ms)


Started GET "/uploads/establishments/6" for 127.0.0.1 at 2017-08-29 13:56:37 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/6"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (20.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (104.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (87.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (111.8ms)


Started GET "/uploads/establishments/7" for 127.0.0.1 at 2017-08-29 13:56:37 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/7"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (5.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (81.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (31.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (64.1ms)


Started GET "/uploads/establishments/8" for 127.0.0.1 at 2017-08-29 13:56:37 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/8"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (48.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (26.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (53.4ms)


Started GET "/uploads/establishments/9" for 127.0.0.1 at 2017-08-29 13:56:38 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/9"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (45.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (41.5ms)


Started GET "/establishments/6" for 127.0.0.1 at 2017-08-29 13:56:41 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 6]]
  Rendered establishments/show.html.erb within layouts/application (4.3ms)
Completed 500 Internal Server Error in 60ms (ActiveRecord: 0.4ms)

ActionView::Template::Error (undefined method `dishes' for #<Establishment:0x00560a684c9f00>):
    24: 				<th>Стоимость</th>
    25: 				<th>Количество</th>
    26: 			</tr>
    27: 				<% @establishment.dishes.each do |dish| %>
    28: 					<tr>
    29: 						<td><%= dish.title %></td>
    30: 						<td><%= truncate(dish.description, length: 100) %></td>
  app/views/establishments/show.html.erb:27:in `_app_views_establishments_show_html_erb___2529439857385006355_47301338867700'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (29.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (41.2ms)


Started GET "/uploads/establishments/7" for 127.0.0.1 at 2017-08-29 13:56:42 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/7"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (44.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.9ms)


Started GET "/uploads/establishments/6" for 127.0.0.1 at 2017-08-29 13:56:42 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/6"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (46.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (41.8ms)


Started GET "/uploads/establishments/9" for 127.0.0.1 at 2017-08-29 13:56:42 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/9"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (46.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (40.6ms)


Started GET "/uploads/establishments/8" for 127.0.0.1 at 2017-08-29 13:56:42 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/8"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (43.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (40.1ms)


Started GET "/uploads/establishments/6" for 127.0.0.1 at 2017-08-29 13:56:50 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/6"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (4.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (70.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (34.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (64.4ms)


Started GET "/uploads/establishments/7" for 127.0.0.1 at 2017-08-29 13:56:50 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/7"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (4.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (63.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (48.3ms)


Started GET "/uploads/establishments/8" for 127.0.0.1 at 2017-08-29 13:56:50 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/8"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (44.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.1ms)


Started GET "/uploads/establishments/9" for 127.0.0.1 at 2017-08-29 13:56:50 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/9"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (45.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (41.5ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 13:56:52 +0600
Processing by Admin::EstablishmentsController#index as HTML
Filter chain halted as #<Proc:0x007f8562216490@/home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 13:56:53 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (3.9ms)
Completed 200 OK in 82ms (Views: 80.7ms | ActiveRecord: 0.4ms)


Started GET "/uploads/establishments/6" for 127.0.0.1 at 2017-08-29 13:56:54 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/6"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (50.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (46.6ms)


Started GET "/uploads/establishments/7" for 127.0.0.1 at 2017-08-29 13:56:54 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/7"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (15.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (56.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (41.9ms)


Started GET "/uploads/establishments/8" for 127.0.0.1 at 2017-08-29 13:56:54 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/8"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (48.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (41.8ms)


Started GET "/uploads/establishments/9" for 127.0.0.1 at 2017-08-29 13:56:54 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/9"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (44.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.0ms)


Started GET "/admin/establishments/6/edit" for 127.0.0.1 at 2017-08-29 13:56:56 +0600
Processing by Admin::EstablishmentsController#edit as HTML
  Parameters: {"id"=>"6"}
  [1m[36mEstablishment Load (0.7ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 6]]
  Rendered admin/establishments/_form.html.erb (56.9ms)
  Rendered admin/establishments/edit.html.erb within layouts/admin (58.8ms)
Completed 200 OK in 126ms (Views: 122.7ms | ActiveRecord: 0.7ms)


Started GET "/uploads/establishments/6" for 127.0.0.1 at 2017-08-29 13:56:56 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/6"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (43.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (19.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (40.1ms)


Started GET "/uploads/establishments/8" for 127.0.0.1 at 2017-08-29 13:56:56 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/8"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (42.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (19.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (39.2ms)


Started GET "/uploads/establishments/9" for 127.0.0.1 at 2017-08-29 13:56:56 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/9"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (45.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.0ms)


Started GET "/uploads/establishments/7" for 127.0.0.1 at 2017-08-29 13:56:56 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/7"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (46.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.2ms)


Started PATCH "/admin/establishments/6" for 127.0.0.1 at 2017-08-29 13:57:17 +0600
Processing by Admin::EstablishmentsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"zx4giHWMmI9r/VcXLkMjnItzHyn9GgaxiD043HNJ6EvAsrZXsgL9kXIbVrfgtRngWq/R9/PLvDosbj7CzzsRpQ==", "establishment"=>{"title"=>"Golden Dragon", "description"=>"Ресторан Золотой дракон приглашает оценить обновленное убранство залов и восхитительный вкус новых и хорошо знакомых кушаний корейской и европейской кухни. Он расположен на территории отеля в отдельно стоящем здании и открыт с 10-00 утра до 12-00 часов ночи.", "image"=>#<ActionDispatch::Http::UploadedFile:0x007f855043de38 @tempfile=#<Tempfile:/tmp/RackMultipart20170829-3769-12ghxtt>, @original_filename="5", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"establishment[image]\"; filename=\"5\"\r\nContent-Type: application/octet-stream\r\n">}, "commit"=>"Update Establishment", "id"=>"6"}
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 6]]
Unpermitted parameter: image
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/admin/establishments
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 13:57:17 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (2.2ms)
Completed 200 OK in 55ms (Views: 53.7ms | ActiveRecord: 0.2ms)


Started GET "/uploads/establishments/7" for 127.0.0.1 at 2017-08-29 13:57:18 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/7"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (4.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (70.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (24.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (47.8ms)


Started GET "/uploads/establishments/8" for 127.0.0.1 at 2017-08-29 13:57:18 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/8"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (61.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (33.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (60.7ms)


Started GET "/uploads/establishments/9" for 127.0.0.1 at 2017-08-29 13:57:18 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/9"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (4.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (15.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (74.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (48.9ms)


Started GET "/admin/establishments/7/edit" for 127.0.0.1 at 2017-08-29 13:57:23 +0600
Processing by Admin::EstablishmentsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  Rendered admin/establishments/_form.html.erb (3.6ms)
  Rendered admin/establishments/edit.html.erb within layouts/admin (4.4ms)
Completed 200 OK in 75ms (Views: 71.9ms | ActiveRecord: 0.2ms)


Started GET "/uploads/establishments/7" for 127.0.0.1 at 2017-08-29 13:57:23 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/7"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (44.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.1ms)


Started GET "/uploads/establishments/8" for 127.0.0.1 at 2017-08-29 13:57:23 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/8"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (44.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.7ms)


Started GET "/uploads/establishments/9" for 127.0.0.1 at 2017-08-29 13:57:23 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/9"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (46.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.2ms)


Started PATCH "/admin/establishments/7" for 127.0.0.1 at 2017-08-29 13:57:31 +0600
Processing by Admin::EstablishmentsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"QGdADfMoOE6s5aVphNWbEnhgWzZvkptn7uOM/pw5fKtPy9bSNKZdULUDpMlKI6FuqbyV6GFDIexKsIrgIEuFRQ==", "establishment"=>{"title"=>"Ninja Sushi", "description"=>"Компания Ninja Shop выполнит весть спектр услуг по доставке готовой еды на дом, в офис или в любое удобное для вас место. Быстро и качественно доставляем суши, пиццу в Томске, горячие обеды, салаты, закуски, напитки, различные десерты и многое другое. Готовим гриль блюда различной сложности. ", "image"=>#<ActionDispatch::Http::UploadedFile:0x007f85619c1268 @tempfile=#<Tempfile:/tmp/RackMultipart20170829-3769-1cftdl5>, @original_filename="2", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"establishment[image]\"; filename=\"2\"\r\nContent-Type: application/octet-stream\r\n">}, "commit"=>"Update Establishment", "id"=>"7"}
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
Unpermitted parameter: image
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/admin/establishments
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 13:57:31 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (2.7ms)
Completed 200 OK in 73ms (Views: 71.1ms | ActiveRecord: 0.3ms)


Started GET "/uploads/establishments/8" for 127.0.0.1 at 2017-08-29 13:57:31 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/8"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (50.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (46.4ms)


Started GET "/uploads/establishments/9" for 127.0.0.1 at 2017-08-29 13:57:31 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/9"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (52.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (28.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (56.5ms)


Started GET "/admin/establishments/8/edit" for 127.0.0.1 at 2017-08-29 13:57:33 +0600
Processing by Admin::EstablishmentsController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  Rendered admin/establishments/_form.html.erb (5.5ms)
  Rendered admin/establishments/edit.html.erb within layouts/admin (8.4ms)
Completed 200 OK in 80ms (Views: 77.4ms | ActiveRecord: 0.2ms)


Started GET "/uploads/establishments/8" for 127.0.0.1 at 2017-08-29 13:57:34 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/8"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (45.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.2ms)


Started GET "/uploads/establishments/9" for 127.0.0.1 at 2017-08-29 13:57:34 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/9"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (49.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.6ms)


Started PATCH "/admin/establishments/8" for 127.0.0.1 at 2017-08-29 13:57:38 +0600
Processing by Admin::EstablishmentsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"LAfWu43EewGbLHjrTxDO0OB4hyoKUpXYyb6iO5jOOygjq0BkSkoeH4LKeUuB5vSsMaRJ9ASDL1Nt7aQlJLzCxg==", "establishment"=>{"title"=>"Коффейня Coffee", "description"=>"…Летом, когда день не торопится завершиться, и зимой, когда за окном уже сумерки, приятно посидеть за чашечкой кофе. Впрочем, чашечка кофе не только пункт в меню, это повод для встречи, приятный ритуал, который в разное время суток может иметь различное дополнение. Утром – кофе с молоком плюс яблочный пирог – быстрый завтрак. Днем – ароматный эспрессо с чизкейком - приятная передышка. Вечером…\r\nА вот вечером возможны варианты. И ради чашечки вечернего кофе лучше отправиться в кофейню.\r\nПервая кофейня «Coffee» гостеприимно распахнула свои двери в марте 2006 года и положила начало созданию кофейной культуры в Киргизии. Кофейня «Coffee» - место, где не только подают кофе, но и создают уютную атмосферу общения для самой широкой аудитории. Спешит ли наш гость, и может провести в кофейне всего несколько минут, или, человеку захотелось обдумать какие-то идеи, провести деловую встречу, а может побыть наедине с собой, атмосфера кофейни располагает к тому, чтобы все они чувствовали себя как дома…", "image"=>#<ActionDispatch::Http::UploadedFile:0x007f855075c998 @tempfile=#<Tempfile:/tmp/RackMultipart20170829-3769-ruzyts>, @original_filename="3", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"establishment[image]\"; filename=\"3\"\r\nContent-Type: application/octet-stream\r\n">}, "commit"=>"Update Establishment", "id"=>"8"}
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
Unpermitted parameter: image
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "establishments" SET "description" = ?, "updated_at" = ? WHERE "establishments"."id" = ?  [["description", "…Летом, когда день не торопится завершиться, и зимой, когда за окном уже сумерки, приятно посидеть за чашечкой кофе. Впрочем, чашечка кофе не только пункт в меню, это повод для встречи, приятный ритуал, который в разное время суток может иметь различное дополнение. Утром – кофе с молоком плюс яблочный пирог – быстрый завтрак. Днем – ароматный эспрессо с чизкейком - приятная передышка. Вечером…\r\nА вот вечером возможны варианты. И ради чашечки вечернего кофе лучше отправиться в кофейню.\r\nПервая кофейня «Coffee» гостеприимно распахнула свои двери в марте 2006 года и положила начало созданию кофейной культуры в Киргизии. Кофейня «Coffee» - место, где не только подают кофе, но и создают уютную атмосферу общения для самой широкой аудитории. Спешит ли наш гость, и может провести в кофейне всего несколько минут, или, человеку захотелось обдумать какие-то идеи, провести деловую встречу, а может побыть наедине с собой, атмосфера кофейни располагает к тому, чтобы все они чувствовали себя как дома…"], ["updated_at", "2017-08-29 07:57:38.603339"], ["id", 8]]
  [1m[36m (158.8ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/admin/establishments
Completed 302 Found in 166ms (ActiveRecord: 159.4ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 13:57:38 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (2.7ms)
Completed 200 OK in 60ms (Views: 58.7ms | ActiveRecord: 0.3ms)


Started GET "/uploads/establishments/9" for 127.0.0.1 at 2017-08-29 13:57:39 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/9"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (61.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (29.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (62.4ms)


Started GET "/admin/establishments/9/edit" for 127.0.0.1 at 2017-08-29 13:57:41 +0600
Processing by Admin::EstablishmentsController#edit as HTML
  Parameters: {"id"=>"9"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 9]]
  Rendered admin/establishments/_form.html.erb (3.7ms)
  Rendered admin/establishments/edit.html.erb within layouts/admin (4.9ms)
Completed 200 OK in 72ms (Views: 69.8ms | ActiveRecord: 0.2ms)


Started GET "/uploads/establishments/9" for 127.0.0.1 at 2017-08-29 13:57:41 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/9"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (49.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.3ms)


Started PATCH "/admin/establishments/9" for 127.0.0.1 at 2017-08-29 13:57:45 +0600
Processing by Admin::EstablishmentsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2d7kMaGTxRQhN6kBuxRWL7YBfv58lJm/NF6UaZD7pyvWcnLuZh2gCjjRqKF14mxTZ92wIHJFIzSQDZJ3LIlexQ==", "establishment"=>{"title"=>"Циклон", "description"=>"Ресторан «Циклон» был открыт, чтоб донести давнюю итальянскую традицию до жителей и гостей города Бишкек.\r\nИтальянский ресторан существует в центре города уже 20 лет и за это время успел обзавестись множеством постоянных гостей. А недавно, к большой их радости, в заведении обновился интерьер. Общая демократичность обстановки, свойственная итальянским ресторанчикам, не могла не сказаться и на меню «Циклона». В нем можно увидеть более двадцати видов пасты и вкусную пиццу во всем ее разнообразии, ризотто и домашние равиоли, классические итальянские блюда и интересные фирменные предложения от шеф-повара, которые по достоинству оценили даже гурманы из самой Италии.\r\n«Циклон» — это место, где можно ощутить итальянское гостеприимство, дружеские отношения с персоналом и конечно же попробовать традиционную итальянскую кухню", "image"=>#<ActionDispatch::Http::UploadedFile:0x007f8561819ed8 @tempfile=#<Tempfile:/tmp/RackMultipart20170829-3769-1c5heh5>, @original_filename="4", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"establishment[image]\"; filename=\"4\"\r\nContent-Type: application/octet-stream\r\n">}, "commit"=>"Update Establishment", "id"=>"9"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 9]]
Unpermitted parameter: image
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "establishments" SET "description" = ?, "updated_at" = ? WHERE "establishments"."id" = ?  [["description", "Ресторан «Циклон» был открыт, чтоб донести давнюю итальянскую традицию до жителей и гостей города Бишкек.\r\nИтальянский ресторан существует в центре города уже 20 лет и за это время успел обзавестись множеством постоянных гостей. А недавно, к большой их радости, в заведении обновился интерьер. Общая демократичность обстановки, свойственная итальянским ресторанчикам, не могла не сказаться и на меню «Циклона». В нем можно увидеть более двадцати видов пасты и вкусную пиццу во всем ее разнообразии, ризотто и домашние равиоли, классические итальянские блюда и интересные фирменные предложения от шеф-повара, которые по достоинству оценили даже гурманы из самой Италии.\r\n«Циклон» — это место, где можно ощутить итальянское гостеприимство, дружеские отношения с персоналом и конечно же попробовать традиционную итальянскую кухню"], ["updated_at", "2017-08-29 07:57:45.616773"], ["id", 9]]
  [1m[36m (84.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/admin/establishments
Completed 302 Found in 91ms (ActiveRecord: 84.6ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 13:57:45 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (2.5ms)
Completed 200 OK in 77ms (Views: 75.6ms | ActiveRecord: 0.2ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 13:57:52 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (2.7ms)
Completed 200 OK in 67ms (Views: 65.6ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 13:57:54 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (4.6ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (4.1ms)
Completed 200 OK in 86ms (Views: 84.2ms | ActiveRecord: 0.7ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 13:57:55 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.9ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.2ms)
Completed 200 OK in 73ms (Views: 71.2ms | ActiveRecord: 0.6ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 13:58:06 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (4.5ms)
Completed 200 OK in 108ms (Views: 105.1ms | ActiveRecord: 0.4ms)


Started GET "/admin/establishments/new" for 127.0.0.1 at 2017-08-29 13:58:08 +0600
Processing by Admin::EstablishmentsController#new as HTML
  Rendered admin/establishments/_form.html.erb (5.5ms)
  Rendered admin/establishments/new.html.erb within layouts/admin (7.6ms)
Completed 200 OK in 70ms (Views: 67.9ms | ActiveRecord: 0.0ms)


Started POST "/admin/establishments" for 127.0.0.1 at 2017-08-29 13:58:16 +0600
Processing by Admin::EstablishmentsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"f1TyJz8gYcJFjMHOH5Dwx5kMfjk2QSVV8bAMDpqmfY9w+GT4+K4E3FxqwG7RZsq7SNCw5ziQn95V4woQJtSEYQ==", "establishment"=>{"title"=>"K.,jt ptdtltybt", "description"=>"dssdfsfsfsdfsdfsd"}, "commit"=>"Create Establishment"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "establishments" ("title", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["title", "K.,jt ptdtltybt"], ["description", "dssdfsfsfsdfsdfsd"], ["created_at", "2017-08-29 07:58:17.000899"], ["updated_at", "2017-08-29 07:58:17.000899"]]
  [1m[36m (52.7ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/establishments
Completed 302 Found in 58ms (ActiveRecord: 53.2ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 13:58:17 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.4ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.2ms)
Completed 200 OK in 62ms (Views: 60.5ms | ActiveRecord: 0.6ms)


Started GET "/uploads/establishments/10" for 127.0.0.1 at 2017-08-29 13:58:17 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/10"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (67.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (50.6ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 13:58:22 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (5.9ms)
Completed 200 OK in 88ms (Views: 86.4ms | ActiveRecord: 0.4ms)


Started GET "/uploads/establishments/10" for 127.0.0.1 at 2017-08-29 13:58:22 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/10"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (47.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (41.9ms)


Started GET "/admin/establishments/10/edit" for 127.0.0.1 at 2017-08-29 13:58:23 +0600
Processing by Admin::EstablishmentsController#edit as HTML
  Parameters: {"id"=>"10"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 10]]
  Rendered admin/establishments/_form.html.erb (3.5ms)
  Rendered admin/establishments/edit.html.erb within layouts/admin (4.7ms)
Completed 200 OK in 73ms (Views: 71.4ms | ActiveRecord: 0.2ms)


Started GET "/uploads/establishments/10" for 127.0.0.1 at 2017-08-29 13:58:23 +0600

ActionController::RoutingError (No route matches [GET] "/uploads/establishments/10"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (46.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.1ms)


Started PATCH "/admin/establishments/10" for 127.0.0.1 at 2017-08-29 13:58:28 +0600
Processing by Admin::EstablishmentsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"u2BnUPhmTrpkm7067ATAMmAQqh85y5qHFhnGfuyyMby0zPGPP+grpH19vJoi8vpOscxkwTcaIAyySsBgUMDIUg==", "establishment"=>{"title"=>"K.,jt ptdtltybt", "description"=>"dssdfsfsfsdfsdfsd", "image"=>#<ActionDispatch::Http::UploadedFile:0x007f85626aa3f8 @tempfile=#<Tempfile:/tmp/RackMultipart20170829-3769-metr5h>, @original_filename="5", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"establishment[image]\"; filename=\"5\"\r\nContent-Type: application/octet-stream\r\n">}, "commit"=>"Update Establishment", "id"=>"10"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 10]]
Unpermitted parameter: image
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/admin/establishments
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 13:58:28 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (2.9ms)
Completed 200 OK in 60ms (Views: 58.5ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 13:58:30 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.8ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.3ms)
Completed 200 OK in 90ms (Views: 86.0ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 13:59:06 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (3.0ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.2ms)
Completed 200 OK in 62ms (Views: 60.1ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 13:59:44 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (3.4ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.1ms)
Completed 200 OK in 64ms (Views: 61.7ms | ActiveRecord: 0.7ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Напитки"], ["establishment_id", 7], ["created_at", "2017-08-29 08:03:32.502921"], ["updated_at", "2017-08-29 08:03:32.502921"]]
  [1m[35m (92.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["title", "Напитки"], ["establishment_id", 8], ["created_at", "2017-08-29 08:03:32.600608"], ["updated_at", "2017-08-29 08:03:32.600608"]]
  [1m[36m (86.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Напитки"], ["establishment_id", 9], ["created_at", "2017-08-29 08:03:32.689215"], ["updated_at", "2017-08-29 08:03:32.689215"]]
  [1m[35m (108.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["title", "Напитки"], ["establishment_id", 10], ["created_at", "2017-08-29 08:03:32.800339"], ["updated_at", "2017-08-29 08:03:32.800339"]]
  [1m[36m (85.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Десерты"], ["establishment_id", 7], ["created_at", "2017-08-29 08:03:32.889039"], ["updated_at", "2017-08-29 08:03:32.889039"]]
  [1m[35m (77.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["title", "Десерты"], ["establishment_id", 7], ["created_at", "2017-08-29 08:03:32.969731"], ["updated_at", "2017-08-29 08:03:32.969731"]]
  [1m[36m (82.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Национальная кухня"], ["establishment_id", 9], ["created_at", "2017-08-29 08:03:33.055674"], ["updated_at", "2017-08-29 08:03:33.055674"]]
  [1m[35m (118.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["title", "Кофе"], ["establishment_id", 8], ["created_at", "2017-08-29 08:03:33.177350"], ["updated_at", "2017-08-29 08:03:33.177350"]]
  [1m[36m (86.4ms)[0m  [1mcommit transaction[0m
  [1m[36mCategory Load (1.5ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "category_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Плов"], ["price", 130.0], ["category_id", 7], ["description", "Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quos, tenetur porro dicta praesentium ipsum repudiandae id quaerat reiciendis saepe quo reprehenderit facilis voluptatum velit suscipit quis animi adipisci! Autem, consequuntur."], ["created_at", "2017-08-29 08:10:02.391394"], ["updated_at", "2017-08-29 08:10:02.391394"]]
  [1m[35m (91.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "dishes" ("title", "price", "category_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["price", 80.0], ["category_id", 6], ["description", "Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fuga perferendis ab quos, dolores, dolorum odio sunt. Porro ut sit quam quod minima, excepturi repellendus ratione magni ea, quis, omnis provident!"], ["created_at", "2017-08-29 08:10:02.487526"], ["updated_at", "2017-08-29 08:10:02.487526"]]
  [1m[36m (130.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "category_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["price", 75.0], ["category_id", 5], ["description", "Какое нибудь вкусное мороженое"], ["created_at", "2017-08-29 08:10:02.620809"], ["updated_at", "2017-08-29 08:10:02.620809"]]
  [1m[35m (85.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "dishes" ("title", "category_id", "price", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Макиато"], ["category_id", 8], ["price", 100.0], ["description", "Макиато кофе"], ["created_at", "2017-08-29 08:10:02.709357"], ["updated_at", "2017-08-29 08:10:02.709357"]]
  [1m[36m (86.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "category_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Макиато"], ["price", 100.0], ["category_id", 8], ["description", "Макиато кофе"], ["created_at", "2017-08-29 08:10:02.797996"], ["updated_at", "2017-08-29 08:10:02.797996"]]
  [1m[35m (85.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["title", "Кока-кола"], ["price", 100.0], ["description", "Макиато кофе"], ["created_at", "2017-08-29 08:10:02.886858"], ["updated_at", "2017-08-29 08:10:02.886858"]]
  [1m[36m (148.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "category_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Фанта"], ["price", 100.0], ["category_id", 1], ["description", "Макиато кофе"], ["created_at", "2017-08-29 08:10:03.037870"], ["updated_at", "2017-08-29 08:10:03.037870"]]
  [1m[35m (103.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "dishes" ("title", "price", "category_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Манты"], ["price", 100.0], ["category_id", 2], ["description", "Макиато кофе"], ["created_at", "2017-08-29 08:10:03.144525"], ["updated_at", "2017-08-29 08:10:03.144525"]]
  [1m[36m (75.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "category_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Спрайт"], ["price", 100.0], ["category_id", 3], ["description", "Макиато кофе"], ["created_at", "2017-08-29 08:10:03.222336"], ["updated_at", "2017-08-29 08:10:03.222336"]]
  [1m[35m (75.0ms)[0m  commit transaction
  [1m[36mDish Load (1.6ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m


Started GET "/" for 127.0.0.1 at 2017-08-29 14:17:33 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (3.0ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.1ms)
Completed 200 OK in 82ms (Views: 79.9ms | ActiveRecord: 0.7ms)


Started GET "/establishments/6" for 127.0.0.1 at 2017-08-29 14:17:35 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 6]]
  Rendered establishments/show.html.erb within layouts/application (5.8ms)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.2ms)

ActionView::Template::Error (undefined method `category' for #<Establishment:0x007f855c2a99f8>):
    17: </div>
    18: <div class="row">
    19: 	<div class="col-md-12">
    20: 		<% @establishment.category.each do |category| %>
    21: 		<h3><%= category.title %></h3>
    22: 		<table class="table">
    23: 			<tr>
  app/views/establishments/show.html.erb:20:in `_app_views_establishments_show_html_erb___2529439857385006355_70105376783940'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (33.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.3ms)


Started GET "/establishments/6" for 127.0.0.1 at 2017-08-29 14:17:50 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 6]]
  Rendered establishments/show.html.erb within layouts/application (9.3ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.3ms)
Completed 200 OK in 88ms (Views: 85.0ms | ActiveRecord: 0.9ms)


Started GET "/establishments/6" for 127.0.0.1 at 2017-08-29 14:20:30 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 6]]
  Rendered establishments/show.html.erb within layouts/application (2.6ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.1ms)
Completed 200 OK in 68ms (Views: 65.3ms | ActiveRecord: 0.6ms)


Started GET "/establishments/6" for 127.0.0.1 at 2017-08-29 14:21:09 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 6]]
  Rendered establishments/show.html.erb within layouts/application (2.3ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.1ms)
Completed 200 OK in 63ms (Views: 61.3ms | ActiveRecord: 0.6ms)


Started GET "/establishments/6" for 127.0.0.1 at 2017-08-29 14:21:52 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 6]]
  Rendered establishments/show.html.erb within layouts/application (4.3ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.3ms)
Completed 200 OK in 69ms (Views: 66.1ms | ActiveRecord: 0.7ms)


Started GET "/establishments/6" for 127.0.0.1 at 2017-08-29 14:22:20 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 6]]
  Rendered establishments/show.html.erb within layouts/application (2.6ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.8ms)
Completed 200 OK in 77ms (Views: 74.6ms | ActiveRecord: 0.6ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 14:24:03 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (3.9ms)
Completed 200 OK in 79ms (Views: 76.9ms | ActiveRecord: 0.3ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 14:24:04 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 8]]
  Rendered admin/dishes/index.html.erb within layouts/admin (50.5ms)
Completed 500 Internal Server Error in 63ms (ActiveRecord: 1.4ms)

ActionView::Template::Error (undefined method `title' for nil:NilClass):
    14: 			<td><%= dish.title %></td>
    15: 			<td><%= dish.description %></td>
    16: 			<td><%= dish.price %></td>
    17: 			<td><%= dish.category.title %></td>
    18:       <td><%= link_to 'Edit', edit_admin_dish_path(dish) %></td>
    19:       <td><%= link_to 'Destroy', admin_dish_path(dish), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    20: 		</tr>
  app/views/admin/dishes/index.html.erb:17:in `block in _app_views_admin_dishes_index_html_erb___2048292535213264835_70105280800860'
  app/views/admin/dishes/index.html.erb:12:in `_app_views_admin_dishes_index_html_erb___2048292535213264835_70105280800860'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (32.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (40.8ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 14:24:19 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered admin/dishes/index.html.erb within layouts/admin (6.4ms)
Completed 200 OK in 98ms (Views: 94.8ms | ActiveRecord: 0.4ms)


Started GET "/admin/dishes/11/edit" for 127.0.0.1 at 2017-08-29 14:24:22 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"11"}
  [1m[35mDish Load (0.3ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered admin/dishes/_form.html.erb (27.1ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (28.7ms)
Completed 200 OK in 86ms (Views: 83.0ms | ActiveRecord: 0.6ms)
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments"  ORDER BY "establishments"."id" DESC LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" DESC LIMIT 1
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.3ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 10]]


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 14:33:59 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.5ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (7.3ms)
Completed 200 OK in 84ms (Views: 79.4ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 14:34:00 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.7ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (15.6ms)
Completed 200 OK in 90ms (Views: 86.7ms | ActiveRecord: 1.4ms)


Started GET "/establishments/6" for 127.0.0.1 at 2017-08-29 14:34:01 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCategory Load (0.5ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 6]]
  Rendered establishments/show.html.erb within layouts/application (15.0ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.5ms)
Completed 200 OK in 124ms (Views: 109.7ms | ActiveRecord: 1.8ms)


Started GET "/establishments/6" for 127.0.0.1 at 2017-08-29 14:34:18 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 6]]
  Rendered establishments/show.html.erb within layouts/application (2.9ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.1ms)
Completed 200 OK in 83ms (Views: 79.6ms | ActiveRecord: 0.7ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 14:34:25 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.9ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.1ms)
Completed 200 OK in 72ms (Views: 70.4ms | ActiveRecord: 0.6ms)


Started GET "/establishments/7" for 127.0.0.1 at 2017-08-29 14:34:27 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 7]]
  Rendered establishments/show.html.erb within layouts/application (14.8ms)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.6ms)

ActionView::Template::Error (undefined method `each' for #<Category:0x007f8550a14960>):
    18: <div class="row">
    19: 	<div class="col-md-12">
    20: 		<% @establishment.categories.each do |categories| %>
    21: 			<% categories.each do |category| %>
    22: 			<h1>category.title</h1>
    23: 			<% end %>
    24: 			
  app/views/establishments/show.html.erb:21:in `block in _app_views_establishments_show_html_erb___2529439857385006355_47301341254740'
  app/views/establishments/show.html.erb:20:in `_app_views_establishments_show_html_erb___2529439857385006355_47301341254740'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (30.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.4ms)


Started GET "/establishments/7" for 127.0.0.1 at 2017-08-29 14:35:16 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  Rendered establishments/show.html.erb within layouts/application (4.4ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.2ms)

ActionView::Template::Error (undefined method `category' for #<Establishment:0x007f855062c0a0>):
    17: </div>
    18: <div class="row">
    19: 	<div class="col-md-12">
    20: 		<% @establishment.category.each do |categories| %>
    21: 			<% categories.each do |category| %>
    22: 			<h1>category.title</h1>
    23: 			<% end %>
  app/views/establishments/show.html.erb:20:in `_app_views_establishments_show_html_erb___2529439857385006355_70105277834980'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (30.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (41.9ms)
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT  "establishments".* FROM "establishments"  ORDER BY "establishments"."id" DESC LIMIT 1[0m
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT  "establishments".* FROM "establishments"  ORDER BY "establishments"."id" ASC LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 6]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "establishments" ("title", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["title", "BUAGAGAGAGGA"], ["created_at", "2017-08-29 08:37:28.989089"], ["updated_at", "2017-08-29 08:37:28.989089"]]
  [1m[35m (77.5ms)[0m  commit transaction
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments"  ORDER BY "establishments"."id" DESC LIMIT 1[0m
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT  "establishments".* FROM "establishments"  ORDER BY "establishments"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "establishments" WHERE "establishments"."id" = ?  [["id", 11]]
  [1m[36m (104.7ms)[0m  [1mcommit transaction[0m
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT  "establishments".* FROM "establishments"  ORDER BY "establishments"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "establishments" WHERE "establishments"."id" = ?  [["id", 10]]
  [1m[36m (91.1ms)[0m  [1mcommit transaction[0m
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT  "establishments".* FROM "establishments"  ORDER BY "establishments"."id" DESC LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 9]]


Started GET "/establishments/7" for 127.0.0.1 at 2017-08-29 14:41:09 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  Rendered establishments/show.html.erb within layouts/application (0.8ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.1ms)
Completed 200 OK in 64ms (Views: 61.5ms | ActiveRecord: 0.5ms)


Started GET "/establishments/7" for 127.0.0.1 at 2017-08-29 14:41:19 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  Rendered establishments/show.html.erb within layouts/application (3.6ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.1ms)
Completed 200 OK in 64ms (Views: 61.3ms | ActiveRecord: 0.5ms)


Started GET "/establishments/7" for 127.0.0.1 at 2017-08-29 14:42:09 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 7]]
  Rendered establishments/show.html.erb within layouts/application (2.4ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.3ms)
Completed 200 OK in 75ms (Views: 72.0ms | ActiveRecord: 0.6ms)


Started GET "/establishments/7" for 127.0.0.1 at 2017-08-29 14:42:14 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 7]]
  Rendered establishments/show.html.erb within layouts/application (2.9ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.4ms)
Completed 200 OK in 69ms (Views: 66.5ms | ActiveRecord: 0.8ms)


Started GET "/establishments/7" for 127.0.0.1 at 2017-08-29 14:43:27 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 7]]
  Rendered establishments/show.html.erb within layouts/application (9.9ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (5.0ms)
Completed 200 OK in 113ms (Views: 110.8ms | ActiveRecord: 0.9ms)


Started GET "/establishments/7" for 127.0.0.1 at 2017-08-29 14:43:59 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 7]]
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 1]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 5]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 6]]
  Rendered establishments/show.html.erb within layouts/application (19.9ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (4.4ms)
Completed 200 OK in 116ms (Views: 112.3ms | ActiveRecord: 1.5ms)


Started GET "/establishments/7" for 127.0.0.1 at 2017-08-29 14:44:07 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 7]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 1]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 5]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 6]]
  Rendered establishments/show.html.erb within layouts/application (7.2ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.1ms)
Completed 200 OK in 94ms (Views: 90.1ms | ActiveRecord: 1.0ms)


Started GET "/establishments/7" for 127.0.0.1 at 2017-08-29 14:49:34 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 7]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 1]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 6]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (30.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (5.4ms)
Completed 200 OK in 102ms (Views: 97.2ms | ActiveRecord: 1.8ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 14:49:42 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.7ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (4.2ms)
Completed 200 OK in 83ms (Views: 81.1ms | ActiveRecord: 0.7ms)


Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 14:49:44 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.3ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 8]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 2]]
  [1m[35mCart Load (0.5ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (17.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (6.2ms)
Completed 200 OK in 110ms (Views: 106.7ms | ActiveRecord: 1.8ms)


Started GET "/establishments/9" for 127.0.0.1 at 2017-08-29 14:49:50 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 9]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 3]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (9.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.0ms)
Completed 200 OK in 77ms (Views: 74.8ms | ActiveRecord: 1.2ms)


Started GET "/establishments/9" for 127.0.0.1 at 2017-08-29 14:50:04 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 9]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 3]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (8.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.0ms)
Completed 200 OK in 68ms (Views: 65.7ms | ActiveRecord: 0.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 14:50:23 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Спрайт", "price"=>"100.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Спрайт"], ["quantity", 1], ["price", 100.0], ["cart_id", 1], ["created_at", "2017-08-29 08:50:23.695552"], ["updated_at", "2017-08-29 08:50:23.695552"]]
  [1m[35m (75.7ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.0ms)
  Rendered line_items/_line_item.html.erb (13.1ms)
  Rendered line_items/create.js.erb (14.7ms)
Completed 200 OK in 100ms (Views: 18.7ms | ActiveRecord: 77.0ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 14:50:28 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (388.1ms)[0m  [1mDELETE FROM "line_items"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (4.1ms)
  Rendered line_items/destroy_all.js.erb (5.5ms)
Completed 200 OK in 397ms (Views: 7.1ms | ActiveRecord: 388.4ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 14:50:34 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (3.0ms)
Completed 200 OK in 79ms (Views: 76.8ms | ActiveRecord: 0.3ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 14:50:38 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 8]]
  Rendered admin/dishes/index.html.erb within layouts/admin (18.6ms)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 1.5ms)

ActionView::Template::Error (undefined method `title' for nil:NilClass):
    14: 			<td><%= dish.title %></td>
    15: 			<td><%= dish.description %></td>
    16: 			<td><%= dish.price %></td>
    17: 			<td><%= dish.category.title %></td>
    18:       <td><%= link_to 'Edit', edit_admin_dish_path(dish) %></td>
    19:       <td><%= link_to 'Destroy', admin_dish_path(dish), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    20: 		</tr>
  app/views/admin/dishes/index.html.erb:17:in `block in _app_views_admin_dishes_index_html_erb___2048292535213264835_47301353191220'
  app/views/admin/dishes/index.html.erb:12:in `_app_views_admin_dishes_index_html_erb___2048292535213264835_47301353191220'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (30.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (40.6ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 14:51:47 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered admin/dishes/index.html.erb within layouts/admin (27.7ms)
Completed 500 Internal Server Error in 32ms (ActiveRecord: 0.3ms)

ActionView::Template::Error (undefined local variable or method `dishes' for #<#<Class:0x00560a68c682c0>:0x007f85626282b8>):
    14: 			<td><%= dish.title %></td>
    15: 			<td><%= truncate(dish.description, length: 95) %></td>
    16: 			<td><%= dish.price %></td>
    17: 			<td><%= dishes.category.title %></td>
    18:       <td><%= link_to 'Edit', edit_admin_dish_path(dish) %></td>
    19:       <td><%= link_to 'Destroy', admin_dish_path(dish), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    20: 		</tr>
  app/views/admin/dishes/index.html.erb:17:in `block in _app_views_admin_dishes_index_html_erb___2048292535213264835_70105428997980'
  app/views/admin/dishes/index.html.erb:12:in `_app_views_admin_dishes_index_html_erb___2048292535213264835_70105428997980'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (31.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (41.2ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 14:51:54 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 8]]
  Rendered admin/dishes/index.html.erb within layouts/admin (9.7ms)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.8ms)

ActionView::Template::Error (undefined method `title' for nil:NilClass):
    14: 			<td><%= dish.title %></td>
    15: 			<td><%= truncate(dish.description, length: 95) %></td>
    16: 			<td><%= dish.price %></td>
    17: 			<td><%= dish.category.title %></td>
    18:       <td><%= link_to 'Edit', edit_admin_dish_path(dish) %></td>
    19:       <td><%= link_to 'Destroy', admin_dish_path(dish), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    20: 		</tr>
  app/views/admin/dishes/index.html.erb:17:in `block in _app_views_admin_dishes_index_html_erb___2048292535213264835_70105275984060'
  app/views/admin/dishes/index.html.erb:12:in `_app_views_admin_dishes_index_html_erb___2048292535213264835_70105275984060'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (31.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.4ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 14:55:21 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.6ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 8]]
  Rendered admin/dishes/index.html.erb within layouts/admin (24.8ms)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 1.8ms)

ActionView::Template::Error (undefined method `title' for nil:NilClass):
    14: 			<td><%= dish.title %></td>
    15: 			<td><%= truncate(dish.description, length: 95) %></td>
    16: 			<td><%= dish.price %></td>
    17: 			<td><%= dish.category.title %></td>
    18:       <td><%= link_to 'Edit', edit_admin_dish_path(dish) %></td>
    19:       <td><%= link_to 'Destroy', admin_dish_path(dish), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    20: 		</tr>
  app/views/admin/dishes/index.html.erb:17:in `block in _app_views_admin_dishes_index_html_erb___2048292535213264835_70105275984060'
  app/views/admin/dishes/index.html.erb:12:in `_app_views_admin_dishes_index_html_erb___2048292535213264835_70105275984060'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (23.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (46.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.6ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-08-29 14:55:26 +0600

ActionController::RoutingError (uninitialized constant Admin::CategoriesController):
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:263:in `const_get'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:263:in `block in constantize'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `each'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `inject'
  activesupport (4.2.6) lib/active_support/inflector/methods.rb:259:in `constantize'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:70:in `controller_reference'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:60:in `controller'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:39:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (60.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (41.5ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-08-29 14:59:13 +0600
Processing by Admin::CategoriesController#index as HTML
  [1m[35mCategory Load (0.6ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 10]]
  Rendered admin/categories/index.html.erb within layouts/admin (23.5ms)
Completed 500 Internal Server Error in 36ms (ActiveRecord: 2.0ms)

ActionView::Template::Error (undefined method `title' for nil:NilClass):
    10: 	<% @categories.each do |category| %>
    11: 		<tr>
    12: 			<td><%= category.title %></td>
    13: 			<td><%= category.establishment.title %></td>
    14:       <td><%= link_to 'Edit', edit_admin_category_path(category) %></td>
    15:       <td><%= link_to 'Destroy', admin_category_path(category), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    16: 		</tr>
  app/views/admin/categories/index.html.erb:13:in `block in _app_views_admin_categories_index_html_erb___4454200177891758143_70105426906620'
  app/views/admin/categories/index.html.erb:10:in `_app_views_admin_categories_index_html_erb___4454200177891758143_70105426906620'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (32.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.3ms)
  [1m[36mCategory Load (1.4ms)[0m  [1mSELECT "categories".* FROM "categories"[0m


Started GET "/admin/categories" for 127.0.0.1 at 2017-08-29 15:04:31 +0600
Processing by Admin::CategoriesController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered admin/categories/index.html.erb within layouts/admin (5.0ms)
Completed 200 OK in 63ms (Views: 61.0ms | ActiveRecord: 0.3ms)


Started GET "/admin/categories/1/edit" for 127.0.0.1 at 2017-08-29 15:04:35 +0600
Processing by Admin::CategoriesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mCategory Load (0.4ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.4ms)

ActionView::MissingTemplate (Missing template admin/categories/edit, admin/edit with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
  actionview (4.2.6) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.6) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.6) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.6) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.6) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.6) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.6) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (28.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.9ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-08-29 15:04:56 +0600
Processing by Admin::CategoriesController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered admin/categories/index.html.erb within layouts/admin (4.0ms)
Completed 200 OK in 62ms (Views: 59.9ms | ActiveRecord: 0.3ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:05:11 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 8]]
  Rendered admin/dishes/index.html.erb within layouts/admin (21.0ms)
Completed 500 Internal Server Error in 34ms (ActiveRecord: 1.1ms)

ActionView::Template::Error (undefined method `title' for nil:NilClass):
    14: 			<td><%= dish.title %></td>
    15: 			<td><%= truncate(dish.description, length: 95) %></td>
    16: 			<td><%= dish.price %></td>
    17: 			<td><%= dish.category.title %></td>
    18:       <td><%= link_to 'Edit', edit_admin_dish_path(dish) %></td>
    19:       <td><%= link_to 'Destroy', admin_dish_path(dish), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    20: 		</tr>
  app/views/admin/dishes/index.html.erb:17:in `block in _app_views_admin_dishes_index_html_erb___2048292535213264835_70105275984060'
  app/views/admin/dishes/index.html.erb:12:in `_app_views_admin_dishes_index_html_erb___2048292535213264835_70105275984060'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (33.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.9ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 15:05:16 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.5ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (4.6ms)
Completed 200 OK in 71ms (Views: 67.5ms | ActiveRecord: 0.5ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:05:19 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 8]]
  Rendered admin/dishes/index.html.erb within layouts/admin (11.3ms)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.9ms)

ActionView::Template::Error (undefined method `title' for nil:NilClass):
    14: 			<td><%= dish.title %></td>
    15: 			<td><%= truncate(dish.description, length: 95) %></td>
    16: 			<td><%= dish.price %></td>
    17: 			<td><%= dish.category.title %></td>
    18:       <td><%= link_to 'Edit', edit_admin_dish_path(dish) %></td>
    19:       <td><%= link_to 'Destroy', admin_dish_path(dish), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    20: 		</tr>
  app/views/admin/dishes/index.html.erb:17:in `block in _app_views_admin_dishes_index_html_erb___2048292535213264835_70105275984060'
  app/views/admin/dishes/index.html.erb:12:in `_app_views_admin_dishes_index_html_erb___2048292535213264835_70105275984060'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (12.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (6.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (40.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (47.0ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 15:05:20 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (4.8ms)
Completed 200 OK in 145ms (Views: 142.2ms | ActiveRecord: 0.4ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:05:22 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.9ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 8]]
  Rendered admin/dishes/index.html.erb within layouts/admin (47.0ms)
Completed 500 Internal Server Error in 51ms (ActiveRecord: 1.7ms)

ActionView::Template::Error (undefined method `title' for nil:NilClass):
    14: 			<td><%= dish.title %></td>
    15: 			<td><%= truncate(dish.description, length: 95) %></td>
    16: 			<td><%= dish.price %></td>
    17: 			<td><%= dish.category.title %></td>
    18:       <td><%= link_to 'Edit', edit_admin_dish_path(dish) %></td>
    19:       <td><%= link_to 'Destroy', admin_dish_path(dish), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    20: 		</tr>
  app/views/admin/dishes/index.html.erb:17:in `block in _app_views_admin_dishes_index_html_erb___2048292535213264835_70105275984060'
  app/views/admin/dishes/index.html.erb:12:in `_app_views_admin_dishes_index_html_erb___2048292535213264835_70105275984060'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (40.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 15:05:25 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (3.8ms)
Completed 200 OK in 123ms (Views: 118.8ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 15:05:26 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (2.8ms)
Completed 200 OK in 69ms (Views: 67.2ms | ActiveRecord: 0.3ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:06:48 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered admin/dishes/index.html.erb within layouts/admin (3.9ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.3ms)

ActionView::Template::Error (undefined method `category' for nil:NilClass):
    14: 			<td><%= dish.title %></td>
    15: 			<td><%= truncate(dish.description, length: 95) %></td>
    16: 			<td><%= dish.price %></td>
    17: 			<td><%= @dish.category.title %></td>
    18:       <td><%= link_to 'Edit', edit_admin_dish_path(dish) %></td>
    19:       <td><%= link_to 'Destroy', admin_dish_path(dish), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    20: 		</tr>
  app/views/admin/dishes/index.html.erb:17:in `block in _app_views_admin_dishes_index_html_erb___2048292535213264835_70105376982000'
  app/views/admin/dishes/index.html.erb:12:in `_app_views_admin_dishes_index_html_erb___2048292535213264835_70105376982000'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (20.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (51.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.3ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:09:15 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered admin/dishes/index.html.erb within layouts/admin (9.9ms)
Completed 200 OK in 64ms (Views: 61.7ms | ActiveRecord: 1.0ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:09:40 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 8]]
  Rendered admin/dishes/index.html.erb within layouts/admin (9.1ms)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.6ms)

ActionView::Template::Error (undefined method `title' for nil:NilClass):
    14: 			<td><%= dish.title %></td>
    15: 			<td><%= truncate(dish.description, length: 95) %></td>
    16: 			<td><%= dish.price %></td>
    17: 			<td><%= dish.category.title %></td>
    18:       <td><%= link_to 'Edit', edit_admin_dish_path(dish) %></td>
    19:       <td><%= link_to 'Destroy', admin_dish_path(dish), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    20: 		</tr>
  app/views/admin/dishes/index.html.erb:17:in `block in _app_views_admin_dishes_index_html_erb___2048292535213264835_70105277435580'
  app/views/admin/dishes/index.html.erb:12:in `_app_views_admin_dishes_index_html_erb___2048292535213264835_70105277435580'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (32.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.8ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:09:46 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 8]]
  Rendered admin/dishes/index.html.erb within layouts/admin (9.8ms)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.7ms)

ActionView::Template::Error (undefined method `id' for nil:NilClass):
    14: 			<td><%= dish.title %></td>
    15: 			<td><%= truncate(dish.description, length: 95) %></td>
    16: 			<td><%= dish.price %></td>
    17: 			<td><%= dish.category.id %></td>
    18:       <td><%= link_to 'Edit', edit_admin_dish_path(dish) %></td>
    19:       <td><%= link_to 'Destroy', admin_dish_path(dish), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    20: 		</tr>
  app/views/admin/dishes/index.html.erb:17:in `block in _app_views_admin_dishes_index_html_erb___2048292535213264835_70105278523540'
  app/views/admin/dishes/index.html.erb:12:in `_app_views_admin_dishes_index_html_erb___2048292535213264835_70105278523540'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (32.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.3ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:10:04 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 3]]
  Rendered admin/dishes/index.html.erb within layouts/admin (26.0ms)
Completed 200 OK in 83ms (Views: 80.1ms | ActiveRecord: 1.1ms)
  [1m[35mSQL (90.9ms)[0m  DELETE FROM "dishes"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "category_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Плов"], ["price", 130.0], ["category_id", 7], ["description", "Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quos, tenetur porro dicta praesentium ipsum repudiandae id quaerat reiciendis saepe quo reprehenderit facilis voluptatum velit suscipit quis animi adipisci! Autem, consequuntur."], ["created_at", "2017-08-29 09:12:26.553328"], ["updated_at", "2017-08-29 09:12:26.553328"]]
  [1m[35m (100.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "dishes" ("title", "price", "category_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["price", 80.0], ["category_id", 6], ["description", "Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fuga perferendis ab quos, dolores, dolorum odio sunt. Porro ut sit quam quod minima, excepturi repellendus ratione magni ea, quis, omnis provident!"], ["created_at", "2017-08-29 09:12:26.658397"], ["updated_at", "2017-08-29 09:12:26.658397"]]
  [1m[36m (75.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "category_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["price", 75.0], ["category_id", 5], ["description", "Какое нибудь вкусное мороженое"], ["created_at", "2017-08-29 09:12:26.736032"], ["updated_at", "2017-08-29 09:12:26.736032"]]
  [1m[35m (97.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "dishes" ("title", "category_id", "price", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Макиато"], ["category_id", 8], ["price", 100.0], ["description", "Макиато кофе"], ["created_at", "2017-08-29 09:12:26.835874"], ["updated_at", "2017-08-29 09:12:26.835874"]]
  [1m[36m (75.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "category_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Макиато"], ["price", 100.0], ["category_id", 8], ["description", "Макиато кофе"], ["created_at", "2017-08-29 09:12:26.913701"], ["updated_at", "2017-08-29 09:12:26.913701"]]
  [1m[35m (74.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "dishes" ("title", "price", "category_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Кока-кола"], ["price", 100.0], ["category_id", 8], ["description", "Макиато кофе"], ["created_at", "2017-08-29 09:12:26.991817"], ["updated_at", "2017-08-29 09:12:26.991817"]]
  [1m[36m (106.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "category_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Фанта"], ["price", 100.0], ["category_id", 1], ["description", "Макиато кофе"], ["created_at", "2017-08-29 09:12:27.102663"], ["updated_at", "2017-08-29 09:12:27.102663"]]
  [1m[35m (73.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "dishes" ("title", "price", "category_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Манты"], ["price", 100.0], ["category_id", 2], ["description", "Макиато кофе"], ["created_at", "2017-08-29 09:12:27.180027"], ["updated_at", "2017-08-29 09:12:27.180027"]]
  [1m[36m (75.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "category_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Спрайт"], ["price", 100.0], ["category_id", 3], ["description", "Макиато кофе"], ["created_at", "2017-08-29 09:12:27.257325"], ["updated_at", "2017-08-29 09:12:27.257325"]]
  [1m[35m (75.7ms)[0m  commit transaction


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:12:39 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 3]]
  Rendered admin/dishes/index.html.erb within layouts/admin (10.1ms)
Completed 200 OK in 66ms (Views: 63.4ms | ActiveRecord: 1.0ms)


Started GET "/admin/dishes/new" for 127.0.0.1 at 2017-08-29 15:13:02 +0600
Processing by Admin::DishesController#new as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered admin/dishes/_form.html.erb (7.3ms)
  Rendered admin/dishes/new.html.erb within layouts/admin (8.9ms)
Completed 200 OK in 77ms (Views: 74.6ms | ActiveRecord: 0.4ms)


Started POST "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:13:23 +0600
Processing by Admin::DishesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rPWrhnD8drAOF7q7bbgHLDBrGdLzgi2vfgJkN862NsmjWT1Zt3ITrhfxuxujTj1Q4bfXDP1TlyTaUWIpcsTPJw==", "dish"=>{"title"=>"блюдоооо", "description"=>"фыжаофылоафыа", "category_id"=>"8", "price"=>"15"}, "commit"=>"Create Dish"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "блюдоооо"], ["price", 15.0], ["description", "фыжаофылоафыа"], ["category_id", 8], ["created_at", "2017-08-29 09:13:23.892254"], ["updated_at", "2017-08-29 09:13:23.892254"]]
  [1m[35m (87.5ms)[0m  commit transaction
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 93ms (ActiveRecord: 88.1ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:13:23 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 8]]
  Rendered admin/dishes/index.html.erb within layouts/admin (10.8ms)
Completed 200 OK in 88ms (Views: 85.4ms | ActiveRecord: 1.0ms)


Started GET "/admin/dishes/29/edit" for 127.0.0.1 at 2017-08-29 15:13:35 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"29"}
  [1m[35mDish Load (0.4ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 29]]
  [1m[36mCategory Load (0.5ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered admin/dishes/_form.html.erb (8.9ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (13.3ms)
Completed 200 OK in 86ms (Views: 82.4ms | ActiveRecord: 0.9ms)


Started PATCH "/admin/dishes/29" for 127.0.0.1 at 2017-08-29 15:13:38 +0600
Processing by Admin::DishesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"6MoglfMSWZ39G5yH8rEKe/GIjKTLVfEeybVSMM+VmuPnZrZKNJw8g+T9nSc8RzAHIFRCesWES5Vt5lQuc+djDQ==", "dish"=>{"title"=>"блюдоооо", "description"=>"", "category_id"=>"8", "price"=>"15.0"}, "commit"=>"Update Dish", "id"=>"29"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 29]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "dishes" SET "description" = ?, "updated_at" = ? WHERE "dishes"."id" = ?  [["description", ""], ["updated_at", "2017-08-29 09:13:38.657131"], ["id", 29]]
  [1m[36m (121.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 130ms (ActiveRecord: 121.9ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:13:38 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 8]]
  Rendered admin/dishes/index.html.erb within layouts/admin (14.9ms)
Completed 200 OK in 116ms (Views: 113.4ms | ActiveRecord: 1.2ms)


Started DELETE "/admin/dishes/29" for 127.0.0.1 at 2017-08-29 15:13:42 +0600
Processing by Admin::DishesController#destroy as HTML
  Parameters: {"authenticity_token"=>"qfr10jd+PZ3FHTjVJrh44yQVChyuw4QLcrR23FTKdCKmVmMN8PBYg9z7OXXoTkKf9cnEwqASPoDW53DC6LiNzA==", "id"=>"29"}
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 29]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "dishes" WHERE "dishes"."id" = ?[0m  [["id", 29]]
  [1m[35m (93.5ms)[0m  commit transaction
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 100ms (ActiveRecord: 94.2ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:13:42 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 3]]
  Rendered admin/dishes/index.html.erb within layouts/admin (17.5ms)
Completed 200 OK in 125ms (Views: 121.6ms | ActiveRecord: 1.3ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:17:24 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 3]]
  Rendered admin/dishes/index.html.erb within layouts/admin (13.7ms)
Completed 200 OK in 72ms (Views: 69.0ms | ActiveRecord: 1.5ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-08-29 15:17:25 +0600
Processing by Admin::CategoriesController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered admin/categories/index.html.erb within layouts/admin (4.0ms)
Completed 200 OK in 89ms (Views: 87.0ms | ActiveRecord: 0.3ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-08-29 15:18:19 +0600
Processing by Admin::CategoriesController#index as HTML
  [1m[35mCategory Load (0.4ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 10]]
  Rendered admin/categories/index.html.erb within layouts/admin (10.1ms)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 1.1ms)

ActionView::Template::Error (undefined method `title' for nil:NilClass):
    10: 	<% @categories.each do |category| %>
    11: 		<tr>
    12: 			<td><%= category.title %></td>
    13: 			<td><%= category.establishment.title %></td>
    14:       <td><%= link_to 'Edit', edit_admin_category_path(category) %></td>
    15:       <td><%= link_to 'Destroy', admin_category_path(category), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    16: 		</tr>
  app/views/admin/categories/index.html.erb:13:in `block in _app_views_admin_categories_index_html_erb___4454200177891758143_70105425641820'
  app/views/admin/categories/index.html.erb:10:in `_app_views_admin_categories_index_html_erb___4454200177891758143_70105425641820'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (32.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.9ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-08-29 15:18:28 +0600
Processing by Admin::CategoriesController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mEstablishment Load (0.5ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  Rendered admin/categories/index.html.erb within layouts/admin (8.9ms)
Completed 200 OK in 65ms (Views: 62.4ms | ActiveRecord: 1.2ms)
  [1m[36mSQL (116.8ms)[0m  [1mDELETE FROM "categories"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Напитки"], ["establishment_id", 7], ["created_at", "2017-08-29 09:20:34.501493"], ["updated_at", "2017-08-29 09:20:34.501493"]]
  [1m[35m (115.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["title", "Напитки"], ["establishment_id", 8], ["created_at", "2017-08-29 09:20:34.621792"], ["updated_at", "2017-08-29 09:20:34.621792"]]
  [1m[36m (97.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Напитки"], ["establishment_id", 9], ["created_at", "2017-08-29 09:20:34.721598"], ["updated_at", "2017-08-29 09:20:34.721598"]]
  [1m[35m (97.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["title", "Напитки"], ["establishment_id", 10], ["created_at", "2017-08-29 09:20:34.821175"], ["updated_at", "2017-08-29 09:20:34.821175"]]
  [1m[36m (72.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Десерты"], ["establishment_id", 7], ["created_at", "2017-08-29 09:20:34.896557"], ["updated_at", "2017-08-29 09:20:34.896557"]]
  [1m[35m (97.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["title", "Десерты"], ["establishment_id", 8], ["created_at", "2017-08-29 09:20:34.996440"], ["updated_at", "2017-08-29 09:20:34.996440"]]
  [1m[36m (75.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Национальная кухня"], ["establishment_id", 9], ["created_at", "2017-08-29 09:20:35.074129"], ["updated_at", "2017-08-29 09:20:35.074129"]]
  [1m[35m (86.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["title", "Кофе"], ["establishment_id", 8], ["created_at", "2017-08-29 09:20:35.162378"], ["updated_at", "2017-08-29 09:20:35.162378"]]
  [1m[36m (392.4ms)[0m  [1mcommit transaction[0m


Started GET "/admin/categories" for 127.0.0.1 at 2017-08-29 15:20:38 +0600
Processing by Admin::CategoriesController#index as HTML
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  Rendered admin/categories/index.html.erb within layouts/admin (7.7ms)
Completed 200 OK in 90ms (Views: 88.1ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-08-29 15:20:40 +0600
Processing by Admin::CategoriesController#index as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  Rendered admin/categories/index.html.erb within layouts/admin (9.4ms)
Completed 200 OK in 62ms (Views: 59.6ms | ActiveRecord: 1.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-08-29 15:20:41 +0600
Processing by Admin::CategoriesController#index as HTML
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  Rendered admin/categories/index.html.erb within layouts/admin (7.9ms)
Completed 200 OK in 64ms (Views: 62.0ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-08-29 15:20:42 +0600
Processing by Admin::CategoriesController#index as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  Rendered admin/categories/index.html.erb within layouts/admin (7.7ms)
Completed 200 OK in 64ms (Views: 61.1ms | ActiveRecord: 0.9ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-08-29 15:20:43 +0600
Processing by Admin::CategoriesController#index as HTML
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  Rendered admin/categories/index.html.erb within layouts/admin (7.6ms)
Completed 200 OK in 64ms (Views: 61.6ms | ActiveRecord: 0.7ms)


Started DELETE "/admin/categories/12" for 127.0.0.1 at 2017-08-29 15:20:49 +0600
Processing by Admin::CategoriesController#destroy as HTML
  Parameters: {"authenticity_token"=>"tR0qbAJJn/Euodr+b/xvR7vB/+fLkVzxB+sMZ1T3gFO6sbyzxcf67zdH216hClU7ah0xOcVA5nqjuAp56IV5vQ==", "id"=>"12"}
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 12]]
  [1m[35m (79.4ms)[0m  commit transaction
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 84ms (ActiveRecord: 79.9ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-08-29 15:20:49 +0600
Processing by Admin::CategoriesController#index as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  Rendered admin/categories/index.html.erb within layouts/admin (6.8ms)
Completed 200 OK in 65ms (Views: 63.2ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-08-29 15:21:17 +0600
Processing by Admin::CategoriesController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  Rendered admin/categories/index.html.erb within layouts/admin (9.4ms)
Completed 200 OK in 68ms (Views: 65.1ms | ActiveRecord: 0.8ms)


Started GET "/admin/categories/9/edit" for 127.0.0.1 at 2017-08-29 15:21:22 +0600
Processing by Admin::CategoriesController#edit as HTML
  Parameters: {"id"=>"9"}
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 9]]
  Rendered admin/categories/_form.html.erb (4.3ms)
  Rendered admin/categories/edit.html.erb within layouts/admin (6.6ms)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.2ms)

ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for [:admin, @dish] do |f| %>
    2: 	<div style="float: left;">
    3: 		<div>
    4: 			<%= f.label :Название %><br>
  app/views/admin/categories/_form.html.erb:1:in `_app_views_admin_categories__form_html_erb__4222445730293693737_70105397161400'
  app/views/admin/categories/edit.html.erb:3:in `_app_views_admin_categories_edit_html_erb__1055987097232572112_70105397136140'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (47.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (39.8ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-08-29 15:21:42 +0600
Processing by Admin::CategoriesController#index as HTML
  [1m[35mCategory Load (0.3ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  Rendered admin/categories/index.html.erb within layouts/admin (7.5ms)
Completed 200 OK in 63ms (Views: 60.3ms | ActiveRecord: 1.0ms)


Started GET "/admin/categories/9/edit" for 127.0.0.1 at 2017-08-29 15:21:44 +0600
Processing by Admin::CategoriesController#edit as HTML
  Parameters: {"id"=>"9"}
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/categories/_form.html.erb (7.4ms)
  Rendered admin/categories/edit.html.erb within layouts/admin (8.5ms)
Completed 200 OK in 74ms (Views: 71.4ms | ActiveRecord: 0.4ms)


Started PATCH "/admin/categories/9" for 127.0.0.1 at 2017-08-29 15:21:58 +0600
Processing by Admin::CategoriesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hAPIZQdkr1CXise/m+aTTVvfQubuybhra9t6nsL6a/6Lr166wOrKTo5sxh9VEKkxigOMOOAYAuDPiHyAfoiSEA==", "category"=>{"title"=>"Напитки Ninja Sushi", "establishment_id"=>"7"}, "commit"=>"Update Category", "id"=>"9"}
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "categories" SET "title" = ?, "updated_at" = ? WHERE "categories"."id" = ?  [["title", "Напитки Ninja Sushi"], ["updated_at", "2017-08-29 09:21:58.947023"], ["id", 9]]
  [1m[36m (85.8ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 92ms (ActiveRecord: 86.5ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-08-29 15:21:59 +0600
Processing by Admin::CategoriesController#index as HTML
  [1m[35mCategory Load (0.3ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  Rendered admin/categories/index.html.erb within layouts/admin (6.7ms)
Completed 200 OK in 60ms (Views: 58.4ms | ActiveRecord: 0.6ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:22:05 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 7]]
  Rendered admin/dishes/index.html.erb within layouts/admin (5.5ms)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.5ms)

ActionView::Template::Error (undefined method `title' for nil:NilClass):
    14: 			<td><%= dish.title %></td>
    15: 			<td><%= truncate(dish.description, length: 95) %></td>
    16: 			<td><%= dish.price %></td>
    17: 			<td><%= dish.category.title %></td>
    18:       <td><%= link_to 'Edit', edit_admin_dish_path(dish) %></td>
    19:       <td><%= link_to 'Destroy', admin_dish_path(dish), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    20: 		</tr>
  app/views/admin/dishes/index.html.erb:17:in `block in _app_views_admin_dishes_index_html_erb___2048292535213264835_70105376983900'
  app/views/admin/dishes/index.html.erb:12:in `_app_views_admin_dishes_index_html_erb___2048292535213264835_70105376983900'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (33.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.6ms)
  [1m[36mSQL (130.9ms)[0m  [1mDELETE FROM "dishes"[0m


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:22:39 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered admin/dishes/index.html.erb within layouts/admin (0.8ms)
Completed 200 OK in 66ms (Views: 64.3ms | ActiveRecord: 0.3ms)


Started GET "/admin/dishes/new" for 127.0.0.1 at 2017-08-29 15:22:41 +0600
Processing by Admin::DishesController#new as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered admin/dishes/_form.html.erb (8.4ms)
  Rendered admin/dishes/new.html.erb within layouts/admin (9.6ms)
Completed 200 OK in 75ms (Views: 73.5ms | ActiveRecord: 0.4ms)


Started POST "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:22:57 +0600
Processing by Admin::DishesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2Gdf0itYkgMW7F80bSvD9Lw4BSvCQGniVjK5cyXuYNDXy8kN7Nb3HQ8KXpSj3fmIbeTL9cyR02nyYb9tmZyZPg==", "dish"=>{"title"=>"Плов", "description"=>"Вкусненько", "category_id"=>"15", "price"=>"120"}, "commit"=>"Create Dish"}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Плов"], ["price", 120.0], ["description", "Вкусненько"], ["category_id", 15], ["created_at", "2017-08-29 09:22:57.563321"], ["updated_at", "2017-08-29 09:22:57.563321"]]
  [1m[35m (103.0ms)[0m  commit transaction
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 108ms (ActiveRecord: 103.5ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:22:57 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 15]]
  Rendered admin/dishes/index.html.erb within layouts/admin (2.2ms)
Completed 200 OK in 58ms (Views: 56.3ms | ActiveRecord: 0.3ms)


Started GET "/admin/dishes/new" for 127.0.0.1 at 2017-08-29 15:23:00 +0600
Processing by Admin::DishesController#new as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered admin/dishes/_form.html.erb (9.0ms)
  Rendered admin/dishes/new.html.erb within layouts/admin (11.3ms)
Completed 200 OK in 71ms (Views: 69.2ms | ActiveRecord: 0.4ms)


Started POST "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:23:22 +0600
Processing by Admin::DishesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+tVNkNWenHHN+sba5i53AMSrqtLjHi7Jv7ympCphRhf1edtPEhD5b9Qcx3oo2E18FXdkDO3PlEIb76C6lhO/+Q==", "dish"=>{"title"=>"Coca-cola", "description"=>"фыфвфвывфывфдщкуь", "category_id"=>"9", "price"=>"70"}, "commit"=>"Create Dish"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Coca-cola"], ["price", 70.0], ["description", "фыфвфвывфывфдщкуь"], ["category_id", 9], ["created_at", "2017-08-29 09:23:22.250455"], ["updated_at", "2017-08-29 09:23:22.250455"]]
  [1m[35m (67.4ms)[0m  commit transaction
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 73ms (ActiveRecord: 67.8ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:23:22 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 9]]
  Rendered admin/dishes/index.html.erb within layouts/admin (3.1ms)
Completed 200 OK in 71ms (Views: 69.8ms | ActiveRecord: 0.4ms)


Started GET "/admin/dishes/new" for 127.0.0.1 at 2017-08-29 15:23:24 +0600
Processing by Admin::DishesController#new as HTML
  [1m[35mCategory Load (0.5ms)[0m  SELECT "categories".* FROM "categories"
  Rendered admin/dishes/_form.html.erb (8.2ms)
  Rendered admin/dishes/new.html.erb within layouts/admin (9.4ms)
Completed 200 OK in 93ms (Views: 90.7ms | ActiveRecord: 0.5ms)


Started POST "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:23:39 +0600
Processing by Admin::DishesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"sqWMRjFaYEntUYbQuUN9kKvh/9nYU/vCwXmZkX9PcM29CRqZ9tQFV/S3h3B3tUfsej0xB9aCQUllKp+Pwz2JIw==", "dish"=>{"title"=>"Мороженое", "description"=>"кзлпокуликуджлиуиуйитуки", "category_id"=>"13", "price"=>"80"}, "commit"=>"Create Dish"}
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["price", 80.0], ["description", "кзлпокуликуджлиуиуйитуки"], ["category_id", 13], ["created_at", "2017-08-29 09:23:39.600616"], ["updated_at", "2017-08-29 09:23:39.600616"]]
  [1m[36m (68.4ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 74ms (ActiveRecord: 69.0ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:23:39 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 13]]
  Rendered admin/dishes/index.html.erb within layouts/admin (5.2ms)
Completed 200 OK in 81ms (Views: 79.0ms | ActiveRecord: 0.5ms)


Started GET "/admin/dishes/new" for 127.0.0.1 at 2017-08-29 15:23:51 +0600
Processing by Admin::DishesController#new as HTML
  [1m[35mCategory Load (0.5ms)[0m  SELECT "categories".* FROM "categories"
  Rendered admin/dishes/_form.html.erb (6.1ms)
  Rendered admin/dishes/new.html.erb within layouts/admin (6.8ms)
Completed 200 OK in 80ms (Views: 78.7ms | ActiveRecord: 0.5ms)


Started POST "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:24:16 +0600
Processing by Admin::DishesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ZgXqaIyZ9Gz+cPtFzy+dctPhm8ywCM/BVnyFCdeoO+ZpqXy3SxeRcueW+uUB2acOAj1VEr7ZdUryL4MXa9rCCA==", "dish"=>{"title"=>"ацацаауа", "description"=>"цуацуауцацуа", "category_id"=>"16", "price"=>"45"}, "commit"=>"Create Dish"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "ацацаауа"], ["price", 45.0], ["description", "цуацуауцацуа"], ["category_id", 16], ["created_at", "2017-08-29 09:24:16.846863"], ["updated_at", "2017-08-29 09:24:16.846863"]]
  [1m[36m (88.4ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 94ms (ActiveRecord: 88.8ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:24:16 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 16]]
  Rendered admin/dishes/index.html.erb within layouts/admin (5.1ms)
Completed 200 OK in 85ms (Views: 83.0ms | ActiveRecord: 0.6ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:25:10 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 16]]
  Rendered admin/dishes/index.html.erb within layouts/admin (8.1ms)
Completed 200 OK in 84ms (Views: 81.7ms | ActiveRecord: 0.7ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Плов"], ["price", 130.0], ["description", "Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quos, tenetur porro dicta praesentium ipsum repudiandae id quaerat reiciendis saepe quo reprehenderit facilis voluptatum velit suscipit quis animi adipisci! Autem, consequuntur."], ["created_at", "2017-08-29 09:26:15.260551"], ["updated_at", "2017-08-29 09:26:15.260551"]]
  [1m[35m (93.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["title", "Мороженое"], ["price", 80.0], ["description", "Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fuga perferendis ab quos, dolores, dolorum odio sunt. Porro ut sit quam quod minima, excepturi repellendus ratione magni ea, quis, omnis provident!"], ["created_at", "2017-08-29 09:26:15.358625"], ["updated_at", "2017-08-29 09:26:15.358625"]]
  [1m[36m (77.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["price", 75.0], ["description", "Какое нибудь вкусное мороженое"], ["created_at", "2017-08-29 09:26:15.438784"], ["updated_at", "2017-08-29 09:26:15.438784"]]
  [1m[35m (97.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["title", "Макиато"], ["price", 100.0], ["description", "Макиато кофе"], ["created_at", "2017-08-29 09:26:15.538557"], ["updated_at", "2017-08-29 09:26:15.538557"]]
  [1m[36m (86.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Макиато"], ["price", 100.0], ["description", "Макиато кофе"], ["created_at", "2017-08-29 09:26:15.627083"], ["updated_at", "2017-08-29 09:26:15.627083"]]
  [1m[35m (84.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["title", "Кока-кола"], ["price", 100.0], ["description", "Макиато кофе"], ["created_at", "2017-08-29 09:26:15.713323"], ["updated_at", "2017-08-29 09:26:15.713323"]]
  [1m[36m (108.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Фанта"], ["price", 100.0], ["description", "Макиато кофе"], ["created_at", "2017-08-29 09:26:15.824355"], ["updated_at", "2017-08-29 09:26:15.824355"]]
  [1m[35m (85.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["title", "Манты"], ["price", 100.0], ["description", "Макиато кофе"], ["created_at", "2017-08-29 09:26:15.912855"], ["updated_at", "2017-08-29 09:26:15.912855"]]
  [1m[36m (86.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Спрайт"], ["price", 100.0], ["description", "Макиато кофе"], ["created_at", "2017-08-29 09:26:16.001862"], ["updated_at", "2017-08-29 09:26:16.001862"]]
  [1m[35m (99.6ms)[0m  commit transaction


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:26:18 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.8ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mCategory Load (0.5ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mCategory Load (0.4ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 16]]
  Rendered admin/dishes/index.html.erb within layouts/admin (10.4ms)
Completed 200 OK in 94ms (Views: 90.7ms | ActiveRecord: 1.9ms)


Started GET "/admin/dishes/34/edit" for 127.0.0.1 at 2017-08-29 15:26:27 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"34"}
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 34]]
  [1m[35mCategory Load (0.3ms)[0m  SELECT "categories".* FROM "categories"
  Rendered admin/dishes/_form.html.erb (8.3ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (9.6ms)
Completed 200 OK in 88ms (Views: 85.1ms | ActiveRecord: 0.5ms)


Started PATCH "/admin/dishes/34" for 127.0.0.1 at 2017-08-29 15:26:31 +0600
Processing by Admin::DishesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"79WgG2St2mH9vyJjz+ahiGCgeOhNZ7BlcDZ4gErVKFngeTbEoyO/f+RZI8MBEJv0sXy2NkO2Cu7UZX6e9qfRtw==", "dish"=>{"title"=>"Плов", "description"=>"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quos, tenetur porro dicta praesentium ipsum repudiandae id quaerat reiciendis saepe quo reprehenderit facilis voluptatum velit suscipit quis animi adipisci! Autem, consequuntur.", "category_id"=>"15", "price"=>"130.0"}, "commit"=>"Update Dish", "id"=>"34"}
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 34]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "dishes" SET "category_id" = ?, "updated_at" = ? WHERE "dishes"."id" = ?[0m  [["category_id", 15], ["updated_at", "2017-08-29 09:26:31.030640"], ["id", 34]]
  [1m[35m (100.9ms)[0m  commit transaction
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 107ms (ActiveRecord: 101.4ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:26:31 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 15]]
  Rendered admin/dishes/index.html.erb within layouts/admin (11.4ms)
Completed 200 OK in 82ms (Views: 79.3ms | ActiveRecord: 0.8ms)


Started GET "/admin/dishes/35/edit" for 127.0.0.1 at 2017-08-29 15:26:33 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"35"}
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 35]]
  [1m[35mCategory Load (0.6ms)[0m  SELECT "categories".* FROM "categories"
  Rendered admin/dishes/_form.html.erb (9.6ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (12.5ms)
Completed 200 OK in 83ms (Views: 80.8ms | ActiveRecord: 0.7ms)


Started PATCH "/admin/dishes/35" for 127.0.0.1 at 2017-08-29 15:26:36 +0600
Processing by Admin::DishesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"bw/Djdt4NWTp5qDpu1enrb21Kjs0T0vpxdpO4NJtxxhgo1VSHPZQevAAoUl1oZ3RbGnk5Tqe8WJhiUj+bh8+9g==", "dish"=>{"title"=>"Мороженое", "description"=>"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fuga perferendis ab quos, dolores, dolorum odio sunt. Porro ut sit quam quod minima, excepturi repellendus ratione magni ea, quis, omnis provident!", "category_id"=>"13", "price"=>"80.0"}, "commit"=>"Update Dish", "id"=>"35"}
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 35]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "dishes" SET "category_id" = ?, "updated_at" = ? WHERE "dishes"."id" = ?[0m  [["category_id", 13], ["updated_at", "2017-08-29 09:26:36.288869"], ["id", 35]]
  [1m[35m (115.7ms)[0m  commit transaction
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 121ms (ActiveRecord: 116.2ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:26:36 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 13]]
  Rendered admin/dishes/index.html.erb within layouts/admin (9.8ms)
Completed 200 OK in 65ms (Views: 62.5ms | ActiveRecord: 0.8ms)


Started GET "/admin/dishes/36/edit" for 127.0.0.1 at 2017-08-29 15:26:39 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"36"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 36]]
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered admin/dishes/_form.html.erb (8.3ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (9.4ms)
Completed 200 OK in 72ms (Views: 69.8ms | ActiveRecord: 0.5ms)


Started PATCH "/admin/dishes/36" for 127.0.0.1 at 2017-08-29 15:26:42 +0600
Processing by Admin::DishesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"NJfsWNWb/6hhE0wj8+S72Jd2kUIASZU9y2/zkEgs5b07O3qHEhWatnj1TYM9EoGkRqpfnA6YL7ZvPPWO9F4cUw==", "dish"=>{"title"=>"Мороженое", "description"=>"Какое нибудь вкусное мороженое", "category_id"=>"14", "price"=>"75.0"}, "commit"=>"Update Dish", "id"=>"36"}
  [1m[35mDish Load (0.1ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 36]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "dishes" SET "category_id" = ?, "updated_at" = ? WHERE "dishes"."id" = ?  [["category_id", 14], ["updated_at", "2017-08-29 09:26:42.229512"], ["id", 36]]
  [1m[36m (99.5ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 104ms (ActiveRecord: 99.9ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:26:42 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 14]]
  Rendered admin/dishes/index.html.erb within layouts/admin (10.9ms)
Completed 200 OK in 72ms (Views: 70.2ms | ActiveRecord: 1.1ms)


Started GET "/admin/dishes/37/edit" for 127.0.0.1 at 2017-08-29 15:26:44 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"37"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 37]]
  [1m[36mCategory Load (0.5ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered admin/dishes/_form.html.erb (8.9ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (10.0ms)
Completed 200 OK in 85ms (Views: 81.3ms | ActiveRecord: 0.7ms)


Started PATCH "/admin/dishes/37" for 127.0.0.1 at 2017-08-29 15:26:48 +0600
Processing by Admin::DishesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ltg9bsuhblR2kFZyCo5dkYUVl21K+LRTDZ2GuL2DFI2ZdKuxDC8LSm92V9LEeGftVMlZs0QpDtipzoCmAfHtYw==", "dish"=>{"title"=>"Макиато", "description"=>"Макиато кофе", "category_id"=>"16", "price"=>"100.0"}, "commit"=>"Update Dish", "id"=>"37"}
  [1m[35mDish Load (0.1ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 37]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "dishes" SET "category_id" = ?, "updated_at" = ? WHERE "dishes"."id" = ?  [["category_id", 16], ["updated_at", "2017-08-29 09:26:48.563161"], ["id", 37]]
  [1m[36m (111.4ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 117ms (ActiveRecord: 111.9ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:26:48 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 16]]
  Rendered admin/dishes/index.html.erb within layouts/admin (11.2ms)
Completed 200 OK in 73ms (Views: 71.1ms | ActiveRecord: 1.0ms)


Started GET "/admin/dishes/38/edit" for 127.0.0.1 at 2017-08-29 15:26:52 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"38"}
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 38]]
  [1m[35mCategory Load (0.5ms)[0m  SELECT "categories".* FROM "categories"
  Rendered admin/dishes/_form.html.erb (9.8ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (11.0ms)
Completed 200 OK in 74ms (Views: 71.8ms | ActiveRecord: 0.6ms)


Started PATCH "/admin/dishes/38" for 127.0.0.1 at 2017-08-29 15:26:58 +0600
Processing by Admin::DishesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FRi03gisCNIBqCD4wHrtJsHczC6oVAjog7bkqYC39nYatCIBzyJtzBhOIVgOjNdaEAAC8KaFsmMn5eK3PMUPmA==", "dish"=>{"title"=>"Макиато", "description"=>"Макиато кофеtyigik", "category_id"=>"9", "price"=>"100.0"}, "commit"=>"Update Dish", "id"=>"38"}
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 38]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "dishes" SET "description" = ?, "category_id" = ?, "updated_at" = ? WHERE "dishes"."id" = ?[0m  [["description", "Макиато кофеtyigik"], ["category_id", 9], ["updated_at", "2017-08-29 09:26:58.605586"], ["id", 38]]
  [1m[35m (73.4ms)[0m  commit transaction
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 80ms (ActiveRecord: 74.0ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:26:58 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 9]]
  Rendered admin/dishes/index.html.erb within layouts/admin (10.1ms)
Completed 200 OK in 67ms (Views: 64.7ms | ActiveRecord: 0.7ms)


Started GET "/admin/dishes/39/edit" for 127.0.0.1 at 2017-08-29 15:27:05 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"39"}
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 39]]
  [1m[35mCategory Load (0.5ms)[0m  SELECT "categories".* FROM "categories"
  Rendered admin/dishes/_form.html.erb (10.0ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (11.4ms)
Completed 200 OK in 76ms (Views: 72.4ms | ActiveRecord: 0.7ms)


Started PATCH "/admin/dishes/39" for 127.0.0.1 at 2017-08-29 15:27:08 +0600
Processing by Admin::DishesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"oY5FvHdqFjaJdkyR+jSw5ErRQj34rZ872WubtOrg3lCuItNjsORzKJCQTTE0woqYmw2M4/Z8JbB9OJ2qVpInvg==", "dish"=>{"title"=>"Кока-кола", "description"=>"asdfsdvdvdsvsvsdv", "category_id"=>"9", "price"=>"100.0"}, "commit"=>"Update Dish", "id"=>"39"}
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 39]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "dishes" SET "description" = ?, "category_id" = ?, "updated_at" = ? WHERE "dishes"."id" = ?[0m  [["description", "asdfsdvdvdsvsvsdv"], ["category_id", 9], ["updated_at", "2017-08-29 09:27:08.497989"], ["id", 39]]
  [1m[35m (121.1ms)[0m  commit transaction
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 127ms (ActiveRecord: 121.7ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:27:08 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 9]]
  Rendered admin/dishes/index.html.erb within layouts/admin (10.0ms)
Completed 200 OK in 62ms (Views: 59.6ms | ActiveRecord: 0.8ms)


Started GET "/admin/dishes/40/edit" for 127.0.0.1 at 2017-08-29 15:27:11 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"40"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 40]]
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered admin/dishes/_form.html.erb (7.7ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (8.8ms)
Completed 200 OK in 89ms (Views: 87.2ms | ActiveRecord: 0.5ms)


Started PATCH "/admin/dishes/40" for 127.0.0.1 at 2017-08-29 15:27:18 +0600
Processing by Admin::DishesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"YIz01SfRPCInSH+V8XWu3HS5vSwi5yjNWAd2XugqMvRvIGIK4F9ZPD6ufjU/g5SgpWVz8iw2kkb8VHBAVFjLGg==", "dish"=>{"title"=>"Фанта", "description"=>"sdvdsvdavdsvdvdsdsv", "category_id"=>"11", "price"=>"100.0"}, "commit"=>"Update Dish", "id"=>"40"}
  [1m[35mDish Load (0.1ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 40]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "dishes" SET "description" = ?, "category_id" = ?, "updated_at" = ? WHERE "dishes"."id" = ?  [["description", "sdvdsvdavdsvdvdsdsv"], ["category_id", 11], ["updated_at", "2017-08-29 09:27:18.464727"], ["id", 40]]
  [1m[36m (75.7ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 81ms (ActiveRecord: 76.2ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:27:18 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 11]]
  Rendered admin/dishes/index.html.erb within layouts/admin (14.2ms)
Completed 200 OK in 90ms (Views: 87.5ms | ActiveRecord: 1.2ms)


Started GET "/admin/dishes/41/edit" for 127.0.0.1 at 2017-08-29 15:27:20 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"41"}
  [1m[35mDish Load (0.1ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 41]]
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered admin/dishes/_form.html.erb (6.6ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (7.5ms)
Completed 200 OK in 75ms (Views: 72.8ms | ActiveRecord: 0.6ms)


Started PATCH "/admin/dishes/41" for 127.0.0.1 at 2017-08-29 15:27:30 +0600
Processing by Admin::DishesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"D985MuMkjaFeQ6l5GZ3qaGse6bntmta3LqSw8DiXYWMAc6/tJKrov0elqNnXa9AUusInZ+NLbDyK97buhOWYjQ==", "dish"=>{"title"=>"Манты", "description"=>"Макиато кофеsdvdsvdsvdsvdsvdsvdsvdsvdsvds", "category_id"=>"15", "price"=>"100.0"}, "commit"=>"Update Dish", "id"=>"41"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", 41]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "dishes" SET "description" = ?, "category_id" = ?, "updated_at" = ? WHERE "dishes"."id" = ?  [["description", "Макиато кофеsdvdsvdsvdsvdsvdsvdsvdsvdsvds"], ["category_id", 15], ["updated_at", "2017-08-29 09:27:30.374562"], ["id", 41]]
  [1m[36m (100.9ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 107ms (ActiveRecord: 101.4ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:27:30 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 15]]
  Rendered admin/dishes/index.html.erb within layouts/admin (14.5ms)
Completed 200 OK in 79ms (Views: 76.7ms | ActiveRecord: 1.2ms)


Started GET "/admin/dishes/42/edit" for 127.0.0.1 at 2017-08-29 15:27:33 +0600
Processing by Admin::DishesController#edit as HTML
  Parameters: {"id"=>"42"}
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 42]]
  [1m[35mCategory Load (0.4ms)[0m  SELECT "categories".* FROM "categories"
  Rendered admin/dishes/_form.html.erb (5.6ms)
  Rendered admin/dishes/edit.html.erb within layouts/admin (6.8ms)
Completed 200 OK in 77ms (Views: 75.3ms | ActiveRecord: 0.6ms)


Started PATCH "/admin/dishes/42" for 127.0.0.1 at 2017-08-29 15:27:40 +0600
Processing by Admin::DishesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"PKB5YdABATGqtuWPk80VLxmx4cA7I/EQrSrriX77vtszDO++F49kL7NQ5C9dOy9TyG0vHjXyS5sJee2XwolHNQ==", "dish"=>{"title"=>"Спрайт", "description"=>"Макиато кофе", "category_id"=>"11", "price"=>"100.0"}, "commit"=>"Update Dish", "id"=>"42"}
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", 42]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "dishes" SET "category_id" = ?, "updated_at" = ? WHERE "dishes"."id" = ?[0m  [["category_id", 11], ["updated_at", "2017-08-29 09:27:40.890524"], ["id", 42]]
  [1m[35m (113.3ms)[0m  commit transaction
Redirected to http://localhost:3000/admin/dishes
Completed 302 Found in 119ms (ActiveRecord: 113.8ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:27:41 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 11]]
  Rendered admin/dishes/index.html.erb within layouts/admin (12.3ms)
Completed 200 OK in 71ms (Views: 69.0ms | ActiveRecord: 1.0ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:27:54 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 11]]
  Rendered admin/dishes/index.html.erb within layouts/admin (13.6ms)
Completed 200 OK in 70ms (Views: 67.8ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 15:28:05 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (3.4ms)
  [1m[35mCart Load (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (13.5ms)
Completed 200 OK in 97ms (Views: 94.4ms | ActiveRecord: 1.3ms)


Started GET "/establishments/6" for 127.0.0.1 at 2017-08-29 15:28:07 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 6]]
  Rendered establishments/show.html.erb within layouts/application (5.2ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.4ms)
Completed 200 OK in 80ms (Views: 68.2ms | ActiveRecord: 1.0ms)


Started GET "/establishments/7" for 127.0.0.1 at 2017-08-29 15:28:11 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCategory Load (1.0ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 7]]
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 9]]
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 13]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (23.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (2.6ms)
Completed 200 OK in 79ms (Views: 74.9ms | ActiveRecord: 2.4ms)


Started GET "/establishments/7" for 127.0.0.1 at 2017-08-29 15:31:48 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 7]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 9]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 13]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (11.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (4.3ms)
Completed 200 OK in 96ms (Views: 93.4ms | ActiveRecord: 1.2ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 15:32:25 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.7ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.2ms)
Completed 200 OK in 85ms (Views: 82.7ms | ActiveRecord: 0.7ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 15:33:10 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.2ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.1ms)
Completed 200 OK in 72ms (Views: 69.9ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 15:33:16 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.7ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.2ms)
Completed 200 OK in 88ms (Views: 86.4ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 15:33:20 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.3ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (4.3ms)
Completed 200 OK in 81ms (Views: 78.5ms | ActiveRecord: 0.7ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:33:21 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (2.3ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.1ms)
Completed 200 OK in 66ms (Views: 64.2ms | ActiveRecord: 0.6ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 15:33:22 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (4.4ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.8ms)
Completed 200 OK in 88ms (Views: 85.8ms | ActiveRecord: 0.7ms)


Started GET "/establishments/6" for 127.0.0.1 at 2017-08-29 15:33:24 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 6]]
  Rendered establishments/show.html.erb within layouts/application (1.5ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.1ms)
Completed 200 OK in 80ms (Views: 77.3ms | ActiveRecord: 0.6ms)


Started GET "/establishments/7" for 127.0.0.1 at 2017-08-29 15:33:27 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 7]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 9]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 13]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (18.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (2.7ms)
Completed 200 OK in 91ms (Views: 85.8ms | ActiveRecord: 1.6ms)


Started GET "/establishments/7" for 127.0.0.1 at 2017-08-29 15:34:14 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 7]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 9]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 13]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (10.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (2.8ms)
Completed 200 OK in 2145ms (Views: 2141.5ms | ActiveRecord: 1.1ms)


Started GET "/assets/application.self-71130018783451fce3dd84e788bae389f34b705cd83126b90bfcc42ad1bea98b.css?body=1" for 127.0.0.1 at 2017-08-29 15:34:17 +0600


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:34:34 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (2.8ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (2.9ms)
Completed 200 OK in 76ms (Views: 73.5ms | ActiveRecord: 0.7ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:36:27 +0600
Processing by DishesController#index as HTML
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered dishes/index.html.erb within layouts/application (2.6ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (2.9ms)
Completed 200 OK in 69ms (Views: 66.8ms | ActiveRecord: 0.7ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:36:28 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (5.3ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (6.2ms)
Completed 200 OK in 101ms (Views: 98.6ms | ActiveRecord: 0.9ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:36:28 +0600
Processing by DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered dishes/index.html.erb within layouts/application (1.9ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.2ms)
Completed 200 OK in 124ms (Views: 74.1ms | ActiveRecord: 0.6ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:36:29 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.5ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (4.1ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (4.0ms)
Completed 200 OK in 97ms (Views: 94.0ms | ActiveRecord: 0.9ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:36:29 +0600
Processing by DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered dishes/index.html.erb within layouts/application (2.4ms)
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (7.6ms)
Completed 200 OK in 102ms (Views: 100.0ms | ActiveRecord: 0.9ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:36:29 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.6ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (5.8ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (4.8ms)
Completed 200 OK in 146ms (Views: 140.1ms | ActiveRecord: 0.9ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:36:30 +0600
Processing by DishesController#index as HTML
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered dishes/index.html.erb within layouts/application (3.8ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (2.9ms)
Completed 200 OK in 132ms (Views: 128.8ms | ActiveRecord: 0.7ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:36:30 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (6.5ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (4.4ms)
Completed 200 OK in 98ms (Views: 96.1ms | ActiveRecord: 0.8ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:36:30 +0600
Processing by DishesController#index as HTML
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered dishes/index.html.erb within layouts/application (4.3ms)
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (6.5ms)
Completed 200 OK in 94ms (Views: 90.9ms | ActiveRecord: 1.2ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:36:31 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.7ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (3.7ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.6ms)
Completed 200 OK in 99ms (Views: 96.7ms | ActiveRecord: 1.0ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:36:31 +0600
Processing by DishesController#index as HTML
  [1m[36mDish Load (0.6ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered dishes/index.html.erb within layouts/application (3.3ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (4.5ms)
Completed 200 OK in 96ms (Views: 92.7ms | ActiveRecord: 1.0ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:36:32 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (5.6ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.8ms)
Completed 200 OK in 99ms (Views: 96.4ms | ActiveRecord: 0.9ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:36:32 +0600
Processing by DishesController#index as HTML
  [1m[36mDish Load (0.5ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered dishes/index.html.erb within layouts/application (2.9ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.0ms)
Completed 200 OK in 90ms (Views: 87.2ms | ActiveRecord: 0.8ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:36:32 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (4.4ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.9ms)
Completed 200 OK in 94ms (Views: 91.6ms | ActiveRecord: 0.7ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:36:33 +0600
Processing by DishesController#index as HTML
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered dishes/index.html.erb within layouts/application (5.5ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (4.8ms)
Completed 200 OK in 96ms (Views: 94.0ms | ActiveRecord: 0.8ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:36:33 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (1.3ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (3.8ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.4ms)
Completed 200 OK in 96ms (Views: 92.1ms | ActiveRecord: 1.7ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:37:05 +0600
Processing by DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered dishes/index.html.erb within layouts/application (2.4ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (2.8ms)
Completed 200 OK in 56ms (Views: 54.3ms | ActiveRecord: 0.6ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:37:30 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (2.8ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.4ms)
Completed 200 OK in 66ms (Views: 63.7ms | ActiveRecord: 0.7ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:37:31 +0600
Processing by DishesController#index as HTML
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered dishes/index.html.erb within layouts/application (3.8ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.5ms)
Completed 200 OK in 72ms (Views: 69.7ms | ActiveRecord: 0.7ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:37:31 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (4.6ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.8ms)
Completed 200 OK in 99ms (Views: 96.4ms | ActiveRecord: 0.8ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:37:32 +0600
Processing by DishesController#index as HTML
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered dishes/index.html.erb within layouts/application (4.3ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.0ms)
Completed 200 OK in 92ms (Views: 89.3ms | ActiveRecord: 0.7ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:37:33 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (5.4ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.5ms)
Completed 200 OK in 111ms (Views: 108.6ms | ActiveRecord: 0.6ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:37:33 +0600
Processing by DishesController#index as HTML
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered dishes/index.html.erb within layouts/application (2.6ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.9ms)
Completed 200 OK in 93ms (Views: 90.6ms | ActiveRecord: 0.8ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:37:33 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.5ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (7.0ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.1ms)
Completed 200 OK in 93ms (Views: 91.0ms | ActiveRecord: 0.8ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:37:34 +0600
Processing by DishesController#index as HTML
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered dishes/index.html.erb within layouts/application (4.6ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.9ms)
Completed 200 OK in 93ms (Views: 91.1ms | ActiveRecord: 0.9ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:37:34 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (4.7ms)
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.6ms)
Completed 200 OK in 86ms (Views: 83.5ms | ActiveRecord: 0.9ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:37:34 +0600
Processing by DishesController#index as HTML
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered dishes/index.html.erb within layouts/application (6.1ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.8ms)
Completed 200 OK in 91ms (Views: 88.4ms | ActiveRecord: 0.7ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:37:35 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (3.6ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (6.1ms)
Completed 200 OK in 90ms (Views: 87.4ms | ActiveRecord: 0.9ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:37:35 +0600
Processing by DishesController#index as HTML
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered dishes/index.html.erb within layouts/application (6.1ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.0ms)
Completed 200 OK in 86ms (Views: 84.4ms | ActiveRecord: 0.7ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:37:35 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (2.3ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (2.9ms)
Completed 200 OK in 83ms (Views: 81.3ms | ActiveRecord: 0.6ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:37:35 +0600
Processing by DishesController#index as HTML
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered dishes/index.html.erb within layouts/application (2.5ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.2ms)
Completed 200 OK in 99ms (Views: 97.6ms | ActiveRecord: 0.8ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:37:35 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (4.2ms)
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.4ms)
Completed 200 OK in 102ms (Views: 99.6ms | ActiveRecord: 0.9ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:37:36 +0600
Processing by DishesController#index as HTML
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered dishes/index.html.erb within layouts/application (2.7ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.6ms)
Completed 200 OK in 90ms (Views: 88.5ms | ActiveRecord: 0.8ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:37:36 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (1.8ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.6ms)
Completed 200 OK in 90ms (Views: 88.0ms | ActiveRecord: 0.6ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:37:36 +0600
Processing by DishesController#index as HTML
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered dishes/index.html.erb within layouts/application (3.1ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.0ms)
Completed 200 OK in 91ms (Views: 88.3ms | ActiveRecord: 0.7ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 15:37:37 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (3.0ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (5.0ms)
Completed 200 OK in 90ms (Views: 87.8ms | ActiveRecord: 0.8ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 15:37:56 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (4.2ms)
Completed 200 OK in 72ms (Views: 69.5ms | ActiveRecord: 0.4ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:37:59 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.5ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 11]]
  Rendered admin/dishes/index.html.erb within layouts/admin (28.8ms)
Completed 200 OK in 92ms (Views: 88.5ms | ActiveRecord: 1.9ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-08-29 15:38:03 +0600
Processing by Admin::CategoriesController#index as HTML
  [1m[35mCategory Load (0.3ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  Rendered admin/categories/index.html.erb within layouts/admin (13.5ms)
Completed 200 OK in 83ms (Views: 80.9ms | ActiveRecord: 1.0ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 15:38:08 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.9ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (5.6ms)
Completed 200 OK in 80ms (Views: 77.4ms | ActiveRecord: 0.9ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 15:38:37 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (2.9ms)
Completed 200 OK in 59ms (Views: 57.4ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 15:38:40 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (2.7ms)
Completed 200 OK in 86ms (Views: 84.6ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 15:38:40 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (3.1ms)
Completed 200 OK in 82ms (Views: 80.8ms | ActiveRecord: 0.2ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:38:41 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 11]]
  Rendered admin/dishes/index.html.erb within layouts/admin (30.6ms)
Completed 200 OK in 108ms (Views: 105.1ms | ActiveRecord: 1.7ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 15:38:43 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (2.6ms)
Completed 200 OK in 86ms (Views: 83.8ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 15:38:58 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (2.5ms)
Completed 200 OK in 67ms (Views: 64.7ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 15:39:27 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (4.4ms)
Completed 200 OK in 75ms (Views: 73.1ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 15:39:30 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.5ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.9ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.8ms)
Completed 200 OK in 90ms (Views: 87.3ms | ActiveRecord: 0.8ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 15:39:32 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (3.3ms)
Completed 200 OK in 68ms (Views: 64.0ms | ActiveRecord: 0.4ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-08-29 15:39:33 +0600
Processing by Admin::CategoriesController#index as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.9ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  Rendered admin/categories/index.html.erb within layouts/admin (14.5ms)
Completed 200 OK in 81ms (Views: 77.5ms | ActiveRecord: 2.0ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:39:34 +0600
Processing by Admin::DishesController#index as HTML
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 11]]
  Rendered admin/dishes/index.html.erb within layouts/admin (25.4ms)
Completed 200 OK in 84ms (Views: 81.1ms | ActiveRecord: 1.8ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 15:39:36 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (5.1ms)
Completed 200 OK in 79ms (Views: 76.9ms | ActiveRecord: 0.4ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 15:39:39 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (4.4ms)
Completed 200 OK in 98ms (Views: 96.9ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 15:39:42 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.3ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.7ms)
Completed 200 OK in 85ms (Views: 83.4ms | ActiveRecord: 0.6ms)


Started GET "/establishments/9" for 127.0.0.1 at 2017-08-29 15:39:51 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 9]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 11]]
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 15]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (21.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.6ms)
Completed 200 OK in 88ms (Views: 84.4ms | ActiveRecord: 1.5ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 15:39:58 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Фанта", "price"=>"100.0", "cart_id"=>"1", "quantity"=>"4"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Фанта"], ["quantity", 4], ["price", 100.0], ["cart_id", 1], ["created_at", "2017-08-29 09:39:58.628471"], ["updated_at", "2017-08-29 09:39:58.628471"]]
  [1m[36m (112.2ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.4ms)
  Rendered line_items/_line_item.html.erb (9.9ms)
  Rendered line_items/create.js.erb (11.1ms)
Completed 200 OK in 133ms (Views: 14.9ms | ActiveRecord: 113.6ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 15:40:01 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Плов", "price"=>"120.0", "cart_id"=>"1", "quantity"=>"5"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Плов"], ["quantity", 5], ["price", 120.0], ["cart_id", 1], ["created_at", "2017-08-29 09:40:01.476623"], ["updated_at", "2017-08-29 09:40:01.476623"]]
  [1m[35m (93.9ms)[0m  commit transaction
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.4ms)
  Rendered line_items/_line_item.html.erb (8.2ms)
  Rendered line_items/create.js.erb (9.6ms)
Completed 200 OK in 110ms (Views: 11.3ms | ActiveRecord: 94.9ms)


Started GET "/establishments/9" for 127.0.0.1 at 2017-08-29 15:40:35 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 9]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 11]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 15]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (14.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.4ms)
  Rendered line_items/_line_item.html.erb (13.1ms)
Completed 200 OK in 114ms (Views: 109.7ms | ActiveRecord: 1.7ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 15:40:47 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Фанта", "price"=>"100.0", "cart_id"=>"1", "quantity"=>"4"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Фанта"], ["quantity", 4], ["price", 100.0], ["cart_id", 1], ["created_at", "2017-08-29 09:40:47.072787"], ["updated_at", "2017-08-29 09:40:47.072787"]]
  [1m[35m (84.2ms)[0m  commit transaction
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.3ms)
  Rendered line_items/_line_item.html.erb (13.8ms)
  Rendered line_items/create.js.erb (15.9ms)
Completed 200 OK in 108ms (Views: 18.2ms | ActiveRecord: 85.4ms)
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m


Started GET "/establishments/9" for 127.0.0.1 at 2017-08-29 15:44:10 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 9]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 11]]
  [1m[35mCart Load (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 15]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (40.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.9ms)
  Rendered line_items/_line_item.html.erb (13.3ms)
Completed 200 OK in 131ms (Views: 109.0ms | ActiveRecord: 3.7ms)


Started GET "/establishments/9" for 127.0.0.1 at 2017-08-29 15:44:13 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 9]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 11]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 15]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (18.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.3ms)
  Rendered line_items/_line_item.html.erb (9.1ms)
Completed 200 OK in 106ms (Views: 101.7ms | ActiveRecord: 1.8ms)


Started GET "/establishments/9" for 127.0.0.1 at 2017-08-29 15:44:14 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 9]]
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 11]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 15]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (20.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.2ms)
  Rendered line_items/_line_item.html.erb (7.1ms)
Completed 200 OK in 95ms (Views: 90.7ms | ActiveRecord: 1.8ms)


Started GET "/establishments/9" for 127.0.0.1 at 2017-08-29 15:44:14 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCategory Load (1.3ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 9]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 11]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 15]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (21.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.5ms)
  Rendered line_items/_line_item.html.erb (9.1ms)
Completed 200 OK in 114ms (Views: 108.7ms | ActiveRecord: 2.7ms)


Started GET "/establishments/9" for 127.0.0.1 at 2017-08-29 15:44:14 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 9]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 11]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 15]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (19.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.2ms)
  Rendered line_items/_line_item.html.erb (7.3ms)
Completed 200 OK in 115ms (Views: 111.2ms | ActiveRecord: 1.5ms)


Started GET "/establishments" for 127.0.0.1 at 2017-08-29 15:44:14 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (3.1ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.4ms)
  Rendered line_items/_line_item.html.erb (8.4ms)
Completed 200 OK in 103ms (Views: 101.1ms | ActiveRecord: 0.9ms)


Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 15:44:17 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 8]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 10]]
  [1m[35mDish Load (0.9ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 14]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (14.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.0ms)
  Rendered line_items/_line_item.html.erb (8.4ms)
Completed 200 OK in 95ms (Views: 90.1ms | ActiveRecord: 2.4ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 15:44:19 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (3.3ms)
Completed 200 OK in 76ms (Views: 74.1ms | ActiveRecord: 0.3ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 15:44:21 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 11]]
  Rendered admin/dishes/index.html.erb within layouts/admin (21.2ms)
Completed 200 OK in 85ms (Views: 81.4ms | ActiveRecord: 1.8ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 15:44:21 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (6.7ms)
Completed 200 OK in 91ms (Views: 88.6ms | ActiveRecord: 0.3ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-08-29 15:44:22 +0600
Processing by Admin::CategoriesController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  Rendered admin/categories/index.html.erb within layouts/admin (11.9ms)
Completed 200 OK in 78ms (Views: 74.5ms | ActiveRecord: 1.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-08-29 15:44:23 +0600
Processing by Admin::CategoriesController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  Rendered admin/categories/index.html.erb within layouts/admin (8.6ms)
Completed 200 OK in 84ms (Views: 81.8ms | ActiveRecord: 0.8ms)


Started GET "/admin/categories/9/edit" for 127.0.0.1 at 2017-08-29 15:44:24 +0600
Processing by Admin::CategoriesController#edit as HTML
  Parameters: {"id"=>"9"}
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mEstablishment Load (0.5ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/categories/_form.html.erb (8.2ms)
  Rendered admin/categories/edit.html.erb within layouts/admin (9.7ms)
Completed 200 OK in 74ms (Views: 70.6ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-08-29 15:45:37 +0600
Processing by Admin::CategoriesController#index as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  Rendered admin/categories/index.html.erb within layouts/admin (21.3ms)
Completed 200 OK in 81ms (Views: 75.6ms | ActiveRecord: 1.6ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-08-29 15:51:15 +0600

SyntaxError (/home/mazahaker/ruby/month4/lesson30/foodshop.kg/config/routes.rb:5: syntax error, unexpected tSTRING_BEG, expecting keyword_do or '{' or '('
  post 'dishes/order' => 'cart#create', as 'cart_create'
                                            ^):
  config/routes.rb:5: syntax error, unexpected tSTRING_BEG, expecting keyword_do or '{' or '('


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (27.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (48.5ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-08-29 15:51:39 +0600

SyntaxError (/home/mazahaker/ruby/month4/lesson30/foodshop.kg/config/routes.rb:5: syntax error, unexpected tSTRING_BEG, expecting keyword_do or '{' or '('
  post 'dishes/order' => 'carts#create', as 'cart_create'
                                             ^):
  config/routes.rb:5: syntax error, unexpected tSTRING_BEG, expecting keyword_do or '{' or '('


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (25.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.5ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-08-29 15:51:58 +0600
Processing by Admin::CategoriesController#index as HTML
  [1m[36mCategory Load (0.6ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  Rendered admin/categories/index.html.erb within layouts/admin (24.9ms)
Completed 200 OK in 84ms (Views: 77.3ms | ActiveRecord: 2.1ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-08-29 15:52:52 +0600
Processing by Admin::CategoriesController#index as HTML
  [1m[36mCategory Load (0.6ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mEstablishment Load (0.1ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  Rendered admin/categories/index.html.erb within layouts/admin (9.9ms)
Completed 200 OK in 1999ms (Views: 1996.1ms | ActiveRecord: 1.2ms)


Started GET "/assets/application.self-3f4ed11c3dce395fcc92b4ab39521af1966f72f463fef568acc7ccca5681e0be.css?body=1" for 127.0.0.1 at 2017-08-29 15:52:54 +0600


Started GET "/" for 127.0.0.1 at 2017-08-29 15:52:56 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (52.2ms)
  Rendered line_items/_line_item.html.erb (1.5ms)
Completed 500 Internal Server Error in 117ms (ActiveRecord: 0.4ms)

SyntaxError (/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views/line_items/_line_item.html.erb:38: syntax error, unexpected tIDENTIFIER, expecting ')'
...аказать' cart_create_path, method: :post );@output_buf...
...                                ^):
  app/views/line_items/_line_item.html.erb:38: syntax error, unexpected tIDENTIFIER, expecting ')'
  app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb__1645770132798019674_70105399105820'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (18.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (8.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (50.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (31.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (58.4ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 15:53:29 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (3.2ms)
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.7ms)
  Rendered line_items/_line_item.html.erb (65.8ms)
Completed 500 Internal Server Error in 133ms (ActiveRecord: 1.4ms)

ActionView::Template::Error (undefined local variable or method `line_items_destroy_all_path' for #<#<Class:0x007f855e3e5158>:0x007f855ee955d0>):
    31: 	      	<% end %>
    32: 	      	<tr>
    33: 	      		<td colspan="3"><b>Общая сумма: <%= render 'carts/cart' %></b></td>
    34: 	      		<td colspan="2"><%= link_to 'Очистить корзину', line_items_destroy_all_path, remote: true, method: :delete %></td>
    35: 	      	</tr>
    36: 	      	<tr>
    37: 	      		<td colspan="4" align="center">
  app/views/line_items/_line_item.html.erb:34:in `_app_views_line_items__line_item_html_erb___1047873734903233987_70105401028500'
  app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb__1645770132798019674_70105399105820'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (35.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.4ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 15:54:56 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.8ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.4ms)
  Rendered line_items/_line_item.html.erb (32.1ms)
Completed 500 Internal Server Error in 97ms (ActiveRecord: 0.8ms)

ActionView::Template::Error (undefined local variable or method `line_items_destroy_all_path' for #<#<Class:0x007f855e3e5158>:0x007f855dea1de0>):
    31: 	      	<% end %>
    32: 	      	<tr>
    33: 	      		<td colspan="3"><b>Общая сумма: <%= render 'carts/cart' %></b></td>
    34: 	      		<td colspan="2"><%= link_to 'Очистить корзину', line_items_destroy_all_path, remote: true, method: :delete %></td>
    35: 	      	</tr>
    36: 	      	<tr>
    37: 	      		<td colspan="4" align="center">
  app/views/line_items/_line_item.html.erb:34:in `_app_views_line_items__line_item_html_erb___1047873734903233987_70105393801040'
  app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb__1645770132798019674_70105399105820'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (33.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (46.1ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 15:55:01 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (3.7ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.5ms)
  Rendered line_items/_line_item.html.erb (32.3ms)
Completed 500 Internal Server Error in 101ms (ActiveRecord: 0.9ms)

ActionView::Template::Error (undefined local variable or method `line_items_destroy_all_path' for #<#<Class:0x007f855e3e5158>:0x007f8550c67258>):
    31: 	      	<% end %>
    32: 	      	<tr>
    33: 	      		<td colspan="3"><b>Общая сумма: <%= render 'carts/cart' %></b></td>
    34: 	      		<td colspan="2"><%= link_to 'Очистить корзину', line_items_destroy_all_path, remote: true, method: :delete %></td>
    35: 	      	</tr>
    36: 	      	<tr>
    37: 	      		<td colspan="4" align="center">
  app/views/line_items/_line_item.html.erb:34:in `_app_views_line_items__line_item_html_erb___1047873734903233987_70105428789560'
  app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb__1645770132798019674_70105399105820'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (31.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.1ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 15:55:17 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.5ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (7.0ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.1ms)
  Rendered line_items/_line_item.html.erb (47.6ms)
Completed 500 Internal Server Error in 116ms (ActiveRecord: 2.2ms)

ActionView::Template::Error (undefined local variable or method `line_items_destroy_all_path' for #<#<Class:0x007f855efaea48>:0x007f855ece1f18>):
    31: 	      	<% end %>
    32: 	      	<tr>
    33: 	      		<td colspan="3"><b>Общая сумма: <%= render 'carts/cart' %></b></td>
    34: 	      		<td colspan="2"><%= link_to 'Очистить корзину', line_items_destroy_all_path, remote: true, method: :delete %></td>
    35: 	      	</tr>
    36: 	      	<tr>
    37: 	      		<td colspan="4" align="center">
  app/views/line_items/_line_item.html.erb:34:in `_app_views_line_items__line_item_html_erb___1047873734903233987_70105428789560'
  app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb__1645770132798019674_70105399105820'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (34.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.2ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 15:57:08 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.5ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (8.2ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.6ms)
  Rendered line_items/_line_item.html.erb (25.7ms)
Completed 200 OK in 99ms (Views: 92.0ms | ActiveRecord: 2.3ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 15:57:59 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.6ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (7.8ms)
  [1m[35mCart Load (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.8ms)
  Rendered line_items/_line_item.html.erb (25.3ms)
Completed 200 OK in 96ms (Views: 89.6ms | ActiveRecord: 2.3ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 15:58:07 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (3.3ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.2ms)
  Rendered line_items/_line_item.html.erb (7.8ms)
Completed 200 OK in 73ms (Views: 69.8ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 15:59:34 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.5ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (8.2ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.6ms)
  Rendered line_items/_line_item.html.erb (28.0ms)
Completed 200 OK in 105ms (Views: 98.5ms | ActiveRecord: 2.4ms)


Started GET "/carts/new" for 127.0.0.1 at 2017-08-29 15:59:36 +0600

AbstractController::ActionNotFound (The action 'new' could not be found for CartsController):
  actionpack (4.2.6) lib/abstract_controller/base.rb:132:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.0ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 15:59:45 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (1.9ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.3ms)
  Rendered line_items/_line_item.html.erb (8.5ms)
Completed 200 OK in 68ms (Views: 66.4ms | ActiveRecord: 0.9ms)
  [1m[36mCart Load (1.4ms)[0m  [1mSELECT "carts".* FROM "carts"[0m


Started GET "/" for 127.0.0.1 at 2017-08-29 16:00:34 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.6ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (7.5ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.6ms)
  Rendered line_items/_line_item.html.erb (34.2ms)
Completed 200 OK in 118ms (Views: 111.7ms | ActiveRecord: 2.7ms)


Started GET "/carts/new" for 127.0.0.1 at 2017-08-29 16:00:36 +0600

AbstractController::ActionNotFound (The action 'new' could not be found for CartsController):
  actionpack (4.2.6) lib/abstract_controller/base.rb:132:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.8ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 16:00:40 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (4.1ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.6ms)
  Rendered line_items/_line_item.html.erb (8.5ms)
Completed 200 OK in 78ms (Views: 75.0ms | ActiveRecord: 1.0ms)
  [1m[36mCart Load (1.6ms)[0m  [1mSELECT "carts".* FROM "carts"[0m


Started GET "/" for 127.0.0.1 at 2017-08-29 16:07:43 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.6ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (9.2ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.8ms)
  Rendered line_items/_line_item.html.erb (32.4ms)
Completed 500 Internal Server Error in 112ms (ActiveRecord: 2.6ms)

ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    35: 	      	</tr>
    36: 	      	<tr>
    37: 	      		<td colspan="4" align="center">
    38: 	      			<%= form_for @cart do |f| %>
    39: 								<% f.hidden_field :status, value: 'new' %>
    40: 	      				<%= f.submit %>
    41: 	      			<% end %>
  app/views/line_items/_line_item.html.erb:38:in `_app_views_line_items__line_item_html_erb___1047873734903233987_47301353899420'
  app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb__1645770132798019674_70105399105820'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (10.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (35.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.6ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 16:09:34 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.6ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.2ms)
  Rendered line_items/_line_item.html.erb (10.4ms)
Completed 200 OK in 75ms (Views: 72.9ms | ActiveRecord: 0.9ms)


Started GET "/carts/new" for 127.0.0.1 at 2017-08-29 16:09:37 +0600
Processing by CartsController#new as HTML
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms)

ActionView::MissingTemplate (Missing template carts/new, application/new with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
  actionview (4.2.6) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.6) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.6) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.6) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.6) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.6) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.6) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (28.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.6ms)


Started GET "/carts/new" for 127.0.0.1 at 2017-08-29 16:09:52 +0600
Processing by CartsController#new as HTML
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.7ms)

ActionView::MissingTemplate (Missing template carts/new, application/new with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
  actionview (4.2.6) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.6) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.6) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.6) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.6) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.6) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.6) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (29.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (46.3ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 16:09:55 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (6.3ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.4ms)
  Rendered line_items/_line_item.html.erb (26.7ms)
Completed 200 OK in 96ms (Views: 90.4ms | ActiveRecord: 1.9ms)


Started GET "/carts/new" for 127.0.0.1 at 2017-08-29 16:10:03 +0600
Processing by CartsController#new as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)

ActionView::MissingTemplate (Missing template carts/new, application/new with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
  actionview (4.2.6) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.6) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.6) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.6) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.6) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.6) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.6) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (29.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (41.3ms)


Started GET "/carts/new" for 127.0.0.1 at 2017-08-29 16:12:15 +0600
Processing by CartsController#new as HTML
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.9ms)

ActionView::MissingTemplate (Missing template carts/new, application/new with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
  actionview (4.2.6) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.6) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.6) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.6) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.6) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.6) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.6) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (32.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (25.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (47.9ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 16:12:19 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (7.5ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.8ms)
  Rendered line_items/_line_item.html.erb (38.7ms)
Completed 500 Internal Server Error in 110ms (ActiveRecord: 2.1ms)

ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    35: 	      	</tr>
    36: 	      	<tr>
    37: 	      		<td colspan="4" align="center">
    38: 	      			<%= form_for @cart do |f| %>
    39: 								<% f.hidden_field :status, value: 'new' %>
    40: 	      				<%= f.submit %>
    41: 	      			<% end %>
  app/views/line_items/_line_item.html.erb:38:in `_app_views_line_items__line_item_html_erb___1047873734903233987_70105278761820'
  app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb__1645770132798019674_70105399105820'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (33.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.4ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 16:12:20 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (3.0ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.3ms)
  Rendered line_items/_line_item.html.erb (8.8ms)
Completed 500 Internal Server Error in 91ms (ActiveRecord: 0.8ms)

ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    35: 	      	</tr>
    36: 	      	<tr>
    37: 	      		<td colspan="4" align="center">
    38: 	      			<%= form_for @cart do |f| %>
    39: 								<% f.hidden_field :status, value: 'new' %>
    40: 	      				<%= f.submit %>
    41: 	      			<% end %>
  app/views/line_items/_line_item.html.erb:38:in `_app_views_line_items__line_item_html_erb___1047873734903233987_70105278761820'
  app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb__1645770132798019674_70105399105820'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (31.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.8ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 16:25:44 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.4ms)
  Rendered line_items/_line_item.html.erb (1.6ms)
Completed 500 Internal Server Error in 58ms (ActiveRecord: 0.3ms)

SyntaxError (/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views/line_items/_line_item.html.erb:47: syntax error, unexpected keyword_ensure, expecting end-of-input):
  app/views/line_items/_line_item.html.erb:47: syntax error, unexpected keyword_ensure, expecting end-of-input
  app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb__1645770132798019674_70105399105820'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (11.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (34.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.8ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 16:26:07 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.1ms)
  Rendered line_items/_line_item.html.erb (1.7ms)
Completed 500 Internal Server Error in 64ms (ActiveRecord: 0.3ms)

SyntaxError (/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views/line_items/_line_item.html.erb:46: syntax error, unexpected keyword_ensure, expecting end-of-input):
  app/views/line_items/_line_item.html.erb:46: syntax error, unexpected keyword_ensure, expecting end-of-input
  app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb__1645770132798019674_70105399105820'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (31.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.9ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 16:26:22 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.3ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.2ms)
  Rendered carts/_form.html.erb (2.6ms)
  Rendered line_items/_line_item.html.erb (11.0ms)
Completed 500 Internal Server Error in 73ms (ActiveRecord: 0.8ms)

ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for @cart do |f| %>
    2: 	<%= f.hidden_field :status, value: 'new' %>
    3: 	<%= submit %>
    4: <% end %>
  app/views/carts/_form.html.erb:1:in `_app_views_carts__form_html_erb___2826354824464244092_70105390402040'
  app/views/line_items/_line_item.html.erb:38:in `_app_views_line_items__line_item_html_erb___1047873734903233987_70105388886720'
  app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb__1645770132798019674_70105399105820'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (32.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (42.2ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 16:27:33 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.5ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (7.5ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.6ms)
  Rendered carts/_form.html.erb (2.2ms)
  Rendered line_items/_line_item.html.erb (27.4ms)
Completed 500 Internal Server Error in 93ms (ActiveRecord: 2.1ms)

ActionView::Template::Error (uninitialized class variable @@cart in ActionView::CompiledTemplates):
    1: <%= form_for @@cart do |f| %>
    2: 	<%= f.hidden_field :status, value: 'new' %>
    3: 	<%= submit %>
    4: <% end %>
  app/views/carts/_form.html.erb:1:in `_app_views_carts__form_html_erb___2826354824464244092_70105275377760'
  app/views/line_items/_line_item.html.erb:38:in `_app_views_line_items__line_item_html_erb___1047873734903233987_70105388886720'
  app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb__1645770132798019674_70105399105820'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (11.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (37.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (26.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (52.3ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 16:29:37 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.5ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (7.4ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.6ms)
  Rendered carts/_form.html.erb (2.5ms)
  Rendered line_items/_line_item.html.erb (28.5ms)
Completed 500 Internal Server Error in 96ms (ActiveRecord: 2.4ms)

ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for @cart do |f| %>
    2: 	<%= f.hidden_field :status %>
    3: 	<%= submit %>
    4: <% end %>
  app/views/carts/_form.html.erb:1:in `_app_views_carts__form_html_erb___2826354824464244092_70105391889360'
  app/views/line_items/_line_item.html.erb:38:in `_app_views_line_items__line_item_html_erb___1047873734903233987_70105388886720'
  app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb__1645770132798019674_70105399105820'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (33.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.7ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 16:30:03 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.7ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.7ms)
  Rendered carts/_form.html.erb (3.1ms)
  Rendered line_items/_line_item.html.erb (11.5ms)
Completed 500 Internal Server Error in 75ms (ActiveRecord: 0.8ms)

ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= @cart %>
    2: <%= form_for @cart do |f| %>
    3: 	<%= f.hidden_field :status %>
    4: 	<%= submit %>
    5: <% end %>
  app/views/carts/_form.html.erb:2:in `_app_views_carts__form_html_erb___2826354824464244092_70105425768040'
  app/views/line_items/_line_item.html.erb:38:in `_app_views_line_items__line_item_html_erb___1047873734903233987_70105388886720'
  app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb__1645770132798019674_70105399105820'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (32.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (45.4ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 16:30:10 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.1ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.3ms)
  Rendered carts/_form.html.erb (0.8ms)
  Rendered line_items/_line_item.html.erb (9.3ms)
Completed 200 OK in 68ms (Views: 66.1ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 16:30:22 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.1ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.9ms)
  Rendered carts/_form.html.erb (0.7ms)
  Rendered line_items/_line_item.html.erb (10.5ms)
Completed 200 OK in 73ms (Views: 71.4ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 16:39:42 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.6ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (7.9ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.8ms)
  Rendered carts/_form.html.erb (3.9ms)
  Rendered line_items/_line_item.html.erb (36.2ms)
Completed 500 Internal Server Error in 109ms (ActiveRecord: 2.7ms)

ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for(@cart) do |f| %>
    2:     <%= f.label :status %><br>
    3:     <%= f.text_field :status %>
    4:     <%= f.submit %>
  app/views/carts/_form.html.erb:1:in `_app_views_carts__form_html_erb___2826354824464244092_70105278526900'
  app/views/line_items/_line_item.html.erb:38:in `_app_views_line_items__line_item_html_erb___1047873734903233987_70105388886720'
  app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb__1645770132798019674_70105399105820'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (10.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (36.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (30.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (57.0ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m


Started GET "/" for 127.0.0.1 at 2017-08-29 16:45:16 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.6ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (7.3ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.6ms)
  Rendered line_items/_line_item.html.erb (27.0ms)
Completed 200 OK in 94ms (Views: 88.6ms | ActiveRecord: 2.6ms)


Started POST "/carts" for 127.0.0.1 at 2017-08-29 16:45:23 +0600
Processing by CartsController#create as HTML
  Parameters: {"authenticity_token"=>"a60wl5ztsGdSsDchv+htgeEiPbnzrKasE3ndVoPWCzdkAaZIW2PVeUtWNoFxHlf9MP7zZ/19HCe3KttIP6Ty2Q=="}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("status", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["status", "new"], ["created_at", "2017-08-29 10:45:23.859429"], ["updated_at", "2017-08-29 10:45:23.859429"]]
  [1m[35m (66.6ms)[0m  commit transaction
Completed 500 Internal Server Error in 76ms (ActiveRecord: 67.0ms)

ActionView::MissingTemplate (Missing template carts/create, application/create with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/mazahaker/ruby/month4/lesson30/foodshop.kg/app/views"
):
  actionview (4.2.6) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.6) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.6) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.6) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.6) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.6) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.6) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.6) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.6) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.6) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'
  activesupport (4.2.6) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.6) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.6) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.6) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.6) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.6) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (31.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.5ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 16:45:30 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (3.6ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  Rendered line_items/_line_item.html.erb (3.9ms)
Completed 200 OK in 67ms (Views: 64.8ms | ActiveRecord: 0.7ms)
  [1m[36mCart Load (1.6ms)[0m  [1mSELECT "carts".* FROM "carts"[0m


Started GET "/" for 127.0.0.1 at 2017-08-29 16:50:52 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.5ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (7.4ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 2]]
  Rendered line_items/_line_item.html.erb (17.5ms)
Completed 200 OK in 100ms (Views: 94.3ms | ActiveRecord: 1.8ms)


Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 16:50:58 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.4ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 8]]
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 10]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 14]]
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (46.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 2]]
  Rendered line_items/_line_item.html.erb (3.4ms)
Completed 200 OK in 158ms (Views: 142.7ms | ActiveRecord: 3.4ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 16:51:00 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"2", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 2], ["created_at", "2017-08-29 10:51:00.456629"], ["updated_at", "2017-08-29 10:51:00.456629"]]
  [1m[36m (92.6ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  Rendered carts/_cart.erb (1.4ms)
  Rendered line_items/_line_item.html.erb (12.4ms)
  Rendered line_items/create.js.erb (13.7ms)
Completed 200 OK in 118ms (Views: 19.1ms | ActiveRecord: 94.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 16:51:00 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"2", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 2], ["created_at", "2017-08-29 10:51:01.001526"], ["updated_at", "2017-08-29 10:51:01.001526"]]
  [1m[35m (80.6ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 2]]
  Rendered carts/_cart.erb (2.7ms)
  Rendered line_items/_line_item.html.erb (11.1ms)
  Rendered line_items/create.js.erb (12.5ms)
Completed 200 OK in 101ms (Views: 14.7ms | ActiveRecord: 81.6ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 16:51:01 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"2", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 2], ["created_at", "2017-08-29 10:51:01.156566"], ["updated_at", "2017-08-29 10:51:01.156566"]]
  [1m[36m (91.7ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  Rendered carts/_cart.erb (1.5ms)
  Rendered line_items/_line_item.html.erb (7.8ms)
  Rendered line_items/create.js.erb (9.6ms)
Completed 200 OK in 108ms (Views: 11.0ms | ActiveRecord: 92.8ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 16:51:01 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"2", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 2], ["created_at", "2017-08-29 10:51:01.293594"], ["updated_at", "2017-08-29 10:51:01.293594"]]
  [1m[35m (121.4ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 2]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 2]]
  Rendered carts/_cart.erb (2.0ms)
  Rendered line_items/_line_item.html.erb (10.8ms)
  Rendered line_items/create.js.erb (12.5ms)
Completed 200 OK in 144ms (Views: 17.6ms | ActiveRecord: 122.6ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 16:51:01 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"2", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 2], ["created_at", "2017-08-29 10:51:01.446043"], ["updated_at", "2017-08-29 10:51:01.446043"]]
  [1m[36m (101.1ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  Rendered carts/_cart.erb (1.8ms)
  Rendered line_items/_line_item.html.erb (9.3ms)
  Rendered line_items/create.js.erb (10.9ms)
Completed 200 OK in 120ms (Views: 12.3ms | ActiveRecord: 102.2ms)


Started POST "/carts" for 127.0.0.1 at 2017-08-29 16:51:03 +0600
Processing by CartsController#create as HTML
  Parameters: {"authenticity_token"=>"tGw7j1vKEUJ8PAunsi33XvER/uOI2DMBzyP8YyQvday7wK1QnER0XGXaCgd8280iIM0wPYYJiYprcPp9mF2MQg=="}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("status", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["status", "new"], ["created_at", "2017-08-29 10:51:03.358345"], ["updated_at", "2017-08-29 10:51:03.358345"]]
  [1m[35m (74.7ms)[0m  commit transaction
  Rendered carts/create.html.erb within layouts/application (0.9ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 3]]
  Rendered line_items/_line_item.html.erb (3.3ms)
Completed 200 OK in 148ms (Views: 68.3ms | ActiveRecord: 75.6ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 16:51:05 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.3ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  Rendered line_items/_line_item.html.erb (3.3ms)
Completed 200 OK in 86ms (Views: 84.0ms | ActiveRecord: 0.6ms)
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 3]]
  [1m[36m (91.4ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 2]]
  [1m[36m (89.3ms)[0m  [1mcommit transaction[0m


Started GET "/" for 127.0.0.1 at 2017-08-29 16:51:28 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.2ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.2ms)
  Rendered line_items/_line_item.html.erb (7.3ms)
Completed 200 OK in 66ms (Views: 63.6ms | ActiveRecord: 0.8ms)


Started GET "/establishments/7" for 127.0.0.1 at 2017-08-29 16:53:20 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 7]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 9]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 13]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (18.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.4ms)
  Rendered line_items/_line_item.html.erb (8.9ms)
Completed 200 OK in 103ms (Views: 99.3ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 16:53:31 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (4.4ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.2ms)
  Rendered line_items/_line_item.html.erb (9.0ms)
Completed 200 OK in 93ms (Views: 90.3ms | ActiveRecord: 0.9ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 16:53:32 +0600
Processing by DishesController#index as HTML
  [1m[36mDish Load (0.5ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered dishes/index.html.erb within layouts/application (3.0ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.2ms)
  Rendered line_items/_line_item.html.erb (8.7ms)
Completed 200 OK in 96ms (Views: 93.0ms | ActiveRecord: 1.0ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 16:53:34 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (3.7ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.5ms)
  Rendered line_items/_line_item.html.erb (9.7ms)
Completed 200 OK in 90ms (Views: 87.9ms | ActiveRecord: 1.1ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 16:53:38 +0600
Processing by DishesController#index as HTML
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered dishes/index.html.erb within layouts/application (2.4ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.2ms)
  Rendered line_items/_line_item.html.erb (6.9ms)
Completed 200 OK in 105ms (Views: 102.8ms | ActiveRecord: 0.8ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 16:53:39 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (3.4ms)
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.1ms)
  Rendered line_items/_line_item.html.erb (13.3ms)
Completed 200 OK in 97ms (Views: 94.4ms | ActiveRecord: 1.5ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 16:53:39 +0600
Processing by DishesController#index as HTML
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes"[0m
  Rendered dishes/index.html.erb within layouts/application (4.1ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.1ms)
  Rendered line_items/_line_item.html.erb (6.7ms)
Completed 200 OK in 91ms (Views: 89.3ms | ActiveRecord: 0.8ms)


Started GET "/dishes" for 127.0.0.1 at 2017-08-29 16:55:41 +0600
Processing by DishesController#index as HTML
  [1m[35mDish Load (1.1ms)[0m  SELECT "dishes".* FROM "dishes"
  Rendered dishes/index.html.erb within layouts/application (10.2ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.5ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.9ms)
  Rendered line_items/_line_item.html.erb (36.5ms)
Completed 200 OK in 145ms (Views: 137.6ms | ActiveRecord: 3.9ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 16:55:43 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (12.9ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.6ms)
  Rendered line_items/_line_item.html.erb (11.9ms)
Completed 200 OK in 117ms (Views: 108.2ms | ActiveRecord: 3.6ms)


Started POST "/carts" for 127.0.0.1 at 2017-08-29 16:55:46 +0600
Processing by CartsController#create as HTML
  Parameters: {"authenticity_token"=>"SBgY/RImPyfaEg9OImWfMbctlnZaIfkAPYqZHnfo60ZHtI4i1ahaOcP0Du7sk6VNZvFYqFTwQ4uZ2Z8Ay5oSqA=="}
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "carts" ("status", "created_at", "updated_at") VALUES (?, ?, ?)  [["status", "new"], ["created_at", "2017-08-29 10:55:46.868298"], ["updated_at", "2017-08-29 10:55:46.868298"]]
  [1m[36m (89.9ms)[0m  [1mcommit transaction[0m
  Rendered carts/create.html.erb within layouts/application (0.3ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  Rendered line_items/_line_item.html.erb (5.6ms)
Completed 200 OK in 175ms (Views: 76.9ms | ActiveRecord: 91.4ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 16:55:49 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.9ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 4]]
  Rendered line_items/_line_item.html.erb (3.1ms)
Completed 200 OK in 82ms (Views: 80.3ms | ActiveRecord: 0.7ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT "carts".* FROM "carts"


Started GET "/establishments/7" for 127.0.0.1 at 2017-08-29 16:56:39 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCategory Load (0.4ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 7]]
  [1m[36mDish Load (0.4ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 9]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 13]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (39.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  Rendered line_items/_line_item.html.erb (3.8ms)
Completed 200 OK in 109ms (Views: 104.6ms | ActiveRecord: 2.5ms)


Started GET "/establishments/7" for 127.0.0.1 at 2017-08-29 17:01:33 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 7]]
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 9]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 13]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (41.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 4]]
  Rendered line_items/_line_item.html.erb (6.0ms)
Completed 200 OK in 135ms (Views: 114.1ms | ActiveRecord: 3.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:01:41 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Кока-кола", "price"=>"100.0", "cart_id"=>"4", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Кока-кола"], ["quantity", 1], ["price", 100.0], ["cart_id", 4], ["created_at", "2017-08-29 11:01:41.385363"], ["updated_at", "2017-08-29 11:01:41.385363"]]
  [1m[36m (291.9ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  Rendered carts/_cart.erb (2.6ms)
  Rendered line_items/_line_item.html.erb (12.2ms)
  Rendered line_items/create.js.erb (14.2ms)
Completed 200 OK in 327ms (Views: 25.1ms | ActiveRecord: 293.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:01:41 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Кока-кола", "price"=>"100.0", "cart_id"=>"4", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Кока-кола"], ["quantity", 1], ["price", 100.0], ["cart_id", 4], ["created_at", "2017-08-29 11:01:41.721410"], ["updated_at", "2017-08-29 11:01:41.721410"]]
  [1m[35m (99.5ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 4]]
  Rendered carts/_cart.erb (1.8ms)
  Rendered line_items/_line_item.html.erb (9.7ms)
  Rendered line_items/create.js.erb (11.2ms)
Completed 200 OK in 123ms (Views: 13.5ms | ActiveRecord: 100.7ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:01:41 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Кока-кола", "price"=>"100.0", "cart_id"=>"4", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Кока-кола"], ["quantity", 1], ["price", 100.0], ["cart_id", 4], ["created_at", "2017-08-29 11:01:41.851540"], ["updated_at", "2017-08-29 11:01:41.851540"]]
  [1m[36m (102.2ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  Rendered carts/_cart.erb (2.2ms)
  Rendered line_items/_line_item.html.erb (12.0ms)
  Rendered line_items/create.js.erb (13.7ms)
Completed 200 OK in 130ms (Views: 19.6ms | ActiveRecord: 103.5ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:01:41 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Кока-кола", "price"=>"100.0", "cart_id"=>"4", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Кока-кола"], ["quantity", 1], ["price", 100.0], ["cart_id", 4], ["created_at", "2017-08-29 11:01:41.987008"], ["updated_at", "2017-08-29 11:01:41.987008"]]
  [1m[35m (329.9ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 4]]
  Rendered carts/_cart.erb (2.7ms)
  Rendered line_items/_line_item.html.erb (15.2ms)
  Rendered line_items/create.js.erb (16.9ms)
Completed 200 OK in 354ms (Views: 18.3ms | ActiveRecord: 331.2ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:01:42 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Кока-кола", "price"=>"100.0", "cart_id"=>"4", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Кока-кола"], ["quantity", 1], ["price", 100.0], ["cart_id", 4], ["created_at", "2017-08-29 11:01:42.348355"], ["updated_at", "2017-08-29 11:01:42.348355"]]
  [1m[36m (169.6ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  Rendered carts/_cart.erb (2.8ms)
  Rendered line_items/_line_item.html.erb (21.7ms)
  Rendered line_items/create.js.erb (23.8ms)
Completed 200 OK in 202ms (Views: 25.8ms | ActiveRecord: 171.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:01:42 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Кока-кола", "price"=>"100.0", "cart_id"=>"4", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.7ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Кока-кола"], ["quantity", 1], ["price", 100.0], ["cart_id", 4], ["created_at", "2017-08-29 11:01:42.562268"], ["updated_at", "2017-08-29 11:01:42.562268"]]
  [1m[35m (79.9ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 4]]
  Rendered carts/_cart.erb (2.3ms)
  Rendered line_items/_line_item.html.erb (9.9ms)
  Rendered line_items/create.js.erb (11.1ms)
Completed 200 OK in 101ms (Views: 12.3ms | ActiveRecord: 83.3ms)


Started POST "/carts" for 127.0.0.1 at 2017-08-29 17:01:44 +0600
Processing by CartsController#create as HTML
  Parameters: {"authenticity_token"=>"O0nZtdemU8R1Fs9JKp5cJoRF0wRmlfIV34PwdyUMISs05U9qECg22mzwzunkaGZaVZkd2mhESJ570PZpmX7YxQ=="}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "carts" ("status", "created_at", "updated_at") VALUES (?, ?, ?)  [["status", "new"], ["created_at", "2017-08-29 11:01:44.113602"], ["updated_at", "2017-08-29 11:01:44.113602"]]
  [1m[36m (115.9ms)[0m  [1mcommit transaction[0m
  Rendered carts/create.html.erb within layouts/application (0.2ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (3.8ms)
Completed 200 OK in 182ms (Views: 61.5ms | ActiveRecord: 116.7ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 17:01:46 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.2ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (3.6ms)
Completed 200 OK in 79ms (Views: 76.8ms | ActiveRecord: 0.7ms)
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT "carts".* FROM "carts"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to FixColumnCart (20170829110429)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.9ms)[0m  [1mCREATE TEMPORARY TABLE "acarts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "status" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.2ms)[0m  SELECT * FROM "carts"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "acarts" ("id","status","created_at","updated_at") VALUES (1, 'new', '2017-08-28 14:22:49.414824', '2017-08-28 14:22:49.414824')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "acarts" ("id","status","created_at","updated_at") VALUES (4, 'new', '2017-08-29 10:55:46.868298', '2017-08-29 10:55:46.868298')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "acarts" ("id","status","created_at","updated_at") VALUES (5, 'new', '2017-08-29 11:01:44.113602', '2017-08-29 11:01:44.113602')[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "carts"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "acarts"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "carts" ("id","created_at","updated_at") VALUES (1, '2017-08-28 14:22:49.414824', '2017-08-28 14:22:49.414824')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "carts" ("id","created_at","updated_at") VALUES (4, '2017-08-29 10:55:46.868298', '2017-08-29 10:55:46.868298')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "carts" ("id","created_at","updated_at") VALUES (5, '2017-08-29 11:01:44.113602', '2017-08-29 11:01:44.113602')[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "acarts"
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170829110429"]]
  [1m[35m (75.4ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_categories_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_categories_on_establishment_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_category_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_line_items_on_cart_id' AND type='index'

  [1m[36mCart Load (1.6ms)[0m  [1mSELECT "carts".* FROM "carts"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddDishToItemLines (20170829111417)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "item_lines" ADD "dish_id" integer[0m
  [1m[35m (0.1ms)[0m  rollback transaction


Started GET "/" for 127.0.0.1 at 2017-08-29 17:24:19 +0600
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (7.1ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (16.0ms)
Completed 200 OK in 95ms (Views: 88.6ms | ActiveRecord: 1.8ms)


Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 17:24:23 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.4ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 8]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 10]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 14]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (36.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (3.2ms)
Completed 200 OK in 115ms (Views: 100.7ms | ActiveRecord: 2.7ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:24:27 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `find_by_name' for #<Class:0x007f8550bc1948>):
  app/controllers/line_items_controller.rb:5:in `create'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (22.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:24:29 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `find_by_name' for #<Class:0x007f8550bc1948>):
  app/controllers/line_items_controller.rb:5:in `create'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (23.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:24:30 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `find_by_name' for #<Class:0x007f8550bc1948>):
  app/controllers/line_items_controller.rb:5:in `create'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (22.7ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:24:30 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `find_by_name' for #<Class:0x007f8550bc1948>):
  app/controllers/line_items_controller.rb:5:in `create'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (23.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:24:30 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `find_by_name' for #<Class:0x007f8550bc1948>):
  app/controllers/line_items_controller.rb:5:in `create'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (22.8ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:24:30 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `find_by_name' for #<Class:0x007f8550bc1948>):
  app/controllers/line_items_controller.rb:5:in `create'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (25.2ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:24:30 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `find_by_name' for #<Class:0x007f8550bc1948>):
  app/controllers/line_items_controller.rb:5:in `create'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (23.5ms)


Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 17:24:31 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 8]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 10]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 14]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (11.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (3.2ms)
Completed 200 OK in 74ms (Views: 70.2ms | ActiveRecord: 1.8ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:24:34 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `find_by_name' for #<Class:0x007f8550bc1948>):
  app/controllers/line_items_controller.rb:5:in `create'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (22.8ms)


Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 17:26:34 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.3ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 8]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 10]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 14]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (45.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (6.1ms)
Completed 200 OK in 141ms (Views: 116.6ms | ActiveRecord: 3.8ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:26:36 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1[0m  [["title", "Мороженое"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 2], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:26:36.181254"], ["updated_at", "2017-08-29 11:26:36.181254"]]
  [1m[35m (91.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (2.0ms)
  Rendered line_items/_line_item.html.erb (13.0ms)
  Rendered line_items/create.js.erb (14.8ms)
Completed 200 OK in 120ms (Views: 20.4ms | ActiveRecord: 92.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:26:37 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1[0m  [["title", "Мороженое"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 2], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:26:37.685246"], ["updated_at", "2017-08-29 11:26:37.685246"]]
  [1m[35m (115.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.2ms)
  Rendered line_items/_line_item.html.erb (6.6ms)
  Rendered line_items/create.js.erb (7.8ms)
Completed 200 OK in 131ms (Views: 9.4ms | ActiveRecord: 116.7ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:26:38 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1[0m  [["title", "Мороженое"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 2], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:26:38.026719"], ["updated_at", "2017-08-29 11:26:38.026719"]]
  [1m[35m (85.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.9ms)
  Rendered line_items/_line_item.html.erb (10.1ms)
  Rendered line_items/create.js.erb (11.4ms)
Completed 200 OK in 103ms (Views: 12.8ms | ActiveRecord: 86.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:26:38 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1[0m  [["title", "Мороженое"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 2], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:26:38.267548"], ["updated_at", "2017-08-29 11:26:38.267548"]]
  [1m[35m (88.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.3ms)
  Rendered line_items/_line_item.html.erb (7.6ms)
  Rendered line_items/create.js.erb (8.7ms)
Completed 200 OK in 104ms (Views: 10.1ms | ActiveRecord: 89.4ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:26:38 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1[0m  [["title", "Мороженое"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 2], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:26:38.410914"], ["updated_at", "2017-08-29 11:26:38.410914"]]
  [1m[35m (103.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.9ms)
  Rendered line_items/_line_item.html.erb (10.3ms)
  Rendered line_items/create.js.erb (12.3ms)
Completed 200 OK in 125ms (Views: 14.9ms | ActiveRecord: 104.3ms)


Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 17:26:51 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 8]]
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 10]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 14]]
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (39.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (2.1ms)
  Rendered line_items/_line_item.html.erb (13.4ms)
Completed 200 OK in 132ms (Views: 112.0ms | ActiveRecord: 3.7ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:26:52 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1[0m  [["title", "Мороженое"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 2], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:26:52.572066"], ["updated_at", "2017-08-29 11:26:52.572066"]]
  [1m[35m (117.2ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.4ms)
  Rendered line_items/_line_item.html.erb (9.1ms)
  Rendered line_items/create.js.erb (11.6ms)
Completed 200 OK in 144ms (Views: 18.6ms | ActiveRecord: 118.6ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:26:53 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1[0m  [["title", "Мороженое"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 2], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:26:53.602063"], ["updated_at", "2017-08-29 11:26:53.602063"]]
  [1m[35m (85.8ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (2.1ms)
  Rendered line_items/_line_item.html.erb (11.7ms)
  Rendered line_items/create.js.erb (13.5ms)
Completed 200 OK in 109ms (Views: 16.2ms | ActiveRecord: 87.0ms)


Started DELETE "/line_items/165" for 127.0.0.1 at 2017-08-29 17:26:57 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"165"}
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 165]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 165]]
  [1m[35m (91.6ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.7ms)
  Rendered line_items/_line_item.html.erb (8.6ms)
  Rendered line_items/destroy.js.erb (10.5ms)
Completed 200 OK in 108ms (Views: 11.9ms | ActiveRecord: 92.8ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 17:26:59 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (118.7ms)[0m  [1mDELETE FROM "line_items"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (4.1ms)
  Rendered line_items/destroy_all.js.erb (5.0ms)
Completed 200 OK in 128ms (Views: 6.5ms | ActiveRecord: 119.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:27:01 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1  [["title", "Мороженое"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:27:01.991006"], ["updated_at", "2017-08-29 11:27:01.991006"]]
  [1m[36m (95.8ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.6ms)
  Rendered line_items/_line_item.html.erb (7.7ms)
  Rendered line_items/create.js.erb (8.7ms)
Completed 200 OK in 111ms (Views: 10.1ms | ActiveRecord: 96.7ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:27:02 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1  [["title", "Мороженое"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 2], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:27:02.125425"], ["updated_at", "2017-08-29 11:27:02.125425"]]
  [1m[36m (71.9ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.5ms)
  Rendered line_items/_line_item.html.erb (7.3ms)
  Rendered line_items/create.js.erb (8.4ms)
Completed 200 OK in 87ms (Views: 9.8ms | ActiveRecord: 72.8ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:27:02 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1  [["title", "Мороженое"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 2], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:27:02.261182"], ["updated_at", "2017-08-29 11:27:02.261182"]]
  [1m[36m (58.2ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.3ms)
  Rendered line_items/_line_item.html.erb (7.8ms)
  Rendered line_items/create.js.erb (8.9ms)
Completed 200 OK in 75ms (Views: 10.3ms | ActiveRecord: 59.4ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:27:02 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1  [["title", "Мороженое"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 2], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:27:02.375588"], ["updated_at", "2017-08-29 11:27:02.375588"]]
  [1m[36m (88.2ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.5ms)
  Rendered line_items/_line_item.html.erb (8.6ms)
  Rendered line_items/create.js.erb (10.2ms)
Completed 200 OK in 105ms (Views: 11.7ms | ActiveRecord: 89.2ms)


Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 17:29:38 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 8]]
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 10]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 14]]
  [1m[35mCart Load (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 16]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (37.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.7ms)
  Rendered line_items/_line_item.html.erb (13.3ms)
Completed 200 OK in 127ms (Views: 105.4ms | ActiveRecord: 4.3ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:29:39 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mLineItem Load (0.3ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1  [["title", "Мороженое"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 2], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:29:39.648380"], ["updated_at", "2017-08-29 11:29:39.648380"]]
  [1m[36m (99.6ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.8ms)
  Rendered line_items/_line_item.html.erb (12.0ms)
  Rendered line_items/create.js.erb (13.9ms)
Completed 200 OK in 131ms (Views: 24.8ms | ActiveRecord: 101.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:29:39 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1  [["title", "Мороженое"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 2], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:29:39.785015"], ["updated_at", "2017-08-29 11:29:39.785015"]]
  [1m[36m (62.1ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.7ms)
  Rendered line_items/_line_item.html.erb (8.6ms)
  Rendered line_items/create.js.erb (14.1ms)
Completed 200 OK in 85ms (Views: 16.3ms | ActiveRecord: 63.3ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:29:39 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mLineItem Load (0.7ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1  [["title", "Мороженое"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 2], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:29:39.879217"], ["updated_at", "2017-08-29 11:29:39.879217"]]
  [1m[36m (89.1ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.8ms)
  Rendered line_items/_line_item.html.erb (8.8ms)
  Rendered line_items/create.js.erb (10.2ms)
Completed 200 OK in 111ms (Views: 12.2ms | ActiveRecord: 90.9ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 17:29:46 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[35mSQL (74.9ms)[0m  DELETE FROM "line_items"
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (6.6ms)
  Rendered line_items/destroy_all.js.erb (8.9ms)
Completed 200 OK in 89ms (Views: 11.9ms | ActiveRecord: 75.5ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:29:47 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1[0m  [["title", "Мороженое"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:29:47.706073"], ["updated_at", "2017-08-29 11:29:47.706073"]]
  [1m[35m (240.8ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.6ms)
  Rendered line_items/_line_item.html.erb (16.8ms)
  Rendered line_items/create.js.erb (18.9ms)
Completed 200 OK in 273ms (Views: 22.1ms | ActiveRecord: 242.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:29:47 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1[0m  [["title", "Мороженое"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 2], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:29:47.985236"], ["updated_at", "2017-08-29 11:29:47.985236"]]
  [1m[35m (93.8ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (2.2ms)
  Rendered line_items/_line_item.html.erb (11.3ms)
  Rendered line_items/create.js.erb (13.0ms)
Completed 200 OK in 117ms (Views: 15.3ms | ActiveRecord: 95.2ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:29:48 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1[0m  [["title", "Мороженое"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 2], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:29:48.111186"], ["updated_at", "2017-08-29 11:29:48.111186"]]
  [1m[35m (67.7ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (2.0ms)
  Rendered line_items/_line_item.html.erb (11.1ms)
  Rendered line_items/create.js.erb (12.8ms)
Completed 200 OK in 91ms (Views: 15.4ms | ActiveRecord: 69.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:29:48 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1[0m  [["title", "Мороженое"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 2], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:29:48.209399"], ["updated_at", "2017-08-29 11:29:48.209399"]]
  [1m[35m (69.0ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.5ms)
  Rendered line_items/_line_item.html.erb (10.4ms)
  Rendered line_items/create.js.erb (17.1ms)
Completed 200 OK in 96ms (Views: 19.0ms | ActiveRecord: 70.5ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:29:48 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1[0m  [["title", "Мороженое"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 2], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:29:48.314091"], ["updated_at", "2017-08-29 11:29:48.314091"]]
  [1m[35m (98.2ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.8ms)
  Rendered line_items/_line_item.html.erb (11.5ms)
  Rendered line_items/create.js.erb (12.9ms)
Completed 200 OK in 125ms (Views: 15.6ms | ActiveRecord: 99.6ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:29:48 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1[0m  [["title", "Мороженое"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 2], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:29:48.445140"], ["updated_at", "2017-08-29 11:29:48.445140"]]
  [1m[35m (200.7ms)[0m  commit transaction
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.6ms)
  Rendered line_items/_line_item.html.erb (11.9ms)
  Rendered line_items/create.js.erb (13.6ms)
Completed 200 OK in 228ms (Views: 20.7ms | ActiveRecord: 202.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:29:48 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1[0m  [["title", "Мороженое"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 2], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:29:48.679157"], ["updated_at", "2017-08-29 11:29:48.679157"]]
  [1m[35m (77.4ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.5ms)
  Rendered line_items/_line_item.html.erb (8.8ms)
  Rendered line_items/create.js.erb (10.2ms)
Completed 200 OK in 95ms (Views: 11.7ms | ActiveRecord: 78.5ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 17:29:52 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (81.5ms)[0m  [1mDELETE FROM "line_items"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (4.3ms)
  Rendered line_items/destroy_all.js.erb (5.2ms)
Completed 200 OK in 90ms (Views: 6.7ms | ActiveRecord: 81.8ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:29:53 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1  [["title", "Мороженое"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:29:53.764325"], ["updated_at", "2017-08-29 11:29:53.764325"]]
  [1m[36m (84.7ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.2ms)
  Rendered line_items/_line_item.html.erb (6.5ms)
  Rendered line_items/create.js.erb (7.5ms)
Completed 200 OK in 99ms (Views: 8.9ms | ActiveRecord: 85.5ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:29:54 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1  [["title", "Мороженое"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 2], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:29:54.569031"], ["updated_at", "2017-08-29 11:29:54.569031"]]
  [1m[36m (111.9ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.1ms)
  Rendered line_items/_line_item.html.erb (6.6ms)
  Rendered line_items/create.js.erb (7.7ms)
Completed 200 OK in 126ms (Views: 9.0ms | ActiveRecord: 112.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:29:55 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1  [["title", "Мороженое"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 2], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:29:55.291312"], ["updated_at", "2017-08-29 11:29:55.291312"]]
  [1m[36m (77.4ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.4ms)
  Rendered line_items/_line_item.html.erb (10.3ms)
  Rendered line_items/create.js.erb (12.3ms)
Completed 200 OK in 99ms (Views: 15.5ms | ActiveRecord: 78.7ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:29:59 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1  [["title", "Мороженое"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 2], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:29:59.914554"], ["updated_at", "2017-08-29 11:29:59.914554"]]
  [1m[36m (80.8ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.3ms)
  Rendered line_items/_line_item.html.erb (8.1ms)
  Rendered line_items/create.js.erb (9.4ms)
Completed 200 OK in 125ms (Views: 39.0ms | ActiveRecord: 81.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:30:02 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1  [["title", "Мороженое"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 2], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:30:02.039164"], ["updated_at", "2017-08-29 11:30:02.039164"]]
  [1m[36m (97.2ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.3ms)
  Rendered line_items/_line_item.html.erb (8.0ms)
  Rendered line_items/create.js.erb (9.1ms)
Completed 200 OK in 113ms (Views: 10.5ms | ActiveRecord: 98.2ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 17:30:04 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[35mSQL (77.2ms)[0m  DELETE FROM "line_items"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (3.0ms)
  Rendered line_items/destroy_all.js.erb (3.8ms)
Completed 200 OK in 84ms (Views: 5.3ms | ActiveRecord: 77.5ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:30:09 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1[0m  [["title", "Мороженое"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:30:09.334612"], ["updated_at", "2017-08-29 11:30:09.334612"]]
  [1m[35m (90.8ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (2.1ms)
  Rendered line_items/_line_item.html.erb (10.5ms)
  Rendered line_items/create.js.erb (12.0ms)
Completed 200 OK in 111ms (Views: 14.7ms | ActiveRecord: 91.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:30:11 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1[0m  [["title", "Мороженое"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 2], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:30:11.693158"], ["updated_at", "2017-08-29 11:30:11.693158"]]
  [1m[35m (84.0ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (3.2ms)
  Rendered line_items/_line_item.html.erb (11.9ms)
  Rendered line_items/create.js.erb (13.3ms)
Completed 200 OK in 104ms (Views: 14.6ms | ActiveRecord: 85.4ms)


Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 17:30:24 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 8]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 10]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 14]]
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (35.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.6ms)
  Rendered line_items/_line_item.html.erb (10.9ms)
Completed 200 OK in 123ms (Views: 98.9ms | ActiveRecord: 3.3ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 17:30:27 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (80.8ms)[0m  [1mDELETE FROM "line_items"[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (6.7ms)
  Rendered line_items/destroy_all.js.erb (8.6ms)
Completed 200 OK in 99ms (Views: 15.2ms | ActiveRecord: 81.3ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:30:28 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1  [["title", "Мороженое"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:30:28.434358"], ["updated_at", "2017-08-29 11:30:28.434358"]]
  [1m[36m (95.1ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.4ms)
  Rendered line_items/_line_item.html.erb (8.7ms)
  Rendered line_items/create.js.erb (10.3ms)
Completed 200 OK in 115ms (Views: 12.9ms | ActiveRecord: 96.4ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:30:28 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1  [["title", "Мороженое"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:30:28.853212"], ["updated_at", "2017-08-29 11:30:28.853212"]]
  [1m[36m (75.9ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.1ms)
  Rendered line_items/_line_item.html.erb (6.4ms)
  Rendered line_items/create.js.erb (7.5ms)
Completed 200 OK in 90ms (Views: 8.8ms | ActiveRecord: 76.8ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:30:29 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1  [["title", "Мороженое"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:30:29.169916"], ["updated_at", "2017-08-29 11:30:29.169916"]]
  [1m[36m (80.5ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.2ms)
  Rendered line_items/_line_item.html.erb (6.9ms)
  Rendered line_items/create.js.erb (8.0ms)
Completed 200 OK in 96ms (Views: 9.5ms | ActiveRecord: 81.5ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:30:29 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1  [["title", "Мороженое"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:30:29.415691"], ["updated_at", "2017-08-29 11:30:29.415691"]]
  [1m[36m (68.3ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.4ms)
  Rendered line_items/_line_item.html.erb (11.1ms)
  Rendered line_items/create.js.erb (13.4ms)
Completed 200 OK in 90ms (Views: 16.0ms | ActiveRecord: 69.5ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 17:30:32 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[35mSQL (84.3ms)[0m  DELETE FROM "line_items"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (3.1ms)
  Rendered line_items/destroy_all.js.erb (4.0ms)
Completed 200 OK in 92ms (Views: 5.5ms | ActiveRecord: 84.6ms)


Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 17:33:15 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 8]]
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 10]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 14]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (34.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (5.0ms)
Completed 200 OK in 129ms (Views: 110.0ms | ActiveRecord: 3.3ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:33:18 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1[0m  [["title", "Мороженое"]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (3.2ms)
  Rendered line_items/create.js.erb (4.3ms)
Completed 200 OK in 12ms (Views: 8.5ms | ActiveRecord: 0.6ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:33:19 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1  [["title", "Мороженое"]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (3.4ms)
  Rendered line_items/create.js.erb (4.7ms)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 0.4ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:33:19 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1[0m  [["title", "Мороженое"]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (3.9ms)
  Rendered line_items/create.js.erb (5.1ms)
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 0.5ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:33:19 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1  [["title", "Мороженое"]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (2.9ms)
  Rendered line_items/create.js.erb (4.0ms)
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 0.4ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:33:19 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1[0m  [["title", "Мороженое"]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (3.2ms)
  Rendered line_items/create.js.erb (4.3ms)
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 0.4ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:33:20 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1  [["title", "Мороженое"]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (4.2ms)
  Rendered line_items/create.js.erb (5.2ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.6ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:37:33 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1[0m  [["title", "Мороженое"]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (3.3ms)
  Rendered line_items/create.js.erb (4.5ms)
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 0.4ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:37:33 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1  [["title", "Мороженое"]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (3.0ms)
  Rendered line_items/create.js.erb (4.0ms)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 0.4ms)


Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 17:37:34 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 8]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 10]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 14]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (8.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (3.3ms)
Completed 200 OK in 105ms (Views: 101.6ms | ActiveRecord: 1.1ms)


Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 17:37:42 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 8]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 10]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 14]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (33.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (5.0ms)
Completed 200 OK in 112ms (Views: 93.6ms | ActiveRecord: 3.2ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:37:44 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1[0m  [["title", "Мороженое"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:37:44.183279"], ["updated_at", "2017-08-29 11:37:44.183279"]]
  [1m[35m (108.3ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.5ms)
  Rendered line_items/_line_item.html.erb (9.4ms)
  Rendered line_items/create.js.erb (10.6ms)
Completed 200 OK in 130ms (Views: 14.6ms | ActiveRecord: 109.7ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:37:46 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"4"}, "commit"=>"Добавить"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1[0m  [["title", "Мороженое"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 5], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:37:46.257869"], ["updated_at", "2017-08-29 11:37:46.257869"]]
  [1m[35m (288.7ms)[0m  commit transaction
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.2ms)
  Rendered line_items/_line_item.html.erb (7.8ms)
  Rendered line_items/create.js.erb (9.1ms)
Completed 200 OK in 304ms (Views: 10.3ms | ActiveRecord: 289.8ms)


Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 17:38:24 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 8]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 10]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 14]]
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (32.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.4ms)
  Rendered line_items/_line_item.html.erb (10.8ms)
Completed 200 OK in 113ms (Views: 93.9ms | ActiveRecord: 3.4ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:38:26 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1[0m  [["title", "Мороженое"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1
  [1m[36mSQL (86.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 192]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 2], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:38:27.007789"], ["updated_at", "2017-08-29 11:38:27.007789"]]
  [1m[35m (75.0ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.6ms)
  Rendered line_items/_line_item.html.erb (8.0ms)
  Rendered line_items/create.js.erb (9.5ms)
Completed 200 OK in 183ms (Views: 13.7ms | ActiveRecord: 162.4ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:38:30 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"6"}, "commit"=>"Добавить"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1[0m  [["title", "Мороженое"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1
  [1m[36mSQL (77.8ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 193]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 7], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:38:30.746955"], ["updated_at", "2017-08-29 11:38:30.746955"]]
  [1m[35m (96.2ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.3ms)
  Rendered line_items/_line_item.html.erb (7.5ms)
  Rendered line_items/create.js.erb (8.7ms)
Completed 200 OK in 193ms (Views: 10.3ms | ActiveRecord: 175.4ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:38:33 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"6"}, "commit"=>"Добавить"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1[0m  [["title", "Мороженое"]]
  [1m[35mLineItem Load (0.3ms)[0m  SELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1
  [1m[36mSQL (73.4ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 194]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 7], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:38:33.842274"], ["updated_at", "2017-08-29 11:38:33.842274"]]
  [1m[35m (84.9ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.5ms)
  Rendered line_items/_line_item.html.erb (7.6ms)
  Rendered line_items/create.js.erb (8.8ms)
Completed 200 OK in 177ms (Views: 10.4ms | ActiveRecord: 159.7ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:38:36 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"9"}, "commit"=>"Добавить"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1[0m  [["title", "Мороженое"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1
  [1m[36mSQL (92.4ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 195]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 10], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:38:37.092428"], ["updated_at", "2017-08-29 11:38:37.092428"]]
  [1m[35m (75.4ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.6ms)
  Rendered line_items/_line_item.html.erb (7.2ms)
  Rendered line_items/create.js.erb (8.3ms)
Completed 200 OK in 184ms (Views: 9.9ms | ActiveRecord: 169.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:38:41 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"14"}, "commit"=>"Добавить"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1[0m  [["title", "Мороженое"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1
  [1m[36mSQL (80.6ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 196]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 15], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:38:41.818629"], ["updated_at", "2017-08-29 11:38:41.818629"]]
  [1m[35m (86.5ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.3ms)
  Rendered line_items/_line_item.html.erb (12.1ms)
  Rendered line_items/create.js.erb (13.9ms)
Completed 200 OK in 191ms (Views: 16.7ms | ActiveRecord: 168.7ms)


Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 17:38:46 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 8]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 10]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 14]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (8.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.4ms)
  Rendered line_items/_line_item.html.erb (7.7ms)
Completed 200 OK in 76ms (Views: 72.2ms | ActiveRecord: 1.3ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 17:38:52 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (90.6ms)[0m  [1mDELETE FROM "line_items"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (3.9ms)
  Rendered line_items/destroy_all.js.erb (5.0ms)
Completed 200 OK in 100ms (Views: 7.1ms | ActiveRecord: 91.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:38:53 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1  [["title", "Мороженое"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:38:53.850140"], ["updated_at", "2017-08-29 11:38:53.850140"]]
  [1m[36m (169.9ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.5ms)
  Rendered line_items/_line_item.html.erb (7.2ms)
  Rendered line_items/create.js.erb (8.6ms)
Completed 200 OK in 185ms (Views: 10.4ms | ActiveRecord: 170.8ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:38:56 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"5"}, "commit"=>"Добавить"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1  [["title", "Мороженое"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1[0m
  [1m[35mSQL (111.9ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 198]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 6], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:38:57.084576"], ["updated_at", "2017-08-29 11:38:57.084576"]]
  [1m[36m (63.9ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.5ms)
  Rendered line_items/_line_item.html.erb (7.2ms)
  Rendered line_items/create.js.erb (8.2ms)
Completed 200 OK in 193ms (Views: 9.8ms | ActiveRecord: 176.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:39:01 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"9"}, "commit"=>"Добавить"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1  [["title", "Мороженое"]]
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1[0m
  [1m[35mSQL (91.9ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 199]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 10], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:39:01.222804"], ["updated_at", "2017-08-29 11:39:01.222804"]]
  [1m[36m (63.8ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.2ms)
  Rendered line_items/_line_item.html.erb (6.9ms)
  Rendered line_items/create.js.erb (8.2ms)
Completed 200 OK in 173ms (Views: 9.7ms | ActiveRecord: 157.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:39:13 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"ацацаауа", "price"=>"45.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1  [["title", "ацацаауа"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "ацацаауа"], ["quantity", 1], ["price", 45.0], ["cart_id", 5], ["created_at", "2017-08-29 11:39:13.076149"], ["updated_at", "2017-08-29 11:39:13.076149"]]
  [1m[36m (92.6ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.6ms)
  Rendered line_items/_line_item.html.erb (7.7ms)
  Rendered line_items/create.js.erb (9.4ms)
Completed 200 OK in 110ms (Views: 11.2ms | ActiveRecord: 93.5ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:39:15 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"9"}, "commit"=>"Добавить"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."title" = ? LIMIT 1  [["title", "Мороженое"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1[0m
  [1m[35mSQL (85.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 201]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 10], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:39:15.500974"], ["updated_at", "2017-08-29 11:39:15.500974"]]
  [1m[36m (75.2ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.6ms)
  Rendered line_items/_line_item.html.erb (7.8ms)
  Rendered line_items/create.js.erb (9.1ms)
Completed 200 OK in 207ms (Views: 10.6ms | ActiveRecord: 161.7ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 17:39:20 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[35mSQL (78.7ms)[0m  DELETE FROM "line_items"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (3.5ms)
  Rendered line_items/destroy_all.js.erb (4.4ms)
Completed 200 OK in 87ms (Views: 6.0ms | ActiveRecord: 79.0ms)


Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 17:41:01 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 8]]
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 10]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 14]]
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (35.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (4.9ms)
Completed 200 OK in 117ms (Views: 97.1ms | ActiveRecord: 3.4ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:41:04 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:41:04.246247"], ["updated_at", "2017-08-29 11:41:04.246247"]]
  [1m[36m (154.2ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.5ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.7ms)
  Rendered line_items/_line_item.html.erb (28.7ms)
  Rendered line_items/create.js.erb (30.0ms)
Completed 200 OK in 193ms (Views: 33.5ms | ActiveRecord: 155.7ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:41:04 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:41:04.448543"], ["updated_at", "2017-08-29 11:41:04.448543"]]
  [1m[35m (83.7ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (2.0ms)
  Rendered line_items/_line_item.html.erb (17.4ms)
  Rendered line_items/create.js.erb (18.7ms)
Completed 200 OK in 112ms (Views: 20.1ms | ActiveRecord: 84.8ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:41:04 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:41:04.568846"], ["updated_at", "2017-08-29 11:41:04.568846"]]
  [1m[36m (85.8ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.5ms)
  Rendered line_items/_line_item.html.erb (8.2ms)
  Rendered line_items/create.js.erb (9.4ms)
Completed 200 OK in 109ms (Views: 16.7ms | ActiveRecord: 86.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:41:04 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:41:04.684867"], ["updated_at", "2017-08-29 11:41:04.684867"]]
  [1m[35m (102.9ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.7ms)
  Rendered line_items/_line_item.html.erb (10.4ms)
  Rendered line_items/create.js.erb (12.2ms)
Completed 200 OK in 125ms (Views: 15.2ms | ActiveRecord: 104.7ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:41:09 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"5"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 5], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:41:09.175441"], ["updated_at", "2017-08-29 11:41:09.175441"]]
  [1m[36m (95.2ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.8ms)
  Rendered line_items/_line_item.html.erb (8.9ms)
  Rendered line_items/create.js.erb (10.1ms)
Completed 200 OK in 112ms (Views: 11.6ms | ActiveRecord: 96.1ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 17:41:29 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[35mSQL (105.3ms)[0m  DELETE FROM "line_items"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (3.9ms)
  Rendered line_items/destroy_all.js.erb (4.7ms)
Completed 200 OK in 113ms (Views: 6.1ms | ActiveRecord: 105.7ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 17:41:36 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (2.6ms)
Completed 200 OK in 63ms (Views: 61.3ms | ActiveRecord: 0.3ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-08-29 17:41:40 +0600
Processing by Admin::CategoriesController#index as HTML
  [1m[35mCategory Load (0.3ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  Rendered admin/categories/index.html.erb within layouts/admin (9.0ms)
Completed 200 OK in 81ms (Views: 79.0ms | ActiveRecord: 0.8ms)


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 17:41:42 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 11]]
  Rendered admin/dishes/index.html.erb within layouts/admin (15.3ms)
Completed 200 OK in 79ms (Views: 73.1ms | ActiveRecord: 1.5ms)
  [1m[36mCategory Load (1.6ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mEstablishment Load (0.5ms)[0m  SELECT "establishments".* FROM "establishments"


Started GET "/admin/dishes" for 127.0.0.1 at 2017-08-29 17:48:42 +0600
Processing by Admin::DishesController#index as HTML
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes"
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 11]]
  Rendered admin/dishes/index.html.erb within layouts/admin (13.0ms)
Completed 200 OK in 70ms (Views: 67.5ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 17:48:47 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.4ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (4.2ms)
Completed 200 OK in 99ms (Views: 97.0ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 17:48:48 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (4.8ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (3.0ms)
Completed 200 OK in 75ms (Views: 73.2ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 17:49:28 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 63ms (Views: 60.9ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 17:49:36 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.7ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (2.9ms)
Completed 200 OK in 62ms (Views: 60.3ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 17:49:39 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (3.1ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (3.1ms)
Completed 200 OK in 71ms (Views: 69.5ms | ActiveRecord: 0.6ms)


Started GET "/establishments/7" for 127.0.0.1 at 2017-08-29 17:49:41 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 7]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 9]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 13]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (15.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (2.9ms)
Completed 200 OK in 84ms (Views: 80.4ms | ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 17:49:41 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (3.1ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (2.9ms)
Completed 200 OK in 78ms (Views: 76.2ms | ActiveRecord: 0.7ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 17:49:45 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered admin/establishments/index.html.erb within layouts/admin (2.5ms)
Completed 200 OK in 58ms (Views: 56.4ms | ActiveRecord: 0.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-08-29 17:49:47 +0600
Processing by Admin::EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered admin/establishments/index.html.erb within layouts/admin (5.4ms)
Completed 200 OK in 114ms (Views: 111.9ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 17:49:48 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.5ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (3.2ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (2.9ms)
Completed 200 OK in 90ms (Views: 88.3ms | ActiveRecord: 0.8ms)


Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 17:49:51 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 8]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 10]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 14]]
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 16]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (14.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (3.1ms)
Completed 200 OK in 86ms (Views: 82.8ms | ActiveRecord: 1.5ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:49:52 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:49:52.578916"], ["updated_at", "2017-08-29 11:49:52.578916"]]
  [1m[35m (87.7ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (3.3ms)
  Rendered line_items/_line_item.html.erb (11.3ms)
  Rendered line_items/create.js.erb (14.0ms)
Completed 200 OK in 111ms (Views: 17.4ms | ActiveRecord: 88.8ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:49:52 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:49:52.701805"], ["updated_at", "2017-08-29 11:49:52.701805"]]
  [1m[36m (97.4ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.6ms)
  Rendered line_items/_line_item.html.erb (8.8ms)
  Rendered line_items/create.js.erb (10.0ms)
Completed 200 OK in 115ms (Views: 11.3ms | ActiveRecord: 98.5ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:49:52 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:49:52.836023"], ["updated_at", "2017-08-29 11:49:52.836023"]]
  [1m[35m (63.3ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.3ms)
  Rendered line_items/_line_item.html.erb (8.4ms)
  Rendered line_items/create.js.erb (9.5ms)
Completed 200 OK in 80ms (Views: 10.8ms | ActiveRecord: 64.3ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:49:52 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:49:52.973159"], ["updated_at", "2017-08-29 11:49:52.973159"]]
  [1m[36m (103.7ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.9ms)
  Rendered line_items/_line_item.html.erb (9.8ms)
  Rendered line_items/create.js.erb (11.1ms)
Completed 200 OK in 125ms (Views: 16.3ms | ActiveRecord: 104.8ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:49:53 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:49:53.105983"], ["updated_at", "2017-08-29 11:49:53.105983"]]
  [1m[35m (69.8ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (2.2ms)
  Rendered line_items/_line_item.html.erb (8.3ms)
  Rendered line_items/create.js.erb (9.6ms)
Completed 200 OK in 87ms (Views: 11.1ms | ActiveRecord: 70.8ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 17:49:56 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (61.0ms)[0m  [1mDELETE FROM "line_items"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (3.0ms)
  Rendered line_items/destroy_all.js.erb (3.9ms)
Completed 200 OK in 69ms (Views: 5.6ms | ActiveRecord: 61.3ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddColumnToLineItem (20170829115407)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "line_items" ADD "dish_id" integer[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170829115407"]]
  [1m[36m (112.8ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_categories_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_categories_on_establishment_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_category_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
[0m


Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 17:58:39 +0600
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 8]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 10]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 14]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (35.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (4.9ms)
Completed 200 OK in 141ms (Views: 120.6ms | ActiveRecord: 2.8ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 17:58:47 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 11:58:47.335081"], ["updated_at", "2017-08-29 11:58:47.335081"]]
  [1m[36m (76.9ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (2.3ms)
  Rendered line_items/_line_item.html.erb (14.1ms)
  Rendered line_items/create.js.erb (16.2ms)
Completed 200 OK in 106ms (Views: 23.1ms | ActiveRecord: 78.3ms)
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1[0m


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 17:59:22 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[35mSQL (68.2ms)[0m  DELETE FROM "line_items"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (2.9ms)
  Rendered line_items/destroy_all.js.erb (3.8ms)
Completed 200 OK in 76ms (Views: 5.4ms | ActiveRecord: 68.5ms)


Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 18:00:06 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 8]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 10]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 14]]
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (64.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (4.9ms)
Completed 200 OK in 140ms (Views: 121.2ms | ActiveRecord: 3.1ms)


Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 18:02:14 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.4ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 8]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 10]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 14]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (39.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (6.1ms)
Completed 200 OK in 130ms (Views: 109.1ms | ActiveRecord: 3.7ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:02:17 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mDish Load (0.3ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", nil]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.3ms)

ActiveRecord::RecordNotFound (Couldn't find Dish with 'id'=):
  app/controllers/line_items_controller.rb:4:in `create'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (38.4ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:02:19 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mDish Load (0.1ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", nil]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.1ms)

ActiveRecord::RecordNotFound (Couldn't find Dish with 'id'=):
  app/controllers/line_items_controller.rb:4:in `create'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (31.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:02:19 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", nil]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.1ms)

ActiveRecord::RecordNotFound (Couldn't find Dish with 'id'=):
  app/controllers/line_items_controller.rb:4:in `create'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (41.5ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:02:19 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", nil]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms)

ActiveRecord::RecordNotFound (Couldn't find Dish with 'id'=):
  app/controllers/line_items_controller.rb:4:in `create'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (33.8ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:02:19 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", nil]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.1ms)

ActiveRecord::RecordNotFound (Couldn't find Dish with 'id'=):
  app/controllers/line_items_controller.rb:4:in `create'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (23.3ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:02:19 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mDish Load (0.1ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", nil]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.1ms)

ActiveRecord::RecordNotFound (Couldn't find Dish with 'id'=):
  app/controllers/line_items_controller.rb:4:in `create'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (24.5ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:02:19 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", nil]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms)

ActiveRecord::RecordNotFound (Couldn't find Dish with 'id'=):
  app/controllers/line_items_controller.rb:4:in `create'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (24.3ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:02:19 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mDish Load (0.1ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", nil]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.1ms)

ActiveRecord::RecordNotFound (Couldn't find Dish with 'id'=):
  app/controllers/line_items_controller.rb:4:in `create'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (28.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:02:20 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", nil]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.2ms)

ActiveRecord::RecordNotFound (Couldn't find Dish with 'id'=):
  app/controllers/line_items_controller.rb:4:in `create'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (2.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (37.2ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:02:20 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", nil]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms)

ActiveRecord::RecordNotFound (Couldn't find Dish with 'id'=):
  app/controllers/line_items_controller.rb:4:in `create'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (29.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:02:20 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", nil]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.2ms)

ActiveRecord::RecordNotFound (Couldn't find Dish with 'id'=):
  app/controllers/line_items_controller.rb:4:in `create'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (40.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:02:20 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35mDish Load (0.2ms)[0m  SELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1  [["id", nil]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.2ms)

ActiveRecord::RecordNotFound (Couldn't find Dish with 'id'=):
  app/controllers/line_items_controller.rb:4:in `create'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (26.4ms)


Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 18:02:22 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 8]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 10]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 14]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (10.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (3.5ms)
Completed 200 OK in 116ms (Views: 112.5ms | ActiveRecord: 1.3ms)


Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 18:03:25 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 8]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 10]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 14]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (34.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (5.5ms)
Completed 200 OK in 116ms (Views: 96.4ms | ActiveRecord: 3.3ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:03:26 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT  "dishes".* FROM "dishes" WHERE "dishes"."id" = ? LIMIT 1[0m  [["id", nil]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.2ms)

ActiveRecord::RecordNotFound (Couldn't find Dish with 'id'=):
  app/controllers/line_items_controller.rb:7:in `create'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (23.5ms)


Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 18:03:31 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 8]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 10]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 14]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 16]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (9.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (3.0ms)
Completed 200 OK in 76ms (Views: 72.0ms | ActiveRecord: 1.0ms)


Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 18:03:57 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 8]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 10]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 14]]
  [1m[35mCart Load (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 16]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (36.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (5.8ms)
Completed 200 OK in 153ms (Views: 133.1ms | ActiveRecord: 3.5ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:03:58 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 12:03:58.778475"], ["updated_at", "2017-08-29 12:03:58.778475"]]
  [1m[35m (274.2ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.5ms)
  Rendered line_items/_line_item.html.erb (14.3ms)
  Rendered line_items/create.js.erb (20.9ms)
Completed 200 OK in 310ms (Views: 30.3ms | ActiveRecord: 275.8ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:03:59 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 12:03:59.096156"], ["updated_at", "2017-08-29 12:03:59.096156"]]
  [1m[36m (98.7ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.6ms)
  Rendered line_items/_line_item.html.erb (13.7ms)
  Rendered line_items/create.js.erb (14.7ms)
Completed 200 OK in 121ms (Views: 16.3ms | ActiveRecord: 99.6ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:03:59 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 12:03:59.225244"], ["updated_at", "2017-08-29 12:03:59.225244"]]
  [1m[35m (91.6ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.4ms)
  Rendered line_items/_line_item.html.erb (8.2ms)
  Rendered line_items/create.js.erb (10.0ms)
Completed 200 OK in 109ms (Views: 11.3ms | ActiveRecord: 92.6ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:03:59 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 12:03:59.341751"], ["updated_at", "2017-08-29 12:03:59.341751"]]
  [1m[36m (63.9ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (2.0ms)
  Rendered line_items/_line_item.html.erb (10.7ms)
  Rendered line_items/create.js.erb (12.3ms)
Completed 200 OK in 84ms (Views: 14.3ms | ActiveRecord: 65.1ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 18:04:02 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[35mSQL (74.7ms)[0m  DELETE FROM "line_items"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (3.1ms)
  Rendered line_items/destroy_all.js.erb (4.3ms)
Completed 200 OK in 83ms (Views: 6.0ms | ActiveRecord: 75.0ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:04:03 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 12:04:03.073596"], ["updated_at", "2017-08-29 12:04:03.073596"]]
  [1m[36m (104.3ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.6ms)
  Rendered line_items/_line_item.html.erb (8.7ms)
  Rendered line_items/create.js.erb (9.8ms)
Completed 200 OK in 121ms (Views: 11.1ms | ActiveRecord: 105.4ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 18:04:04 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[35mSQL (81.1ms)[0m  DELETE FROM "line_items"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (3.4ms)
  Rendered line_items/destroy_all.js.erb (4.3ms)
Completed 200 OK in 89ms (Views: 5.9ms | ActiveRecord: 81.4ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to AddColumnToLineItem (20170829115407)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  CREATE TEMPORARY TABLE "aline_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "price" decimal, "quantity" integer, "cart_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "dish_id" integer) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "line_items"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "price" decimal, "quantity" integer, "cart_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aline_items_on_cart_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aline_items_on_cart_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aline_items"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aline_items"
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170829115407"]]
  [1m[35m (104.9ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_categories_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_categories_on_establishment_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_category_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_line_items_on_cart_id' AND type='index'



Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 18:05:41 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 8]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 10]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 14]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (44.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered line_items/_line_item.html.erb (5.3ms)
Completed 200 OK in 127ms (Views: 106.8ms | ActiveRecord: 3.6ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:05:43 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 12:05:43.514977"], ["updated_at", "2017-08-29 12:05:43.514977"]]
  [1m[36m (88.5ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.5ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.7ms)
  Rendered line_items/_line_item.html.erb (11.4ms)
  Rendered line_items/create.js.erb (12.8ms)
Completed 200 OK in 112ms (Views: 17.8ms | ActiveRecord: 89.8ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:05:43 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 12:05:43.648892"], ["updated_at", "2017-08-29 12:05:43.648892"]]
  [1m[35m (65.8ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.4ms)
  Rendered line_items/_line_item.html.erb (7.3ms)
  Rendered line_items/create.js.erb (8.9ms)
Completed 200 OK in 82ms (Views: 10.9ms | ActiveRecord: 66.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:05:43 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 12:05:43.783586"], ["updated_at", "2017-08-29 12:05:43.783586"]]
  [1m[36m (85.8ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.4ms)
  Rendered line_items/_line_item.html.erb (13.3ms)
  Rendered line_items/create.js.erb (14.8ms)
Completed 200 OK in 109ms (Views: 17.4ms | ActiveRecord: 86.9ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:05:43 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 12:05:43.899778"], ["updated_at", "2017-08-29 12:05:43.899778"]]
  [1m[35m (68.8ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.6ms)
  Rendered line_items/_line_item.html.erb (8.2ms)
  Rendered line_items/create.js.erb (9.8ms)
Completed 200 OK in 88ms (Views: 11.4ms | ActiveRecord: 69.8ms)


Started POST "/carts" for 127.0.0.1 at 2017-08-29 18:05:45 +0600
Processing by CartsController#create as HTML
  Parameters: {"authenticity_token"=>"sIZ088uOMAZEVjJcJAy8KbAV5+m+PI7IemR4ss8dA8i/KuIsDABVGF2wM/zq+oZVYckpN7DtNEPeN36sc2/6Jg=="}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)

ActiveRecord::UnknownAttributeError (unknown attribute 'status' for Cart.):
  app/controllers/carts_controller.rb:4:in `create'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (31.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (24.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (51.1ms)


Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 18:06:13 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.6ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 8]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 10]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 14]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (44.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.7ms)
  Rendered line_items/_line_item.html.erb (12.2ms)
Completed 200 OK in 146ms (Views: 120.3ms | ActiveRecord: 4.4ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:06:14 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"5", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 5], ["created_at", "2017-08-29 12:06:14.671648"], ["updated_at", "2017-08-29 12:06:14.671648"]]
  [1m[36m (95.4ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/_cart.erb (1.7ms)
  Rendered line_items/_line_item.html.erb (8.6ms)
  Rendered line_items/create.js.erb (10.0ms)
Completed 200 OK in 116ms (Views: 15.0ms | ActiveRecord: 96.5ms)


Started POST "/carts" for 127.0.0.1 at 2017-08-29 18:06:16 +0600
Processing by CartsController#create as HTML
  Parameters: {"authenticity_token"=>"UlxXjGeIi4Tj1rwAm1IX8Xf6taVpfOw6CbIyz4ov8HZd8MFToAbumvowvaBVpC2NpiZ7e2etVrGt4TTRNl0JmA=="}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2017-08-29 12:06:16.696853"], ["updated_at", "2017-08-29 12:06:16.696853"]]
  [1m[35m (79.1ms)[0m  commit transaction
  Rendered carts/create.html.erb within layouts/application (0.4ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 6]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 6]]
  Rendered line_items/_line_item.html.erb (3.1ms)
Completed 200 OK in 147ms (Views: 64.1ms | ActiveRecord: 79.8ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 18:06:20 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (3.2ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  Rendered line_items/_line_item.html.erb (3.0ms)
Completed 200 OK in 82ms (Views: 78.7ms | ActiveRecord: 0.6ms)
  [1m[36mCart Load (1.9ms)[0m  [1mSELECT "carts".* FROM "carts"[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 6]]
  [1m[36m (106.4ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 5]]
  [1m[36m (73.0ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT "carts".* FROM "carts"
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 4]]
  [1m[35m (77.5ms)[0m  commit transaction
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT "carts".* FROM "carts"[0m


Started GET "/" for 127.0.0.1 at 2017-08-29 18:07:14 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.5ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (3.0ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.0ms)
Completed 200 OK in 66ms (Views: 64.0ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 18:07:16 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.4ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.5ms)
Completed 200 OK in 68ms (Views: 65.9ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 18:07:17 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (1.8ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (5.5ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.0ms)
Completed 200 OK in 84ms (Views: 80.0ms | ActiveRecord: 2.1ms)
  [1m[36mLineItem Load (1.5ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m


Started GET "/" for 127.0.0.1 at 2017-08-29 18:09:16 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.3ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.2ms)
Completed 200 OK in 98ms (Views: 96.0ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 18:11:20 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.5ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (8.1ms)
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (12.4ms)
Completed 200 OK in 95ms (Views: 86.2ms | ActiveRecord: 1.8ms)


Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 18:11:22 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.4ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 8]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 10]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 14]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (37.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (2.9ms)
Completed 200 OK in 103ms (Views: 92.5ms | ActiveRecord: 2.4ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:11:26 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 1], ["created_at", "2017-08-29 12:11:26.206771"], ["updated_at", "2017-08-29 12:11:26.206771"]]
  [1m[36m (78.1ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.7ms)
  Rendered line_items/_line_item.html.erb (13.4ms)
  Rendered line_items/create.js.erb (15.4ms)
Completed 200 OK in 105ms (Views: 21.5ms | ActiveRecord: 79.5ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:11:26 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 1], ["created_at", "2017-08-29 12:11:26.329078"], ["updated_at", "2017-08-29 12:11:26.329078"]]
  [1m[35m (65.4ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.1ms)
  Rendered line_items/_line_item.html.erb (8.1ms)
  Rendered line_items/create.js.erb (9.1ms)
Completed 200 OK in 82ms (Views: 10.7ms | ActiveRecord: 66.5ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:11:26 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 1], ["created_at", "2017-08-29 12:11:26.468573"], ["updated_at", "2017-08-29 12:11:26.468573"]]
  [1m[36m (193.6ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.2ms)
  Rendered line_items/_line_item.html.erb (10.6ms)
  Rendered line_items/create.js.erb (12.2ms)
Completed 200 OK in 215ms (Views: 16.8ms | ActiveRecord: 194.7ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:11:26 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 1], ["created_at", "2017-08-29 12:11:26.693117"], ["updated_at", "2017-08-29 12:11:26.693117"]]
  [1m[35m (79.0ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.6ms)
  Rendered line_items/_line_item.html.erb (15.9ms)
  Rendered line_items/create.js.erb (17.7ms)
Completed 200 OK in 110ms (Views: 22.3ms | ActiveRecord: 80.4ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:11:26 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 1], ["created_at", "2017-08-29 12:11:26.808022"], ["updated_at", "2017-08-29 12:11:26.808022"]]
  [1m[36m (75.0ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.erb (2.9ms)
  Rendered line_items/_line_item.html.erb (12.5ms)
  Rendered line_items/create.js.erb (14.4ms)
Completed 200 OK in 104ms (Views: 16.9ms | ActiveRecord: 76.3ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:11:26 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 1], ["created_at", "2017-08-29 12:11:26.919413"], ["updated_at", "2017-08-29 12:11:26.919413"]]
  [1m[35m (74.8ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.erb (1.9ms)
  Rendered line_items/_line_item.html.erb (9.3ms)
  Rendered line_items/create.js.erb (10.6ms)
Completed 200 OK in 92ms (Views: 12.2ms | ActiveRecord: 75.8ms)
  [1m[35mLineItem Load (0.5ms)[0m  SELECT "line_items".* FROM "line_items"


Started POST "/carts" for 127.0.0.1 at 2017-08-29 18:11:53 +0600
Processing by CartsController#create as HTML
  Parameters: {"authenticity_token"=>"5NT1YdrkOv9ar1DK/IyLZu2jKueskYtBJpUD9KFXxMzreGO+HWpf4UNJUWoyerEaPH/kOaJAMcqCxgXqHSU9Ig=="}
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", "2017-08-29 12:11:53.774900"], ["updated_at", "2017-08-29 12:11:53.774900"]]
  [1m[36m (89.3ms)[0m  [1mcommit transaction[0m
  Rendered carts/create.html.erb within layouts/application (0.3ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  Rendered line_items/_line_item.html.erb (3.1ms)
Completed 200 OK in 159ms (Views: 63.7ms | ActiveRecord: 90.2ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT "carts".* FROM "carts"[0m


Started GET "/" for 127.0.0.1 at 2017-08-29 18:12:09 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.4ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 7]]
  Rendered line_items/_line_item.html.erb (3.0ms)
Completed 200 OK in 111ms (Views: 109.7ms | ActiveRecord: 0.5ms)


Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 18:12:11 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 8]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 10]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 14]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (14.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 7]]
  Rendered line_items/_line_item.html.erb (3.2ms)
Completed 200 OK in 87ms (Views: 84.1ms | ActiveRecord: 1.4ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:12:12 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"7", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 7], ["created_at", "2017-08-29 12:12:12.990321"], ["updated_at", "2017-08-29 12:12:12.990321"]]
  [1m[36m (190.2ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  Rendered carts/_cart.erb (1.1ms)
  Rendered line_items/_line_item.html.erb (9.4ms)
  Rendered line_items/create.js.erb (11.2ms)
Completed 200 OK in 213ms (Views: 13.8ms | ActiveRecord: 191.3ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:12:13 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"7", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 7], ["created_at", "2017-08-29 12:12:13.211745"], ["updated_at", "2017-08-29 12:12:13.211745"]]
  [1m[35m (126.0ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 7]]
  Rendered carts/_cart.erb (1.9ms)
  Rendered line_items/_line_item.html.erb (10.0ms)
  Rendered line_items/create.js.erb (11.3ms)
Completed 200 OK in 151ms (Views: 18.2ms | ActiveRecord: 127.2ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:12:13 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"7", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 7], ["created_at", "2017-08-29 12:12:13.368372"], ["updated_at", "2017-08-29 12:12:13.368372"]]
  [1m[36m (111.2ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  Rendered carts/_cart.erb (1.4ms)
  Rendered line_items/_line_item.html.erb (9.2ms)
  Rendered line_items/create.js.erb (11.3ms)
Completed 200 OK in 137ms (Views: 16.9ms | ActiveRecord: 113.8ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:12:13 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"7", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 7], ["created_at", "2017-08-29 12:12:13.513738"], ["updated_at", "2017-08-29 12:12:13.513738"]]
  [1m[35m (112.5ms)[0m  commit transaction
  [1m[36mCart Load (0.8ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 7]]
  Rendered carts/_cart.erb (2.3ms)
  Rendered line_items/_line_item.html.erb (19.4ms)
  Rendered line_items/create.js.erb (21.3ms)
Completed 200 OK in 148ms (Views: 28.8ms | ActiveRecord: 114.3ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:12:13 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"7", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 7], ["created_at", "2017-08-29 12:12:13.667889"], ["updated_at", "2017-08-29 12:12:13.667889"]]
  [1m[36m (102.3ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  Rendered carts/_cart.erb (1.7ms)
  Rendered line_items/_line_item.html.erb (10.0ms)
  Rendered line_items/create.js.erb (11.6ms)
Completed 200 OK in 127ms (Views: 18.0ms | ActiveRecord: 103.6ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:12:13 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"7", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 7], ["created_at", "2017-08-29 12:12:13.806896"], ["updated_at", "2017-08-29 12:12:13.806896"]]
  [1m[35m (93.4ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 7]]
  Rendered carts/_cart.erb (2.1ms)
  Rendered line_items/_line_item.html.erb (10.2ms)
  Rendered line_items/create.js.erb (11.6ms)
Completed 200 OK in 120ms (Views: 13.1ms | ActiveRecord: 94.6ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:12:13 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"7", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 7], ["created_at", "2017-08-29 12:12:13.933638"], ["updated_at", "2017-08-29 12:12:13.933638"]]
  [1m[36m (99.7ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  Rendered carts/_cart.erb (2.5ms)
  Rendered line_items/_line_item.html.erb (13.4ms)
  Rendered line_items/create.js.erb (15.2ms)
Completed 200 OK in 125ms (Views: 17.8ms | ActiveRecord: 101.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 18:12:14 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"7", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 7], ["created_at", "2017-08-29 12:12:14.065195"], ["updated_at", "2017-08-29 12:12:14.065195"]]
  [1m[35m (104.7ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 7]]
  Rendered carts/_cart.erb (1.8ms)
  Rendered line_items/_line_item.html.erb (8.8ms)
  Rendered line_items/create.js.erb (10.2ms)
Completed 200 OK in 123ms (Views: 11.9ms | ActiveRecord: 105.6ms)


Started POST "/carts" for 127.0.0.1 at 2017-08-29 18:12:16 +0600
Processing by CartsController#create as HTML
  Parameters: {"authenticity_token"=>"lWPP0Cr8AyuVNpJhJyyu1xNw9crAMftXqY3KUi+x2Mmaz1kP7XJmNYzQk8Hp2pSrwqw7FM7gQdwN3sxMk8MhJw=="}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", "2017-08-29 12:12:16.361000"], ["updated_at", "2017-08-29 12:12:16.361000"]]
  [1m[36m (202.7ms)[0m  [1mcommit transaction[0m
  Rendered carts/create.html.erb within layouts/application (0.4ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  Rendered line_items/_line_item.html.erb (4.6ms)
Completed 200 OK in 273ms (Views: 64.4ms | ActiveRecord: 203.7ms)
  [1m[35mCart Load (0.5ms)[0m  SELECT "carts".* FROM "carts"
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m
  [1m[35mLineItem Load (0.5ms)[0m  SELECT  "line_items".* FROM "line_items"  ORDER BY "line_items"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m
  [1m[35mLineItem Load (0.6ms)[0m  SELECT "line_items".* FROM "line_items"
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 11]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 1]]
  [1m[36m (93.1ms)[0m  [1mcommit transaction[0m
  [1m[35mLineItem Load (0.6ms)[0m  SELECT "line_items".* FROM "line_items"
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT "carts".* FROM "carts"[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT 1  [["cart_id", 5]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT 1[0m  [["cart_id", 5]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  [1m[35m (82.2ms)[0m  commit transaction
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT 1[0m  [["cart_id", 5]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 2]]
  [1m[35m (103.0ms)[0m  commit transaction
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT 1[0m  [["cart_id", 5]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 3]]
  [1m[35m (119.9ms)[0m  commit transaction
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT 1[0m  [["cart_id", 5]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 4]]
  [1m[35m (82.1ms)[0m  commit transaction
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT 1[0m  [["cart_id", 5]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 5]]
  [1m[35m (76.9ms)[0m  commit transaction
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT 1[0m  [["cart_id", 5]]
  [1m[35mLineItem Load (0.5ms)[0m  SELECT "line_items".* FROM "line_items"


Started GET "/carts" for 127.0.0.1 at 2017-08-29 18:15:42 +0600

AbstractController::ActionNotFound (The action 'index' could not be found for CartsController):
  actionpack (4.2.6) lib/abstract_controller/base.rb:132:in `process'
  actionview (4.2.6) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.6) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.6) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `call'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.6) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.6) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.8) lib/rack/etag.rb:24:in `call'
  rack (1.6.8) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.8) lib/rack/head.rb:13:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.8) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.8) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.6) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.6) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.6) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.6) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (27.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (52.0ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 18:15:45 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (3.8ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 8]]
  Rendered line_items/_line_item.html.erb (3.0ms)
Completed 200 OK in 69ms (Views: 67.6ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 18:15:56 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.1ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  Rendered line_items/_line_item.html.erb (3.5ms)
Completed 200 OK in 68ms (Views: 65.6ms | ActiveRecord: 0.6ms)
  [1m[36mCart Load (1.8ms)[0m  [1mSELECT "carts".* FROM "carts"[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 7]]
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 12]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 13]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 14]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 15]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 16]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 18]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 19]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 7]]
  [1m[35m (116.9ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT "carts".* FROM "carts"[0m


Started GET "/" for 127.0.0.1 at 2017-08-29 18:16:38 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (3.1ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 8]]
  Rendered line_items/_line_item.html.erb (3.5ms)
Completed 200 OK in 65ms (Views: 63.0ms | ActiveRecord: 0.8ms)


Started GET "/establishments/7" for 127.0.0.1 at 2017-08-29 18:16:43 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mEstablishment Load (0.1ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 7]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 9]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 13]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (15.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  Rendered line_items/_line_item.html.erb (2.7ms)
Completed 200 OK in 83ms (Views: 80.2ms | ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 18:16:46 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.9ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 8]]
  Rendered line_items/_line_item.html.erb (4.0ms)
Completed 200 OK in 89ms (Views: 87.2ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 21:03:05 +0600
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (10.3ms)
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 8]]
  Rendered line_items/_line_item.html.erb (96.1ms)
Completed 200 OK in 697ms (Views: 657.8ms | ActiveRecord: 1.9ms)


Started GET "/establishments/7" for 127.0.0.1 at 2017-08-29 21:03:09 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 7]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 9]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 13]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (69.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  Rendered line_items/_line_item.html.erb (3.0ms)
Completed 200 OK in 156ms (Views: 131.2ms | ActiveRecord: 2.6ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 21:03:10 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Coca-cola", "price"=>"70.0", "cart_id"=>"8", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Coca-cola"], ["quantity", 1], ["price", 70.0], ["cart_id", 8], ["created_at", "2017-08-29 15:03:10.377093"], ["updated_at", "2017-08-29 15:03:10.377093"]]
  [1m[35m (117.3ms)[0m  commit transaction
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 8]]
  Rendered carts/_cart.html.erb (2.2ms)
  Rendered line_items/_line_item.html.erb (13.7ms)
  Rendered line_items/create.js.erb (15.5ms)
Completed 200 OK in 147ms (Views: 22.5ms | ActiveRecord: 119.2ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 21:03:10 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Coca-cola", "price"=>"70.0", "cart_id"=>"8", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Coca-cola"], ["quantity", 1], ["price", 70.0], ["cart_id", 8], ["created_at", "2017-08-29 15:03:10.533908"], ["updated_at", "2017-08-29 15:03:10.533908"]]
  [1m[36m (60.3ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  Rendered carts/_cart.html.erb (1.3ms)
  Rendered line_items/_line_item.html.erb (7.3ms)
  Rendered line_items/create.js.erb (8.4ms)
Completed 200 OK in 78ms (Views: 9.9ms | ActiveRecord: 61.3ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 21:03:10 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Coca-cola", "price"=>"70.0", "cart_id"=>"8", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Coca-cola"], ["quantity", 1], ["price", 70.0], ["cart_id", 8], ["created_at", "2017-08-29 15:03:10.641602"], ["updated_at", "2017-08-29 15:03:10.641602"]]
  [1m[35m (75.8ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 8]]
  Rendered carts/_cart.html.erb (1.6ms)
  Rendered line_items/_line_item.html.erb (7.7ms)
  Rendered line_items/create.js.erb (8.8ms)
Completed 200 OK in 91ms (Views: 10.2ms | ActiveRecord: 76.6ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 21:03:11 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Coca-cola", "price"=>"70.0", "cart_id"=>"8", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Coca-cola"], ["quantity", 1], ["price", 70.0], ["cart_id", 8], ["created_at", "2017-08-29 15:03:11.043091"], ["updated_at", "2017-08-29 15:03:11.043091"]]
  [1m[36m (62.1ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  Rendered carts/_cart.html.erb (2.3ms)
  Rendered line_items/_line_item.html.erb (9.7ms)
  Rendered line_items/create.js.erb (11.1ms)
Completed 200 OK in 80ms (Views: 12.9ms | ActiveRecord: 63.2ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 21:03:11 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Coca-cola", "price"=>"70.0", "cart_id"=>"8", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Coca-cola"], ["quantity", 1], ["price", 70.0], ["cart_id", 8], ["created_at", "2017-08-29 15:03:11.173493"], ["updated_at", "2017-08-29 15:03:11.173493"]]
  [1m[35m (65.2ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 8]]
  Rendered carts/_cart.html.erb (2.0ms)
  Rendered line_items/_line_item.html.erb (9.9ms)
  Rendered line_items/create.js.erb (11.2ms)
Completed 200 OK in 84ms (Views: 12.7ms | ActiveRecord: 66.3ms)


Started POST "/carts" for 127.0.0.1 at 2017-08-29 21:03:12 +0600
Processing by CartsController#create as HTML
  Parameters: {"authenticity_token"=>"eplLvDR/UGk3Y3e/w4nTC0su0yUidlgQKu7aWs654zB1Nd1j8/E1dy6Fdh8Nf+l3mvId+yyn4puOvdxEcssa3g=="}
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", "2017-08-29 15:03:12.663162"], ["updated_at", "2017-08-29 15:03:12.663162"]]
  [1m[36m (73.2ms)[0m  [1mcommit transaction[0m
  Rendered carts/create.html.erb within layouts/application (1.3ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  Rendered line_items/_line_item.html.erb (3.9ms)
Completed 200 OK in 150ms (Views: 71.0ms | ActiveRecord: 74.1ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 21:03:15 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (7.3ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  Rendered line_items/_line_item.html.erb (4.2ms)
Completed 200 OK in 78ms (Views: 76.1ms | ActiveRecord: 0.8ms)


Started GET "/establishments/8" for 127.0.0.1 at 2017-08-29 21:03:18 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 8]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 10]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 14]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (10.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  Rendered line_items/_line_item.html.erb (3.3ms)
Completed 200 OK in 88ms (Views: 84.8ms | ActiveRecord: 1.2ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 21:03:20 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"9", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 9], ["created_at", "2017-08-29 15:03:20.459795"], ["updated_at", "2017-08-29 15:03:20.459795"]]
  [1m[36m (86.6ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.6ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  Rendered carts/_cart.html.erb (1.5ms)
  Rendered line_items/_line_item.html.erb (20.8ms)
  Rendered line_items/create.js.erb (22.6ms)
Completed 200 OK in 118ms (Views: 23.9ms | ActiveRecord: 88.1ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 21:03:20 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"9", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 9], ["created_at", "2017-08-29 15:03:20.585223"], ["updated_at", "2017-08-29 15:03:20.585223"]]
  [1m[35m (83.1ms)[0m  commit transaction
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  Rendered carts/_cart.html.erb (2.2ms)
  Rendered line_items/_line_item.html.erb (15.8ms)
  Rendered line_items/create.js.erb (22.9ms)
Completed 200 OK in 115ms (Views: 25.2ms | ActiveRecord: 84.5ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 21:03:20 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"9", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 9], ["created_at", "2017-08-29 15:03:20.707129"], ["updated_at", "2017-08-29 15:03:20.707129"]]
  [1m[36m (83.5ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  Rendered carts/_cart.html.erb (1.8ms)
  Rendered line_items/_line_item.html.erb (8.3ms)
  Rendered line_items/create.js.erb (10.4ms)
Completed 200 OK in 101ms (Views: 12.1ms | ActiveRecord: 84.3ms)


Started POST "/line_items" for 127.0.0.1 at 2017-08-29 21:03:20 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Мороженое", "price"=>"75.0", "cart_id"=>"9", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Мороженое"], ["quantity", 1], ["price", 75.0], ["cart_id", 9], ["created_at", "2017-08-29 15:03:20.830114"], ["updated_at", "2017-08-29 15:03:20.830114"]]
  [1m[35m (82.6ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  Rendered carts/_cart.html.erb (3.3ms)
  Rendered line_items/_line_item.html.erb (13.8ms)
  Rendered line_items/create.js.erb (15.0ms)
Completed 200 OK in 105ms (Views: 16.6ms | ActiveRecord: 83.7ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-08-29 21:03:22 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (78.8ms)[0m  [1mDELETE FROM "line_items"[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  Rendered line_items/_line_item.html.erb (8.4ms)
  Rendered line_items/destroy_all.js.erb (11.0ms)
Completed 200 OK in 96ms (Views: 14.5ms | ActiveRecord: 79.4ms)


Started GET "/" for 127.0.0.1 at 2017-08-29 21:03:23 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (7.7ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  Rendered line_items/_line_item.html.erb (3.4ms)
Completed 200 OK in 116ms (Views: 113.9ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-10-06 19:29:11 +0600
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (10.0ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  Rendered line_items/_line_item.html.erb (67.3ms)
Completed 200 OK in 814ms (Views: 772.8ms | ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2017-10-06 19:29:13 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (3.4ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  Rendered line_items/_line_item.html.erb (3.3ms)
Completed 200 OK in 66ms (Views: 62.8ms | ActiveRecord: 0.7ms)


Started GET "/assets/dishes.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2017-10-06 19:29:13 +0600


Started GET "/assets/establishments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2017-10-06 19:29:13 +0600


Started GET "/assets/line_items.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2017-10-06 19:29:13 +0600


Started GET "/assets/carts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2017-10-06 19:29:13 +0600


Started GET "/assets/jquery.self-bd7ddd393353a8d2480a622e80342adf488fb6006d667e8b42e4c0073393abee.js?body=1" for 127.0.0.1 at 2017-10-06 19:29:13 +0600


Started GET "/assets/application.self-3f4ed11c3dce395fcc92b4ab39521af1966f72f463fef568acc7ccca5681e0be.css?body=1" for 127.0.0.1 at 2017-10-06 19:29:13 +0600


Started GET "/assets/bootstrap/transition.self-6ad2488465135ab731a045a8ebbe3ea2fc501aed286042496eda1664fdd07ba9.js?body=1" for 127.0.0.1 at 2017-10-06 19:29:13 +0600


Started GET "/assets/bootstrap/alert.self-742145c5bb847aafdadc6e339be795628f8bc25f177e851f03a8c42278eb0312.js?body=1" for 127.0.0.1 at 2017-10-06 19:29:13 +0600


Started GET "/assets/bootstrap/carousel.self-e47323f363ceb3dc0bdbce05e36e709ed428e339833a41140a85cb0af24b8127.js?body=1" for 127.0.0.1 at 2017-10-06 19:29:13 +0600


Started GET "/assets/bootstrap/button.self-126ac9bf0e7f2d8568f8da3a00fd5f0fac6eae0946331003370161fbf8d7975e.js?body=1" for 127.0.0.1 at 2017-10-06 19:29:13 +0600


Started GET "/assets/bootstrap/collapse.self-2eb697f62b587bb786ff940d82dd4be88cdeeaf13ca128e3da3850c5fcaec301.js?body=1" for 127.0.0.1 at 2017-10-06 19:29:13 +0600


Started GET "/assets/bootstrap/dropdown.self-561cca1cbaf67474e01e9536f106bad541594860a6df997004591c1c1957a147.js?body=1" for 127.0.0.1 at 2017-10-06 19:29:13 +0600


Started GET "/assets/bootstrap/modal.self-3e78617ade5663314b7ee0ea10375a5b34d59ffbade44939e3f2a4e4ef2019b3.js?body=1" for 127.0.0.1 at 2017-10-06 19:29:13 +0600


Started GET "/assets/bootstrap/tab.self-5bf7078b682f8b131332eefa46b45fa5eff2eca745fc0d03e2991450888f7c28.js?body=1" for 127.0.0.1 at 2017-10-06 19:29:13 +0600


Started GET "/assets/bootstrap/affix.self-6d6f1a7fc5c8aabf3547fa1b794fab6268f54bc55ad815e55873c71f52513517.js?body=1" for 127.0.0.1 at 2017-10-06 19:29:13 +0600


Started GET "/assets/bootstrap/tooltip.self-05afb177e08f98997ccfc84fa08a215e4b27d48d5fe4d049080675e9dffd8199.js?body=1" for 127.0.0.1 at 2017-10-06 19:29:13 +0600


Started GET "/assets/bootstrap/scrollspy.self-969f3c5f48cdf1e439c7fa1154c13b948715f5c689f87837c0b64521d3b46ef6.js?body=1" for 127.0.0.1 at 2017-10-06 19:29:13 +0600


Started GET "/assets/bootstrap/popover.self-0aa93860b59fe7393f1dd490f54b3cb994f9d6155adffce034d4e14ae361b041.js?body=1" for 127.0.0.1 at 2017-10-06 19:29:13 +0600


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for 127.0.0.1 at 2017-10-06 19:29:13 +0600


Started GET "/assets/jquery_ujs.self-784a997f6726036b1993eb2217c9cb558e1cbb801c6da88105588c56f13b466a.js?body=1" for 127.0.0.1 at 2017-10-06 19:29:13 +0600


Started GET "/assets/turbolinks.self-1d1fddf91adc38ac2045c51f0a3e05ca97d07d24d15a4dcbf705009106489e69.js?body=1" for 127.0.0.1 at 2017-10-06 19:29:13 +0600


Started GET "/assets/carts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for 127.0.0.1 at 2017-10-06 19:29:13 +0600


Started GET "/assets/establishments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for 127.0.0.1 at 2017-10-06 19:29:13 +0600


Started GET "/assets/dishes.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for 127.0.0.1 at 2017-10-06 19:29:13 +0600


Started GET "/assets/line_items.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for 127.0.0.1 at 2017-10-06 19:29:13 +0600


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for 127.0.0.1 at 2017-10-06 19:29:13 +0600


Started GET "/establishments/7" for 127.0.0.1 at 2017-10-06 19:29:22 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 7]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 9]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 13]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (112.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  Rendered line_items/_line_item.html.erb (4.3ms)
Completed 200 OK in 249ms (Views: 176.5ms | ActiveRecord: 2.3ms)


Started POST "/line_items" for 127.0.0.1 at 2017-10-06 19:29:25 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Coca-cola", "price"=>"70.0", "cart_id"=>"9", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Coca-cola"], ["quantity", 1], ["price", 70.0], ["cart_id", 9], ["created_at", "2017-10-06 13:29:25.145843"], ["updated_at", "2017-10-06 13:29:25.145843"]]
  [1m[36m (66.9ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  Rendered carts/_cart.html.erb (1.9ms)
  Rendered line_items/_line_item.html.erb (11.7ms)
  Rendered line_items/create.js.erb (13.7ms)
Completed 200 OK in 91ms (Views: 18.1ms | ActiveRecord: 68.1ms)


Started DELETE "/line_items/29" for 127.0.0.1 at 2017-10-06 19:29:27 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"29"}
  [1m[35mLineItem Load (0.3ms)[0m  SELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", 29]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 29]]
  [1m[36m (88.7ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  Rendered line_items/_line_item.html.erb (4.3ms)
  Rendered line_items/destroy.js.erb (5.9ms)
Completed 200 OK in 102ms (Views: 7.7ms | ActiveRecord: 89.8ms)


Started GET "/" for 127.0.0.1 at 2017-10-06 19:30:00 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (3.5ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  Rendered line_items/_line_item.html.erb (3.5ms)
Completed 200 OK in 90ms (Views: 86.0ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2017-10-06 19:30:00 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (3.0ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  Rendered line_items/_line_item.html.erb (4.4ms)
Completed 200 OK in 92ms (Views: 89.1ms | ActiveRecord: 0.8ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to RemoveImageFromEstablishments (20171006133547)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to RemoveImageFromEstablishments (20171006133547)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TEMPORARY TABLE "aestablishments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "establishments"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "aestablishments" ("id","title","description","image","created_at","updated_at") VALUES (6, 'Golden Dragon', 'Ресторан Золотой дракон приглашает оценить обновленное убранство залов и восхитительный вкус новых и хорошо знакомых кушаний корейской и европейской кухни. Он расположен на территории отеля в отдельно стоящем здании и открыт с 10-00 утра до 12-00 часов ночи.', NULL, '2017-08-29 07:56:34.299227', '2017-08-29 07:56:34.299227')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "aestablishments" ("id","title","description","image","created_at","updated_at") VALUES (7, 'Ninja Sushi', 'Компания Ninja Shop выполнит весть спектр услуг по доставке готовой еды на дом, в офис или в любое удобное для вас место. Быстро и качественно доставляем суши, пиццу в Томске, горячие обеды, салаты, закуски, напитки, различные десерты и многое другое. Готовим гриль блюда различной сложности. ', NULL, '2017-08-29 07:56:34.389356', '2017-08-29 07:56:34.389356')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "aestablishments" ("id","title","description","image","created_at","updated_at") VALUES (8, 'Коффейня Coffee', '…Летом, когда день не торопится завершиться, и зимой, когда за окном уже сумерки, приятно посидеть за чашечкой кофе. Впрочем, чашечка кофе не только пункт в меню, это повод для встречи, приятный ритуал, который в разное время суток может иметь различное дополнение. Утром – кофе с молоком плюс яблочный пирог – быстрый завтрак. Днем – ароматный эспрессо с чизкейком - приятная передышка. Вечером…
А вот вечером возможны варианты. И ради чашечки вечернего кофе лучше отправиться в кофейню.
Первая кофейня «Coffee» гостеприимно распахнула свои двери в марте 2006 года и положила начало созданию кофейной культуры в Киргизии. Кофейня «Coffee» - место, где не только подают кофе, но и создают уютную атмосферу общения для самой широкой аудитории. Спешит ли наш гость, и может провести в кофейне всего несколько минут, или, человеку захотелось обдумать какие-то идеи, провести деловую встречу, а может побыть наедине с собой, атмосфера кофейни располагает к тому, чтобы все они чувствовали себя как дома…', NULL, '2017-08-29 07:56:34.467044', '2017-08-29 07:57:38.603339')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "aestablishments" ("id","title","description","image","created_at","updated_at") VALUES (9, 'Циклон', 'Ресторан «Циклон» был открыт, чтоб донести давнюю итальянскую традицию до жителей и гостей города Бишкек.
Итальянский ресторан существует в центре города уже 20 лет и за это время успел обзавестись множеством постоянных гостей. А недавно, к большой их радости, в заведении обновился интерьер. Общая демократичность обстановки, свойственная итальянским ресторанчикам, не могла не сказаться и на меню «Циклона». В нем можно увидеть более двадцати видов пасты и вкусную пиццу во всем ее разнообразии, ризотто и домашние равиоли, классические итальянские блюда и интересные фирменные предложения от шеф-повара, которые по достоинству оценили даже гурманы из самой Италии.
«Циклон» — это место, где можно ощутить итальянское гостеприимство, дружеские отношения с персоналом и конечно же попробовать традиционную итальянскую кухню', NULL, '2017-08-29 07:56:34.555902', '2017-08-29 07:57:45.616773')
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "establishments"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "establishments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aestablishments"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "establishments" ("id","title","description","created_at","updated_at") VALUES (6, 'Golden Dragon', 'Ресторан Золотой дракон приглашает оценить обновленное убранство залов и восхитительный вкус новых и хорошо знакомых кушаний корейской и европейской кухни. Он расположен на территории отеля в отдельно стоящем здании и открыт с 10-00 утра до 12-00 часов ночи.', '2017-08-29 07:56:34.299227', '2017-08-29 07:56:34.299227')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "establishments" ("id","title","description","created_at","updated_at") VALUES (7, 'Ninja Sushi', 'Компания Ninja Shop выполнит весть спектр услуг по доставке готовой еды на дом, в офис или в любое удобное для вас место. Быстро и качественно доставляем суши, пиццу в Томске, горячие обеды, салаты, закуски, напитки, различные десерты и многое другое. Готовим гриль блюда различной сложности. ', '2017-08-29 07:56:34.389356', '2017-08-29 07:56:34.389356')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "establishments" ("id","title","description","created_at","updated_at") VALUES (8, 'Коффейня Coffee', '…Летом, когда день не торопится завершиться, и зимой, когда за окном уже сумерки, приятно посидеть за чашечкой кофе. Впрочем, чашечка кофе не только пункт в меню, это повод для встречи, приятный ритуал, который в разное время суток может иметь различное дополнение. Утром – кофе с молоком плюс яблочный пирог – быстрый завтрак. Днем – ароматный эспрессо с чизкейком - приятная передышка. Вечером…
А вот вечером возможны варианты. И ради чашечки вечернего кофе лучше отправиться в кофейню.
Первая кофейня «Coffee» гостеприимно распахнула свои двери в марте 2006 года и положила начало созданию кофейной культуры в Киргизии. Кофейня «Coffee» - место, где не только подают кофе, но и создают уютную атмосферу общения для самой широкой аудитории. Спешит ли наш гость, и может провести в кофейне всего несколько минут, или, человеку захотелось обдумать какие-то идеи, провести деловую встречу, а может побыть наедине с собой, атмосфера кофейни располагает к тому, чтобы все они чувствовали себя как дома…', '2017-08-29 07:56:34.467044', '2017-08-29 07:57:38.603339')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "establishments" ("id","title","description","created_at","updated_at") VALUES (9, 'Циклон', 'Ресторан «Циклон» был открыт, чтоб донести давнюю итальянскую традицию до жителей и гостей города Бишкек.
Итальянский ресторан существует в центре города уже 20 лет и за это время успел обзавестись множеством постоянных гостей. А недавно, к большой их радости, в заведении обновился интерьер. Общая демократичность обстановки, свойственная итальянским ресторанчикам, не могла не сказаться и на меню «Циклона». В нем можно увидеть более двадцати видов пасты и вкусную пиццу во всем ее разнообразии, ризотто и домашние равиоли, классические итальянские блюда и интересные фирменные предложения от шеф-повара, которые по достоинству оценили даже гурманы из самой Италии.
«Циклон» — это место, где можно ощутить итальянское гостеприимство, дружеские отношения с персоналом и конечно же попробовать традиционную итальянскую кухню', '2017-08-29 07:56:34.555902', '2017-08-29 07:57:45.616773')[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "aestablishments"
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20171006133547"]]
  [1m[35m (81.6ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_categories_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_categories_on_establishment_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_category_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_line_items_on_cart_id' AND type='index'

  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddAttachmentImageToEstablishments (20171006134611)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "establishments" ADD "image_file_name" varchar[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "establishments" ADD "image_content_type" varchar
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "establishments" ADD "image_file_size" integer[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "establishments" ADD "image_updated_at" datetime
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20171006134611"]]
  [1m[35m (251.3ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_categories_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_categories_on_establishment_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_category_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_line_items_on_cart_id' AND type='index'



Started GET "/" for 127.0.0.1 at 2017-10-06 20:06:03 +0600
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Processing by EstablishmentsController#index as HTML
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.6ms)

NoMethodError (undefined method `has_attached_file' for #<Class:0x007fd07a310388>):
  app/models/establishment.rb:4:in `<class:Establishment>'
  app/models/establishment.rb:1:in `<top (required)>'
  app/controllers/establishments_controller.rb:3:in `index'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (34.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (73.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (115.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-06 20:07:13 +0600
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (12.5ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  Rendered line_items/_line_item.html.erb (65.2ms)
Completed 200 OK in 483ms (Views: 464.7ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2017-10-06 20:08:25 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.7ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  Rendered line_items/_line_item.html.erb (4.8ms)
Completed 200 OK in 118ms (Views: 115.1ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 19:46:42 +0600
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (20.0ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  Rendered line_items/_line_item.html.erb (130.3ms)
Completed 200 OK in 1078ms (Views: 1015.4ms | ActiveRecord: 3.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 19:46:44 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (3.2ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  Rendered line_items/_line_item.html.erb (4.3ms)
Completed 200 OK in 109ms (Views: 105.8ms | ActiveRecord: 0.6ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-10-07 19:46:52 +0600
Processing by Admin::EstablishmentsController#index as HTML
Filter chain halted as #<Proc:0x007fd90042a348@/home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 19:50:27 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.6ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (22.9ms)
  Rendered line_items/_line_item.html.erb (53.3ms)
Completed 500 Internal Server Error in 151ms (ActiveRecord: 1.0ms)

ActionView::Template::Error (undefined local variable or method `admin_establishments_path' for #<#<Class:0x007fd8e8246698>:0x007fd8e82568b8>):
    1: <ul class="nav navbar-nav navbar-right" id="cart">
    2:   <a class="navbar-brand" href="<%= admin_establishments_path %>">Админка</a>
    3: 	<li class="dropdown">
    4: 	  <a href="" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
    5: 	  	Корзина 
  app/views/line_items/_line_item.html.erb:2:in `_app_views_line_items__line_item_html_erb__1434730120916233112_47167844501320'
  app/views/layouts/application.html.erb:27:in `_app_views_layouts_application_html_erb__2804146689795689762_47167847341080'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (36.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (121.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (158.8ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 19:50:51 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.8ms)
  [1m[35mCart Load (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  Rendered line_items/_line_item.html.erb (15.6ms)
Completed 200 OK in 78ms (Views: 74.7ms | ActiveRecord: 1.3ms)


Started GET "/admin/establishments" for 127.0.0.1 at 2017-10-07 19:51:26 +0600

ActionController::RoutingError (No route matches [GET] "/admin/establishments"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (88.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (256.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (20.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (41.2ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 19:51:30 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (2.1ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  Rendered line_items/_line_item.html.erb (3.4ms)
Completed 200 OK in 66ms (Views: 64.1ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 19:55:35 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (5.9ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  Rendered line_items/_line_item.html.erb (23.1ms)
Completed 200 OK in 114ms (Views: 111.6ms | ActiveRecord: 0.9ms)


Started GET "/images/medium/missing.png" for 127.0.0.1 at 2017-10-07 19:55:35 +0600

ActionController::RoutingError (No route matches [GET] "/images/medium/missing.png"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (4.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (68.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (1.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (35.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (73.9ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 19:56:56 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (3.3ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  Rendered line_items/_line_item.html.erb (3.8ms)
Completed 200 OK in 67ms (Views: 64.0ms | ActiveRecord: 0.7ms)


Started GET "/images/medium/missing.png" for 127.0.0.1 at 2017-10-07 19:56:56 +0600

ActionController::RoutingError (No route matches [GET] "/images/medium/missing.png"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (64.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (29.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (58.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 19:58:18 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.7ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (11.2ms)
  [1m[35mCart Load (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  Rendered line_items/_line_item.html.erb (13.3ms)
Completed 200 OK in 115ms (Views: 107.9ms | ActiveRecord: 2.0ms)


Started GET "/images/medium/missing.png" for 127.0.0.1 at 2017-10-07 19:58:18 +0600

ActionController::RoutingError (No route matches [GET] "/images/medium/missing.png"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (4.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (74.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (34.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (65.1ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20171007141144)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "admin" boolean, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20171007141144"]]
  [1m[36m (85.5ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_categories_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_categories_on_establishment_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_category_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddDeviseToUsers (20171007141657)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ADD "email" varchar DEFAULT '' NOT NULL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "encrypted_password" varchar DEFAULT '' NOT NULL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "reset_password_token" varchar[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "reset_password_sent_at" datetime
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "remember_created_at" datetime[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "sign_in_count" integer DEFAULT 0 NOT NULL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "current_sign_in_at" datetime[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "last_sign_in_at" datetime
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "current_sign_in_ip" varchar[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "last_sign_in_ip" varchar
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  CREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20171007141657"]]
  [1m[35m (86.3ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_categories_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_categories_on_establishment_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_category_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_line_items_on_cart_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'



Started GET "/" for 127.0.0.1 at 2017-10-07 20:19:27 +0600

NoMethodError (undefined method `devise_for' for #<ActionDispatch::Routing::Mapper:0x007fd8e81144f0>):
  config/routes.rb:3:in `block in <top (required)>'
  config/routes.rb:1:in `<top (required)>'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (30.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (46.1ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 20:19:38 +0600
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (15.9ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 9]]
  Rendered line_items/_line_item.html.erb (36.2ms)
Completed 200 OK in 506ms (Views: 485.1ms | ActiveRecord: 2.0ms)


Started GET "/images/medium/missing.png" for 127.0.0.1 at 2017-10-07 20:19:39 +0600

ActionController::RoutingError (No route matches [GET] "/images/medium/missing.png"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (5.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (12.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (94.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (56.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (83.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 20:23:26 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (4.5ms)
Completed 200 OK in 72ms (Views: 69.9ms | ActiveRecord: 0.4ms)


Started GET "/images/medium/missing.png" for 127.0.0.1 at 2017-10-07 20:23:26 +0600

ActionController::RoutingError (No route matches [GET] "/images/medium/missing.png"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (4.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (86.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (41.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (1.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (81.7ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-10-07 20:24:13 +0600
Processing by Devise::RegistrationsController#new as HTML
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (2.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application (47.3ms)
Completed 200 OK in 179ms (Views: 160.7ms | ActiveRecord: 0.5ms)


Started GET "/images/medium/missing.png" for 127.0.0.1 at 2017-10-07 20:24:13 +0600

ActionController::RoutingError (No route matches [GET] "/images/medium/missing.png"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (4.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (60.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (25.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (50.2ms)


Started GET "/images/medium/missing.png" for 127.0.0.1 at 2017-10-07 20:24:16 +0600

ActionController::RoutingError (No route matches [GET] "/images/medium/missing.png"):
  actionpack (4.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.6) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.6) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.6) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.8) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.8) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.6) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.8) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.6) lib/rails/engine.rb:518:in `call'
  railties (4.2.6) lib/rails/application.rb:165:in `call'
  rack (1.6.8) lib/rack/lock.rb:17:in `call'
  rack (1.6.8) lib/rack/content_length.rb:15:in `call'
  rack (1.6.8) lib/rack/handler/webrick.rb:88:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_route.html.erb (4.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (62.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (28.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (56.7ms)
  [1m[36m (112.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (99.4ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateEstablishments (20170825133328)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "establishments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170825133328"]]
  [1m[35m (79.4ms)[0m  commit transaction
Migrating to CreateDishes (20170825133556)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  CREATE TABLE "dishes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "price" decimal, "category_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_dishes_on_category_id" ON "dishes" ("category_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170825133556"]]
  [1m[36m (94.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateCarts (20170828141041)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170828141041"]]
  [1m[36m (106.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateLineItems (20170828141635)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "price" decimal, "quantity" integer, "cart_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170828141635"]]
  [1m[35m (105.3ms)[0m  commit transaction
Migrating to CreateCategories (20170829074359)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "establishment_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_categories_on_establishment_id" ON "categories" ("establishment_id")[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170829074359"]]
  [1m[36m (94.4ms)[0m  [1mcommit transaction[0m
Migrating to AddAttachmentImageToEstablishments (20171006134611)
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "establishments" ADD "image_file_name" varchar[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "establishments" ADD "image_content_type" varchar
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "establishments" ADD "image_file_size" integer[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "establishments" ADD "image_updated_at" datetime
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20171006134611"]]
  [1m[35m (81.9ms)[0m  commit transaction
Migrating to CreateUsers (20171007141144)
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "admin" boolean, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20171007141144"]]
  [1m[35m (107.3ms)[0m  commit transaction
Migrating to AddDeviseToUsers (20171007141657)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "users" ADD "email" varchar DEFAULT '' NOT NULL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "encrypted_password" varchar DEFAULT '' NOT NULL[0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20171007141657"]]
  [1m[35m (87.7ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_categories_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_categories_on_establishment_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_category_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_line_items_on_cart_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m


Started GET "/" for 127.0.0.1 at 2017-10-07 20:52:34 +0600
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (1.9ms)
Completed 500 Internal Server Error in 236ms (ActiveRecord: 0.8ms)

ActionView::Template::Error (undefined method `rememberable_options' for #<Class:0x007f21a21e5f80>):
    23:     <!-- Collect the nav links, forms, and other content for toggling -->
    24:     <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    25:       <ul class="nav navbar-nav navbar-right">
    26:         <% if user_signed_in? %>
    27:           <%= link_to "Profile", profile_path(current_user.username), class: 'btn btn-default navbar-btn' %>
    28:           <p class="navbar-text">
    29:             Hello, <%= link_to current_user.username,  edit_user_registration_path, class: 'navbar-link' %>
  app/views/layouts/application.html.erb:26:in `_app_views_layouts_application_html_erb___1668523968296299551_47048941475740'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (35.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.9ms)
  [1m[36m (107.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (77.4ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateEstablishments (20170825133328)
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.7ms)[0m  CREATE TABLE "establishments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170825133328"]]
  [1m[35m (112.7ms)[0m  commit transaction
Migrating to CreateDishes (20170825133556)
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  CREATE TABLE "dishes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "price" decimal, "category_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_dishes_on_category_id" ON "dishes" ("category_id")[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170825133556"]]
  [1m[36m (83.0ms)[0m  [1mcommit transaction[0m
Migrating to CreateCarts (20170828141041)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170828141041"]]
  [1m[36m (95.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateLineItems (20170828141635)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "price" decimal, "quantity" integer, "cart_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170828141635"]]
  [1m[35m (85.8ms)[0m  commit transaction
Migrating to CreateCategories (20170829074359)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "establishment_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_categories_on_establishment_id" ON "categories" ("establishment_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170829074359"]]
  [1m[36m (117.4ms)[0m  [1mcommit transaction[0m
Migrating to AddAttachmentImageToEstablishments (20171006134611)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.8ms)[0m  [1mALTER TABLE "establishments" ADD "image_file_name" varchar[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "establishments" ADD "image_content_type" varchar
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "establishments" ADD "image_file_size" integer[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "establishments" ADD "image_updated_at" datetime
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20171006134611"]]
  [1m[35m (105.4ms)[0m  commit transaction
Migrating to CreateUsers (20171007141144)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.7ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "admin" boolean, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20171007141144"]]
  [1m[35m (84.3ms)[0m  commit transaction
Migrating to AddDeviseToUsers (20171007141657)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "users" ADD "email" varchar DEFAULT '' NOT NULL
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "users" ADD "encrypted_password" varchar DEFAULT '' NOT NULL[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "users" ADD "remember_created_at" datetime
  [1m[36m (0.6ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20171007141657"]]
  [1m[36m (114.2ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_categories_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_categories_on_establishment_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_category_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'



Started GET "/" for 127.0.0.1 at 2017-10-07 20:53:20 +0600
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.4ms)
Completed 500 Internal Server Error in 89ms (ActiveRecord: 1.1ms)

ActionView::Template::Error (undefined method `rememberable_options' for #<Class:0x007f21a298d120>):
    23:     <!-- Collect the nav links, forms, and other content for toggling -->
    24:     <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    25:       <ul class="nav navbar-nav navbar-right">
    26:         <% if user_signed_in? %>
    27:           <%= link_to "Profile", profile_path(current_user.username), class: 'btn btn-default navbar-btn' %>
    28:           <p class="navbar-text">
    29:             Hello, <%= link_to current_user.username,  edit_user_registration_path, class: 'navbar-link' %>
  app/views/layouts/application.html.erb:26:in `_app_views_layouts_application_html_erb___1668523968296299551_47048941475740'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (36.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (25.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (51.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 20:53:36 +0600
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 557ms (Views: 533.1ms | ActiveRecord: 0.6ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-13537-faqxlb.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-13537-1ovqics.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-13537-1ovqics.png[0]'
Command :: convert '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-13537-1ovqics.png[0]' -auto-orient -resize "300x300>" '/tmp/1956456a0b946c3d3e00c51c6484ed5020171007-13537-1fqg8lt'
  [1m[35m (0.1ms)[0m  begin transaction
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-13537-1cs7fc3.png'
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "establishments" ("title", "description", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["title", "Kertzmann Group"], ["description", "Numquam dignissimos distinctio enim."], ["image_file_name", "default.png"], ["image_content_type", "image/png"], ["image_file_size", 11378], ["image_updated_at", "2017-10-07 14:55:43.852894"], ["created_at", "2017-10-07 14:55:44.032880"], ["updated_at", "2017-10-07 14:55:44.032880"]]
  [1m[35m (92.7ms)[0m  commit transaction
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-13537-1bbc80p.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-13537-6u41wy.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-13537-6u41wy.png[0]'
Command :: convert '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-13537-6u41wy.png[0]' -auto-orient -resize "300x300>" '/tmp/e239907dcb73186194ab9b7bd1b7a17d20171007-13537-i6ye7e'
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-13537-awpugx.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "establishments" ("title", "description", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["title", "Waters-Bergnaum"], ["description", "Facere aut non ut."], ["image_file_name", "default.png"], ["image_content_type", "image/png"], ["image_file_size", 11378], ["image_updated_at", "2017-10-07 14:55:44.205631"], ["created_at", "2017-10-07 14:55:44.274625"], ["updated_at", "2017-10-07 14:55:44.274625"]]
  [1m[36m (101.6ms)[0m  [1mcommit transaction[0m
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-13537-hjf4x3.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-13537-1mny8az.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-13537-1mny8az.png[0]'
Command :: convert '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-13537-1mny8az.png[0]' -auto-orient -resize "300x300>" '/tmp/edf086e974cfe557b4367edb5eebe52620171007-13537-1da1nwp'
  [1m[35m (0.1ms)[0m  begin transaction
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-13537-1e2kgjk.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "establishments" ("title", "description", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["title", "Rolfson, Schowalter and Rippin"], ["description", "Sed recusandae ipsam pariatur."], ["image_file_name", "default.png"], ["image_content_type", "image/png"], ["image_file_size", 11378], ["image_updated_at", "2017-10-07 14:55:44.406296"], ["created_at", "2017-10-07 14:55:44.480059"], ["updated_at", "2017-10-07 14:55:44.480059"]]
  [1m[35m (75.7ms)[0m  commit transaction
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-13537-ccduaf.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-13537-7ky748.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-13537-7ky748.png[0]'
Command :: convert '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-13537-7ky748.png[0]' -auto-orient -resize "300x300>" '/tmp/9cdebc6c381a4354affff49cd74f35e220171007-13537-15j1ttt'
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-13537-12mp39o.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "establishments" ("title", "description", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["title", "Hane, Boyle and Steuber"], ["description", "Qui aut expedita sit dicta maxime consequatur."], ["image_file_name", "default.png"], ["image_content_type", "image/png"], ["image_file_size", 11378], ["image_updated_at", "2017-10-07 14:55:44.571431"], ["created_at", "2017-10-07 14:55:44.638599"], ["updated_at", "2017-10-07 14:55:44.638599"]]
  [1m[36m (108.6ms)[0m  [1mcommit transaction[0m
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-13537-6hfpqf.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-13537-cp062r.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-13537-cp062r.png[0]'
Command :: convert '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-13537-cp062r.png[0]' -auto-orient -resize "300x300>" '/tmp/f0df452f141e58dc2b5a8e43fb15ded120171007-13537-16ht5xn'
  [1m[35m (0.1ms)[0m  begin transaction
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-13537-1nebrdd.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "establishments" ("title", "description", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["title", "Kuphal, Borer and Stanton"], ["description", "Quae quos incidunt voluptatem in quisquam corporis ea et."], ["image_file_name", "default.png"], ["image_content_type", "image/png"], ["image_file_size", 11378], ["image_updated_at", "2017-10-07 14:55:44.760037"], ["created_at", "2017-10-07 14:55:44.830603"], ["updated_at", "2017-10-07 14:55:44.830603"]]
  [1m[35m (79.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["title", "green"], ["establishment_id", 5], ["created_at", "2017-10-07 14:55:44.947113"], ["updated_at", "2017-10-07 14:55:44.947113"]]
  [1m[36m (86.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Tuna sashimi"], ["price", 16.0], ["description", "Consequatur consequatur delectus ab molestiae ut est quia."], ["category_id", 1], ["created_at", "2017-10-07 14:55:45.046684"], ["updated_at", "2017-10-07 14:55:45.046684"]]
  [1m[35m (63.2ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Bruschette with Tomato"], ["price", 34.0], ["description", "Dolores quod iure voluptas reiciendis est."], ["category_id", 1], ["created_at", "2017-10-07 14:55:45.115071"], ["updated_at", "2017-10-07 14:55:45.115071"]]
  [1m[36m (62.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Pasta Carbonara"], ["price", 46.0], ["description", "Est architecto quis debitis."], ["category_id", 1], ["created_at", "2017-10-07 14:55:45.180979"], ["updated_at", "2017-10-07 14:55:45.180979"]]
  [1m[35m (62.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Meatballs with sauce"], ["price", 47.0], ["description", "Sequi non consequatur nostrum totam autem omnis ut."], ["category_id", 1], ["created_at", "2017-10-07 14:55:45.248308"], ["updated_at", "2017-10-07 14:55:45.248308"]]
  [1m[36m (83.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "lime"], ["establishment_id", 1], ["created_at", "2017-10-07 14:55:45.336246"], ["updated_at", "2017-10-07 14:55:45.336246"]]
  [1m[35m (74.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Caesar Salad"], ["price", 21.0], ["description", "Ut adipisci inventore minus temporibus sint magnam aliquid."], ["category_id", 2], ["created_at", "2017-10-07 14:55:45.414114"], ["updated_at", "2017-10-07 14:55:45.414114"]]
  [1m[36m (153.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Philadelphia maki"], ["price", 40.0], ["description", "Ipsa reprehenderit dicta corrupti omnis."], ["category_id", 2], ["created_at", "2017-10-07 14:55:45.570680"], ["updated_at", "2017-10-07 14:55:45.570680"]]
  [1m[35m (117.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "California maki"], ["price", 12.0], ["description", "Dolores perferendis veniam et."], ["category_id", 2], ["created_at", "2017-10-07 14:55:45.691243"], ["updated_at", "2017-10-07 14:55:45.691243"]]
  [1m[36m (74.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "French fries with sausages"], ["price", 28.0], ["description", "Qui asperiores voluptas sint doloribus delectus fugit corrupti quo."], ["category_id", 2], ["created_at", "2017-10-07 14:55:45.768825"], ["updated_at", "2017-10-07 14:55:45.768825"]]
  [1m[35m (94.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["title", "red"], ["establishment_id", 4], ["created_at", "2017-10-07 14:55:45.866820"], ["updated_at", "2017-10-07 14:55:45.866820"]]
  [1m[36m (86.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Bruschette with Tomato"], ["price", 10.0], ["description", "Beatae libero a voluptatibus illo repellendus enim dolore."], ["category_id", 3], ["created_at", "2017-10-07 14:55:45.957494"], ["updated_at", "2017-10-07 14:55:45.957494"]]
  [1m[35m (85.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "French fries with sausages"], ["price", 17.0], ["description", "Fugit voluptas dolor dolores molestias deserunt aliquam nesciunt."], ["category_id", 3], ["created_at", "2017-10-07 14:55:46.045537"], ["updated_at", "2017-10-07 14:55:46.045537"]]
  [1m[36m (75.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Philadelphia maki"], ["price", 34.0], ["description", "Quo aspernatur dolorem quasi voluptatem in non."], ["category_id", 3], ["created_at", "2017-10-07 14:55:46.123848"], ["updated_at", "2017-10-07 14:55:46.123848"]]
  [1m[35m (63.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Califlower penne"], ["price", 11.0], ["description", "Delectus vero voluptas velit numquam illum perferendis."], ["category_id", 3], ["created_at", "2017-10-07 14:55:46.189748"], ["updated_at", "2017-10-07 14:55:46.189748"]]
  [1m[36m (86.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "yellow"], ["establishment_id", 3], ["created_at", "2017-10-07 14:55:46.279372"], ["updated_at", "2017-10-07 14:55:46.279372"]]
  [1m[35m (72.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Caprese Salad"], ["price", 18.0], ["description", "Earum labore quis autem minus architecto id."], ["category_id", 4], ["created_at", "2017-10-07 14:55:46.356885"], ["updated_at", "2017-10-07 14:55:46.356885"]]
  [1m[36m (63.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Pork sausage roll"], ["price", 47.0], ["description", "Molestias culpa ea sequi."], ["category_id", 4], ["created_at", "2017-10-07 14:55:46.423363"], ["updated_at", "2017-10-07 14:55:46.423363"]]
  [1m[35m (85.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Tiramisù"], ["price", 30.0], ["description", "Explicabo vitae neque repudiandae hic qui quae."], ["category_id", 4], ["created_at", "2017-10-07 14:55:46.512097"], ["updated_at", "2017-10-07 14:55:46.512097"]]
  [1m[36m (102.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Fish and chips"], ["price", 46.0], ["description", "Velit culpa non autem quod et magni blanditiis."], ["category_id", 4], ["created_at", "2017-10-07 14:55:46.618713"], ["updated_at", "2017-10-07 14:55:46.618713"]]
  [1m[35m (78.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["title", "olive"], ["establishment_id", 1], ["created_at", "2017-10-07 14:55:46.700796"], ["updated_at", "2017-10-07 14:55:46.700796"]]
  [1m[36m (107.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Chicken wings"], ["price", 48.0], ["description", "Ut sed id aspernatur neque nesciunt."], ["category_id", 5], ["created_at", "2017-10-07 14:55:46.811765"], ["updated_at", "2017-10-07 14:55:46.811765"]]
  [1m[35m (74.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "French fries with sausages"], ["price", 10.0], ["description", "Sed eos consequuntur aut porro pariatur soluta sit dignissimos."], ["category_id", 5], ["created_at", "2017-10-07 14:55:46.889294"], ["updated_at", "2017-10-07 14:55:46.889294"]]
  [1m[36m (75.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Barbecue Ribs"], ["price", 39.0], ["description", "Laborum ducimus natus et quod officia dolor aut."], ["category_id", 5], ["created_at", "2017-10-07 14:55:46.967024"], ["updated_at", "2017-10-07 14:55:46.967024"]]
  [1m[35m (108.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Caprese Salad"], ["price", 24.0], ["description", "Nihil quae cupiditate et."], ["category_id", 5], ["created_at", "2017-10-07 14:55:47.077997"], ["updated_at", "2017-10-07 14:55:47.077997"]]
  [1m[36m (63.8ms)[0m  [1mcommit transaction[0m


Started GET "/" for 127.0.0.1 at 2017-10-07 20:55:49 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (13.9ms)
Completed 200 OK in 85ms (Views: 82.9ms | ActiveRecord: 0.7ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@admin.ru' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "Andrew"], ["email", "admin@admin.ru"], ["encrypted_password", "$2a$11$2mAZEzXHOdjhcrxN7y9jvOMF9SoPjUuD6.LHU9uW0fF2QtHWmWO1y"], ["created_at", "2017-10-07 14:58:34.527268"], ["updated_at", "2017-10-07 14:58:34.527268"]]
  [1m[36m (81.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user@user.ru' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "User"], ["email", "user@user.ru"], ["encrypted_password", "$2a$11$j9.21FPDKqAJuFyPHDZd6uEZvkP0fXAuqtGHbkbHkFxW0MFZ17g5y"], ["created_at", "2017-10-07 14:58:34.794972"], ["updated_at", "2017-10-07 14:58:34.794972"]]
  [1m[36m (81.2ms)[0m  [1mcommit transaction[0m


Started GET "/" for 127.0.0.1 at 2017-10-07 20:58:40 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 65ms (Views: 63.0ms | ActiveRecord: 0.3ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-07 20:58:42 +0600
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (2.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (208.8ms)
Completed 200 OK in 347ms (Views: 319.6ms | ActiveRecord: 0.7ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-10-07 20:58:52 +0600
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"YtAX6i/wxESrFpfR70FPkDeWz7qU6VvQGHxFIrjtVb5tfIE16H6hWrLwlnEht3Xs5koBZJo44Vu8L0M8BJ+sUA==", "user"=>{"email"=>"admin@admin.ru", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "admin@admin.ru"]]
Redirected to http://localhost:3000/
Completed 302 Found in 295ms (ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 20:58:52 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (5.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 138ms (ActiveRecord: 0.7ms)

ActionView::Template::Error (undefined method `profile_path' for #<#<Class:0x0055de949c5720>:0x007fbc5de05b98>):
    24:     <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    25:       <ul class="nav navbar-nav navbar-right">
    26:         <% if user_signed_in? %>
    27:           <%= link_to "Profile", profile_path(current_user.username), class: 'btn btn-default navbar-btn' %>
    28:           <p class="navbar-text">
    29:             Hello, <%= link_to current_user.username,  edit_user_registration_path, class: 'navbar-link' %>
    30:           </p>
  app/views/layouts/application.html.erb:27:in `_app_views_layouts_application_html_erb___3183550993944887732_47207231946600'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (31.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.8ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 20:59:15 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (4.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered line_items/_line_item.html.erb (8.5ms)
Completed 500 Internal Server Error in 80ms (ActiveRecord: 1.0ms)

ActionView::Template::Error (undefined method `line_items' for nil:NilClass):
    2: 	<li class="dropdown">
    3: 	  <a href="" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
    4: 	  	Корзина 
    5: 	  	<span class="badge"><%= current_cart.line_items.count %></span>
    6: 	  	<span class="caret"></span>
    7: 	  </a>
    8: 	  <% if current_cart.line_items.count == 0 then %>
  app/views/line_items/_line_item.html.erb:5:in `_app_views_line_items__line_item_html_erb__4493271540258332797_47207237237620'
  app/views/layouts/application.html.erb:30:in `_app_views_layouts_application_html_erb___3183550993944887732_70223500292400'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.2ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (34.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (47.0ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2017-10-07 15:09:52.899184"], ["updated_at", "2017-10-07 15:09:52.899184"]]
  [1m[35m (100.2ms)[0m  commit transaction
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m


Started GET "/" for 127.0.0.1 at 2017-10-07 21:10:00 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.6ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (12.5ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (30.8ms)
Completed 200 OK in 152ms (Views: 143.4ms | ActiveRecord: 2.5ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:10:33 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (5.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.0ms)
Completed 200 OK in 120ms (Views: 117.6ms | ActiveRecord: 0.7ms)


Started GET "/assets/application.self-218408cf494a351e4c6479d5457ac55b2b7c7363dac4fd33aabaab11da287f57.css?body=1" for 127.0.0.1 at 2017-10-07 21:10:33 +0600


Started GET "/" for 127.0.0.1 at 2017-10-07 21:11:56 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (4.6ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (5.4ms)
Completed 200 OK in 77ms (Views: 74.4ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:13:06 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (4.3ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (4.1ms)
Completed 200 OK in 87ms (Views: 84.1ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:13:37 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (4.7ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (4.6ms)
Completed 200 OK in 89ms (Views: 85.8ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:14:32 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (4.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.7ms)
Completed 200 OK in 80ms (Views: 76.5ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:14:53 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (5.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (16.4ms)
Completed 200 OK in 96ms (Views: 93.3ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:16:00 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.5ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (5.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (4.0ms)
Completed 200 OK in 73ms (Views: 70.2ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:16:05 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (5.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.3ms)
Completed 200 OK in 70ms (Views: 67.6ms | ActiveRecord: 0.7ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-10-07 21:16:23 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.5ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered establishments/show.html.erb within layouts/application (3.0ms)
Completed 500 Internal Server Error in 48ms (ActiveRecord: 0.8ms)

ActionView::Template::Error (undefined method `avatar' for nil:NilClass):
    1: <div class="row jumbotron">
    2: 	<div class="col-md-3">
    3: 		<%= image_tag @user.avatar.url(:medium), :class =>"img-rounded" %>
    4: 	</div>
    5: 	<div class="col-md-9">
    6: 		<div class="row">
  app/views/establishments/show.html.erb:3:in `_app_views_establishments_show_html_erb__3145778836654169555_70223497481800'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (32.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (43.7ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:19:03 +0600

ArgumentError (Unknown validator: 'PrecenseValidator'):
  app/models/user.rb:5:in `<class:User>'
  app/models/user.rb:1:in `<top (required)>'
  config/routes.rb:3:in `block in <top (required)>'
  config/routes.rb:1:in `<top (required)>'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (37.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (35.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (59.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:19:51 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.6ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (11.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (14.3ms)
Completed 200 OK in 104ms (Views: 95.6ms | ActiveRecord: 2.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:20:35 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (5.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.7ms)
Completed 200 OK in 73ms (Views: 70.2ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:20:54 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (4.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.1ms)
Completed 200 OK in 84ms (Views: 80.6ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:21:15 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (4.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.0ms)
Completed 200 OK in 66ms (Views: 63.6ms | ActiveRecord: 0.8ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-10-07 21:21:40 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  Rendered establishments/show.html.erb within layouts/application (3.3ms)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.4ms)

ActionView::Template::Error (undefined method `avatar' for nil:NilClass):
    1: <div class="row jumbotron">
    2: 	<div class="col-md-3">
    3: 		<%= image_tag @user.avatar.url(:medium), :class =>"img-rounded" %>
    4: 	</div>
    5: 	<div class="col-md-9">
    6: 		<div class="row">
  app/views/establishments/show.html.erb:3:in `_app_views_establishments_show_html_erb__3145778836654169555_70223497481800'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (10.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (35.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (23.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (46.3ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-10-07 21:22:28 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 3]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 4]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (63.5ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (4.5ms)
Completed 200 OK in 179ms (Views: 173.4ms | ActiveRecord: 2.5ms)


Started POST "/line_items" for 127.0.0.1 at 2017-10-07 21:22:42 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Caprese Salad", "price"=>"18.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Caprese Salad"], ["quantity", 1], ["price", 18.0], ["cart_id", 1], ["created_at", "2017-10-07 15:22:42.474659"], ["updated_at", "2017-10-07 15:22:42.474659"]]
  [1m[36m (95.5ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.html.erb (2.6ms)
  Rendered line_items/_line_item.html.erb (16.2ms)
  Rendered line_items/create.js.erb (19.2ms)
Completed 200 OK in 128ms (Views: 25.8ms | ActiveRecord: 96.6ms)


Started POST "/line_items" for 127.0.0.1 at 2017-10-07 21:22:45 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Caprese Salad", "price"=>"18.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Caprese Salad"], ["quantity", 1], ["price", 18.0], ["cart_id", 1], ["created_at", "2017-10-07 15:22:45.310596"], ["updated_at", "2017-10-07 15:22:45.310596"]]
  [1m[35m (66.9ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.html.erb (1.5ms)
  Rendered line_items/_line_item.html.erb (9.4ms)
  Rendered line_items/create.js.erb (10.6ms)
Completed 200 OK in 86ms (Views: 13.6ms | ActiveRecord: 67.7ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-10-07 21:22:47 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 3]]
  [1m[36mDish Load (0.6ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 4]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (10.1ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.html.erb (1.8ms)
  Rendered line_items/_line_item.html.erb (7.9ms)
Completed 200 OK in 133ms (Views: 128.4ms | ActiveRecord: 1.7ms)


Started DELETE "/line_items/destroy_all" for 127.0.0.1 at 2017-10-07 21:22:54 +0600
Processing by LineItemsController#destroy_all as JS
  [1m[36mSQL (83.8ms)[0m  [1mDELETE FROM "line_items"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (3.8ms)
  Rendered line_items/destroy_all.js.erb (5.1ms)
Completed 200 OK in 94ms (Views: 7.6ms | ActiveRecord: 84.1ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-10-07 21:22:56 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 3]]
  [1m[35mDish Load (0.1ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 4]]
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  Rendered establishments/show.html.erb within layouts/application (8.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (2.9ms)
Completed 200 OK in 78ms (Views: 74.9ms | ActiveRecord: 1.3ms)


Started POST "/line_items" for 127.0.0.1 at 2017-10-07 21:23:02 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Caprese Salad", "price"=>"18.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Caprese Salad"], ["quantity", 1], ["price", 18.0], ["cart_id", 1], ["created_at", "2017-10-07 15:23:02.955360"], ["updated_at", "2017-10-07 15:23:02.955360"]]
  [1m[35m (84.7ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.html.erb (1.9ms)
  Rendered line_items/_line_item.html.erb (8.7ms)
  Rendered line_items/create.js.erb (9.8ms)
Completed 200 OK in 102ms (Views: 12.0ms | ActiveRecord: 85.6ms)


Started POST "/line_items" for 127.0.0.1 at 2017-10-07 21:23:09 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Caprese Salad", "price"=>"18.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Caprese Salad"], ["quantity", 1], ["price", 18.0], ["cart_id", 1], ["created_at", "2017-10-07 15:23:09.206358"], ["updated_at", "2017-10-07 15:23:09.206358"]]
  [1m[36m (80.0ms)[0m  [1mcommit transaction[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/_cart.html.erb (2.5ms)
  Rendered line_items/_line_item.html.erb (9.4ms)
  Rendered line_items/create.js.erb (10.6ms)
Completed 200 OK in 97ms (Views: 12.9ms | ActiveRecord: 80.8ms)


Started POST "/line_items" for 127.0.0.1 at 2017-10-07 21:23:18 +0600
Processing by LineItemsController#create as JS
  Parameters: {"utf8"=>"✓", "line_item"=>{"title"=>"Caprese Salad", "price"=>"18.0", "cart_id"=>"1", "quantity"=>"1"}, "commit"=>"Добавить"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("title", "quantity", "price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Caprese Salad"], ["quantity", 1], ["price", 18.0], ["cart_id", 1], ["created_at", "2017-10-07 15:23:18.060259"], ["updated_at", "2017-10-07 15:23:18.060259"]]
  [1m[35m (90.0ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.html.erb (1.7ms)
  Rendered line_items/_line_item.html.erb (9.4ms)
  Rendered line_items/create.js.erb (10.8ms)
Completed 200 OK in 112ms (Views: 16.2ms | ActiveRecord: 91.0ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-10-07 21:23:23 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCategory Load (0.3ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 3]]
  [1m[36mDish Load (0.2ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 4]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (14.1ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.html.erb (1.5ms)
  Rendered line_items/_line_item.html.erb (7.8ms)
Completed 200 OK in 94ms (Views: 90.5ms | ActiveRecord: 1.5ms)


Started DELETE "/line_items/3" for 127.0.0.1 at 2017-10-07 21:23:30 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"3"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 3]]
  [1m[35m (86.2ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.html.erb (1.5ms)
  Rendered line_items/_line_item.html.erb (8.7ms)
  Rendered line_items/destroy.js.erb (10.4ms)
Completed 200 OK in 104ms (Views: 13.8ms | ActiveRecord: 87.2ms)


Started DELETE "/line_items/4" for 127.0.0.1 at 2017-10-07 21:23:32 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"4"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 4]]
  [1m[35m (102.7ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered carts/_cart.html.erb (1.9ms)
  Rendered line_items/_line_item.html.erb (7.4ms)
  Rendered line_items/destroy.js.erb (9.1ms)
Completed 200 OK in 118ms (Views: 11.4ms | ActiveRecord: 103.7ms)


Started DELETE "/line_items/5" for 127.0.0.1 at 2017-10-07 21:23:32 +0600
Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"5"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 5]]
  [1m[35m (93.2ms)[0m  commit transaction
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (4.2ms)
  Rendered line_items/destroy.js.erb (5.9ms)
Completed 200 OK in 107ms (Views: 9.8ms | ActiveRecord: 94.1ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-10-07 21:23:33 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mEstablishment Load (0.2ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 3]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 4]]
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (9.9ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (2.5ms)
Completed 200 OK in 74ms (Views: 71.3ms | ActiveRecord: 1.1ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-10-07 21:24:02 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCategory Load (0.1ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 3]]
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 4]]
  [1m[35mCart Load (0.4ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (10.2ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  Rendered line_items/_line_item.html.erb (2.5ms)
Completed 200 OK in 74ms (Views: 69.8ms | ActiveRecord: 1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 1]]
  [1m[36m (91.4ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@admin.ru' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@admin.ru' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@admin.ru' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@admin.ru' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (85.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (110.7ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateEstablishments (20170825133328)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "establishments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170825133328"]]
  [1m[35m (113.1ms)[0m  commit transaction
Migrating to CreateDishes (20170825133556)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "dishes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "price" decimal, "category_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.4ms)[0m  [1mCREATE  INDEX "index_dishes_on_category_id" ON "dishes" ("category_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170825133556"]]
  [1m[36m (83.0ms)[0m  [1mcommit transaction[0m
Migrating to CreateCarts (20170828141041)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170828141041"]]
  [1m[36m (85.1ms)[0m  [1mcommit transaction[0m
Migrating to CreateLineItems (20170828141635)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "price" decimal, "quantity" integer, "cart_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170828141635"]]
  [1m[35m (118.0ms)[0m  commit transaction
Migrating to CreateCategories (20170829074359)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "establishment_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_categories_on_establishment_id" ON "categories" ("establishment_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170829074359"]]
  [1m[36m (106.0ms)[0m  [1mcommit transaction[0m
Migrating to AddAttachmentImageToEstablishments (20171006134611)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.8ms)[0m  [1mALTER TABLE "establishments" ADD "image_file_name" varchar[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "establishments" ADD "image_content_type" varchar
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "establishments" ADD "image_file_size" integer[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "establishments" ADD "image_updated_at" datetime
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20171006134611"]]
  [1m[35m (139.0ms)[0m  commit transaction
Migrating to CreateUsers (20171007141144)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (11.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "admin" boolean, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20171007141144"]]
  [1m[35m (110.1ms)[0m  commit transaction
Migrating to AddDeviseToUsers (20171007141657)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "users" ADD "email" varchar DEFAULT '' NOT NULL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "users" ADD "encrypted_password" varchar DEFAULT '' NOT NULL[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "users" ADD "remember_created_at" datetime
  [1m[36m (0.4ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20171007141657"]]
  [1m[36m (83.3ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_categories_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_categories_on_establishment_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_category_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@admin.ru' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction


Started GET "/establishments/3" for 127.0.0.1 at 2017-10-07 21:35:40 +0600
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
Completed 404 Not Found in 30ms (ActiveRecord: 0.8ms)

ActiveRecord::RecordNotFound (Couldn't find Establishment with 'id'=3):
  app/controllers/establishments_controller.rb:7:in `show'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (31.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (739.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (765.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:35:48 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.3ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (2.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
Completed 200 OK in 401ms (Views: 398.8ms | ActiveRecord: 1.0ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@admin.ru' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["username", "Andrew"], ["email", "admin@admin.ru"], ["encrypted_password", "$2a$11$ZxB/MsFszblAxkvsfAQsQeR7U/19Tr79S5EHO0SpFi8YNLSTTPH6i"], ["admin", "t"], ["created_at", "2017-10-07 15:35:56.968806"], ["updated_at", "2017-10-07 15:35:56.968806"]]
  [1m[36m (88.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user@user.ru' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "User"], ["email", "user@user.ru"], ["encrypted_password", "$2a$11$lxMKek6S3NlRJM/yLQqlee9rY6dVHd1N3EqhxaBR224uT84fdDCZO"], ["created_at", "2017-10-07 15:35:57.250769"], ["updated_at", "2017-10-07 15:35:57.250769"]]
  [1m[36m (95.0ms)[0m  [1mcommit transaction[0m
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15461-bt5p7e.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15461-1jsmsl6.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15461-1jsmsl6.png[0]'
Command :: convert '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15461-1jsmsl6.png[0]' -auto-orient -resize "300x300>" '/tmp/47044d9831cbb40c847475b17d5ff59d20171007-15461-9g0cmn'
  [1m[35m (0.3ms)[0m  begin transaction
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15461-pyj0h1.png'
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "establishments" ("title", "description", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["title", "Purdy Group"], ["description", "Et quo animi velit."], ["image_file_name", "default.png"], ["image_content_type", "image/png"], ["image_file_size", 11378], ["image_updated_at", "2017-10-07 15:35:58.047591"], ["created_at", "2017-10-07 15:35:58.149145"], ["updated_at", "2017-10-07 15:35:58.149145"]]
  [1m[35m (76.3ms)[0m  commit transaction
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15461-cj0z0t.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15461-11uxdqx.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15461-11uxdqx.png[0]'
Command :: convert '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15461-11uxdqx.png[0]' -auto-orient -resize "300x300>" '/tmp/a57e2b4326dd9f963e910b31cd2f862320171007-15461-14wtu60'
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15461-18h6n0c.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "establishments" ("title", "description", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["title", "Kerluke, Effertz and O'Conner"], ["description", "Non quas voluptatem soluta esse iste sunt ipsum aut."], ["image_file_name", "default.png"], ["image_content_type", "image/png"], ["image_file_size", 11378], ["image_updated_at", "2017-10-07 15:35:58.237433"], ["created_at", "2017-10-07 15:35:58.308999"], ["updated_at", "2017-10-07 15:35:58.308999"]]
  [1m[36m (74.3ms)[0m  [1mcommit transaction[0m
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15461-va7y8t.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15461-1jtg7nh.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15461-1jtg7nh.png[0]'
Command :: convert '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15461-1jtg7nh.png[0]' -auto-orient -resize "300x300>" '/tmp/bf5385ad79c7cf76b1dcb6b7abfdb2b920171007-15461-lr1k7h'
  [1m[35m (0.2ms)[0m  begin transaction
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15461-x8izu.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "establishments" ("title", "description", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["title", "Cassin, Kreiger and Kiehn"], ["description", "Aut quasi consequuntur qui reiciendis."], ["image_file_name", "default.png"], ["image_content_type", "image/png"], ["image_file_size", 11378], ["image_updated_at", "2017-10-07 15:35:58.393009"], ["created_at", "2017-10-07 15:35:58.460803"], ["updated_at", "2017-10-07 15:35:58.460803"]]
  [1m[35m (88.7ms)[0m  commit transaction
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15461-aollfb.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15461-fpf0p7.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15461-fpf0p7.png[0]'
Command :: convert '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15461-fpf0p7.png[0]' -auto-orient -resize "300x300>" '/tmp/7b3937b1b5d2a7ec59df1da24cabf41a20171007-15461-1becaxb'
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15461-1gkwyru.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "establishments" ("title", "description", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["title", "Ward, Sauer and Swaniawski"], ["description", "Vel aliquid debitis sit veniam."], ["image_file_name", "default.png"], ["image_content_type", "image/png"], ["image_file_size", 11378], ["image_updated_at", "2017-10-07 15:35:58.559089"], ["created_at", "2017-10-07 15:35:58.628280"], ["updated_at", "2017-10-07 15:35:58.628280"]]
  [1m[36m (254.0ms)[0m  [1mcommit transaction[0m
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15461-10g7l97.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15461-1ao0z35.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15461-1ao0z35.png[0]'
Command :: convert '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15461-1ao0z35.png[0]' -auto-orient -resize "300x300>" '/tmp/db6836411ac02a974626087e8118702c20171007-15461-1w5f8vj'
  [1m[35m (0.2ms)[0m  begin transaction
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15461-41mpmt.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "establishments" ("title", "description", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["title", "Rodriguez, Daniel and Kuhlman"], ["description", "Quia rerum distinctio voluptates beatae in quod aperiam expedita."], ["image_file_name", "default.png"], ["image_content_type", "image/png"], ["image_file_size", 11378], ["image_updated_at", "2017-10-07 15:35:58.891739"], ["created_at", "2017-10-07 15:35:58.958325"], ["updated_at", "2017-10-07 15:35:58.958325"]]
  [1m[35m (59.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["title", "mint green"], ["establishment_id", 5], ["created_at", "2017-10-07 15:35:59.033914"], ["updated_at", "2017-10-07 15:35:59.033914"]]
  [1m[36m (109.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Katsu Curry"], ["price", 35.0], ["description", "Eum voluptatem atque optio sapiente."], ["category_id", 1], ["created_at", "2017-10-07 15:35:59.154581"], ["updated_at", "2017-10-07 15:35:59.154581"]]
  [1m[35m (98.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Souvlaki"], ["price", 42.0], ["description", "Deleniti est sapiente porro itaque."], ["category_id", 1], ["created_at", "2017-10-07 15:35:59.257767"], ["updated_at", "2017-10-07 15:35:59.257767"]]
  [1m[36m (114.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Pasta with Tomato and Basil"], ["price", 34.0], ["description", "Ut et pariatur tempora animi culpa dolores."], ["category_id", 1], ["created_at", "2017-10-07 15:35:59.376335"], ["updated_at", "2017-10-07 15:35:59.376335"]]
  [1m[35m (74.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Pappardelle alla Bolognese"], ["price", 19.0], ["description", "Id cumque nemo deleniti."], ["category_id", 1], ["created_at", "2017-10-07 15:35:59.454050"], ["updated_at", "2017-10-07 15:35:59.454050"]]
  [1m[36m (74.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "pink"], ["establishment_id", 3], ["created_at", "2017-10-07 15:35:59.531268"], ["updated_at", "2017-10-07 15:35:59.531268"]]
  [1m[35m (110.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Bruschette with Tomato"], ["price", 26.0], ["description", "Eos et temporibus est."], ["category_id", 2], ["created_at", "2017-10-07 15:35:59.644604"], ["updated_at", "2017-10-07 15:35:59.644604"]]
  [1m[36m (72.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Souvlaki"], ["price", 29.0], ["description", "Soluta consectetur ut omnis velit autem."], ["category_id", 2], ["created_at", "2017-10-07 15:35:59.720587"], ["updated_at", "2017-10-07 15:35:59.720587"]]
  [1m[35m (87.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Pork belly buns"], ["price", 23.0], ["description", "Minima accusamus ea dolorum at repellat."], ["category_id", 2], ["created_at", "2017-10-07 15:35:59.811741"], ["updated_at", "2017-10-07 15:35:59.811741"]]
  [1m[36m (85.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Califlower penne"], ["price", 31.0], ["description", "Non placeat sed totam vitae cumque velit ut sapiente."], ["category_id", 2], ["created_at", "2017-10-07 15:35:59.900560"], ["updated_at", "2017-10-07 15:35:59.900560"]]
  [1m[35m (85.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["title", "cyan"], ["establishment_id", 1], ["created_at", "2017-10-07 15:35:59.989409"], ["updated_at", "2017-10-07 15:35:59.989409"]]
  [1m[36m (74.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Pork sausage roll"], ["price", 34.0], ["description", "Illum voluptatem fugiat odio reiciendis quis ea in voluptas."], ["category_id", 3], ["created_at", "2017-10-07 15:36:00.067019"], ["updated_at", "2017-10-07 15:36:00.067019"]]
  [1m[35m (100.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Teriyaki Chicken donburi"], ["price", 35.0], ["description", "Aut qui ipsam laudantium libero aliquid."], ["category_id", 3], ["created_at", "2017-10-07 15:36:00.170468"], ["updated_at", "2017-10-07 15:36:00.170468"]]
  [1m[36m (125.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Linguine with clams"], ["price", 39.0], ["description", "Consequuntur sit voluptatem ut iusto at."], ["category_id", 3], ["created_at", "2017-10-07 15:36:00.299973"], ["updated_at", "2017-10-07 15:36:00.299973"]]
  [1m[35m (118.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Barbecue Ribs"], ["price", 12.0], ["description", "Aut deserunt ut neque incidunt."], ["category_id", 3], ["created_at", "2017-10-07 15:36:00.422500"], ["updated_at", "2017-10-07 15:36:00.422500"]]
  [1m[36m (73.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "green"], ["establishment_id", 3], ["created_at", "2017-10-07 15:36:00.499608"], ["updated_at", "2017-10-07 15:36:00.499608"]]
  [1m[35m (96.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Fettuccine Alfredo"], ["price", 25.0], ["description", "Non ea ab quia qui dolore molestias voluptates dolorum."], ["category_id", 4], ["created_at", "2017-10-07 15:36:00.599717"], ["updated_at", "2017-10-07 15:36:00.599717"]]
  [1m[36m (85.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Fettuccine Alfredo"], ["price", 32.0], ["description", "Aut nihil enim voluptas necessitatibus."], ["category_id", 4], ["created_at", "2017-10-07 15:36:00.688452"], ["updated_at", "2017-10-07 15:36:00.688452"]]
  [1m[35m (85.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Califlower penne"], ["price", 12.0], ["description", "Odit et enim fugiat quia vero."], ["category_id", 4], ["created_at", "2017-10-07 15:36:00.776618"], ["updated_at", "2017-10-07 15:36:00.776618"]]
  [1m[36m (86.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Cheeseburger"], ["price", 49.0], ["description", "Tempore ratione repudiandae accusantium amet et ipsa."], ["category_id", 4], ["created_at", "2017-10-07 15:36:00.865709"], ["updated_at", "2017-10-07 15:36:00.865709"]]
  [1m[35m (108.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["title", "maroon"], ["establishment_id", 4], ["created_at", "2017-10-07 15:36:00.976644"], ["updated_at", "2017-10-07 15:36:00.976644"]]
  [1m[36m (86.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Caesar Salad"], ["price", 14.0], ["description", "Qui quis repudiandae sint ut."], ["category_id", 5], ["created_at", "2017-10-07 15:36:01.065622"], ["updated_at", "2017-10-07 15:36:01.065622"]]
  [1m[35m (110.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Fettuccine Alfredo"], ["price", 45.0], ["description", "Odit est iste excepturi nihil aut exercitationem architecto autem."], ["category_id", 5], ["created_at", "2017-10-07 15:36:01.179551"], ["updated_at", "2017-10-07 15:36:01.179551"]]
  [1m[36m (70.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Salmon nigiri"], ["price", 30.0], ["description", "Quis eum est provident."], ["category_id", 5], ["created_at", "2017-10-07 15:36:01.254200"], ["updated_at", "2017-10-07 15:36:01.254200"]]
  [1m[35m (107.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Linguine with clams"], ["price", 29.0], ["description", "Est eum odit necessitatibus autem et repellendus."], ["category_id", 5], ["created_at", "2017-10-07 15:36:01.364888"], ["updated_at", "2017-10-07 15:36:01.364888"]]
  [1m[36m (75.0ms)[0m  [1mcommit transaction[0m


Started GET "/" for 127.0.0.1 at 2017-10-07 21:37:03 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.6ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (38.9ms)
Completed 200 OK in 182ms (Views: 174.1ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:44:37 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (9.0ms)
Completed 200 OK in 82ms (Views: 79.6ms | ActiveRecord: 0.4ms)


Started GET "/establishments/2" for 127.0.0.1 at 2017-10-07 21:44:40 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?  [["establishment_id", 2]]
  Rendered establishments/show.html.erb within layouts/application (22.8ms)
Completed 200 OK in 96ms (Views: 76.3ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:44:42 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (0.4ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (6.0ms)
Completed 200 OK in 78ms (Views: 75.4ms | ActiveRecord: 0.4ms)


Started GET "/establishments/3" for 127.0.0.1 at 2017-10-07 21:44:43 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mEstablishment Load (0.2ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 3]]
  [1m[35mDish Load (0.2ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 2]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (54.0ms)
Completed 500 Internal Server Error in 62ms (ActiveRecord: 1.9ms)

ActionView::Template::Error (undefined method `id' for nil:NilClass):
    35: 								<%= form_for @line_item, remote: true do |f| %>
    36: 									<%= f.hidden_field :title, value: dish.title %>
    37: 									<%= f.hidden_field :price, value: dish.price %>
    38: 									<%= f.hidden_field :cart_id, value: current_cart.id %>
    39: 									<%= f.number_field :quantity, min: 1, value: 1 %>	
    40: 									<%= f.submit "Добавить" %>						
    41: 								<% end %>
  app/views/establishments/show.html.erb:38:in `block (3 levels) in _app_views_establishments_show_html_erb___1269242261435864886_70112194390100'
  app/views/establishments/show.html.erb:35:in `block (2 levels) in _app_views_establishments_show_html_erb___1269242261435864886_70112194390100'
  app/views/establishments/show.html.erb:29:in `block in _app_views_establishments_show_html_erb___1269242261435864886_70112194390100'
  app/views/establishments/show.html.erb:20:in `_app_views_establishments_show_html_erb___1269242261435864886_70112194390100'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.1ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (32.7ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (22.0ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (44.0ms)


Started GET "/establishments/4" for 127.0.0.1 at 2017-10-07 21:44:56 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 4]]
  [1m[35mDish Load (0.3ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 5]]
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (13.9ms)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 1.0ms)

ActionView::Template::Error (undefined method `id' for nil:NilClass):
    35: 								<%= form_for @line_item, remote: true do |f| %>
    36: 									<%= f.hidden_field :title, value: dish.title %>
    37: 									<%= f.hidden_field :price, value: dish.price %>
    38: 									<%= f.hidden_field :cart_id, value: current_cart.id %>
    39: 									<%= f.number_field :quantity, min: 1, value: 1 %>	
    40: 									<%= f.submit "Добавить" %>						
    41: 								<% end %>
  app/views/establishments/show.html.erb:38:in `block (3 levels) in _app_views_establishments_show_html_erb___1269242261435864886_70112194390100'
  app/views/establishments/show.html.erb:35:in `block (2 levels) in _app_views_establishments_show_html_erb___1269242261435864886_70112194390100'
  app/views/establishments/show.html.erb:29:in `block in _app_views_establishments_show_html_erb___1269242261435864886_70112194390100'
  app/views/establishments/show.html.erb:20:in `_app_views_establishments_show_html_erb___1269242261435864886_70112194390100'


  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.8ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (31.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (21.9ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /home/mazahaker/.rbenv/versions/2.2.5/lib/ruby/gems/2.2.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (46.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:44:57 +0600
Processing by EstablishmentsController#index as HTML
  [1m[35mEstablishment Load (0.3ms)[0m  SELECT "establishments".* FROM "establishments"
  Rendered establishments/index.html.erb within layouts/application (6.5ms)
Completed 200 OK in 105ms (Views: 102.7ms | ActiveRecord: 0.3ms)
  [1m[36m (103.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (98.3ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateEstablishments (20170825133328)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "establishments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170825133328"]]
  [1m[35m (92.4ms)[0m  commit transaction
Migrating to CreateDishes (20170825133556)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "dishes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "price" decimal, "category_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_dishes_on_category_id" ON "dishes" ("category_id")[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170825133556"]]
  [1m[36m (82.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateCarts (20170828141041)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170828141041"]]
  [1m[36m (107.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateLineItems (20170828141635)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "price" decimal, "quantity" integer, "cart_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170828141635"]]
  [1m[35m (104.9ms)[0m  commit transaction
Migrating to CreateCategories (20170829074359)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "establishment_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_categories_on_establishment_id" ON "categories" ("establishment_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170829074359"]]
  [1m[36m (86.0ms)[0m  [1mcommit transaction[0m
Migrating to AddAttachmentImageToEstablishments (20171006134611)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "establishments" ADD "image_file_name" varchar[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "establishments" ADD "image_content_type" varchar
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "establishments" ADD "image_file_size" integer[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "establishments" ADD "image_updated_at" datetime
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20171006134611"]]
  [1m[35m (127.1ms)[0m  commit transaction
Migrating to CreateUsers (20171007141144)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.7ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "admin" boolean, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20171007141144"]]
  [1m[35m (128.9ms)[0m  commit transaction
Migrating to AddDeviseToUsers (20171007141657)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "users" ADD "email" varchar DEFAULT '' NOT NULL
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ADD "encrypted_password" varchar DEFAULT '' NOT NULL[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "users" ADD "remember_created_at" datetime
  [1m[36m (0.4ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20171007141657"]]
  [1m[36m (105.1ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_categories_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_categories_on_establishment_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_category_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2017-10-07 15:45:51.403795"], ["updated_at", "2017-10-07 15:45:51.403795"]]
  [1m[35m (124.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@admin.ru' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "Andrew"], ["email", "admin@admin.ru"], ["encrypted_password", "$2a$11$vy03DxUJp2QJYRSOEgPSue6PQb.jgxtLFZF/SifrN1HU1.vF1wCtC"], ["admin", "t"], ["created_at", "2017-10-07 15:45:51.739702"], ["updated_at", "2017-10-07 15:45:51.739702"]]
  [1m[35m (80.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user@user.ru' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (126.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (98.7ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateEstablishments (20170825133328)
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "establishments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170825133328"]]
  [1m[35m (100.7ms)[0m  commit transaction
Migrating to CreateDishes (20170825133556)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "dishes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "price" decimal, "category_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_dishes_on_category_id" ON "dishes" ("category_id")[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170825133556"]]
  [1m[36m (105.2ms)[0m  [1mcommit transaction[0m
Migrating to CreateCarts (20170828141041)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170828141041"]]
  [1m[36m (95.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateLineItems (20170828141635)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "price" decimal, "quantity" integer, "cart_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170828141635"]]
  [1m[35m (94.0ms)[0m  commit transaction
Migrating to CreateCategories (20170829074359)
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.7ms)[0m  CREATE TABLE "categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "establishment_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_categories_on_establishment_id" ON "categories" ("establishment_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170829074359"]]
  [1m[36m (94.7ms)[0m  [1mcommit transaction[0m
Migrating to AddAttachmentImageToEstablishments (20171006134611)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "establishments" ADD "image_file_name" varchar[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "establishments" ADD "image_content_type" varchar
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "establishments" ADD "image_file_size" integer[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "establishments" ADD "image_updated_at" datetime
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20171006134611"]]
  [1m[35m (95.7ms)[0m  commit transaction
Migrating to CreateUsers (20171007141144)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "admin" boolean, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20171007141144"]]
  [1m[35m (76.3ms)[0m  commit transaction
Migrating to AddDeviseToUsers (20171007141657)
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "users" ADD "email" varchar DEFAULT '' NOT NULL
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ADD "encrypted_password" varchar DEFAULT '' NOT NULL[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "users" ADD "remember_created_at" datetime
  [1m[36m (0.6ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20171007141657"]]
  [1m[36m (131.1ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_categories_on_establishment_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_categories_on_establishment_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_dishes_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_dishes_on_category_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2017-10-07 15:46:18.431231"], ["updated_at", "2017-10-07 15:46:18.431231"]]
  [1m[35m (84.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@admin.ru' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "Andrew"], ["email", "admin@admin.ru"], ["encrypted_password", "$2a$11$UHhKhLxB0e9OkLRBEgQyFeXSfw2/Cm3KVE2uqYYOI5mLBOgolC4q."], ["admin", "t"], ["created_at", "2017-10-07 15:46:18.728084"], ["updated_at", "2017-10-07 15:46:18.728084"]]
  [1m[35m (84.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user@user.ru' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "User"], ["email", "user@user.ru"], ["encrypted_password", "$2a$11$QzYx6s8TrfM1hI0Jg9EISunHLnSHsUmVv354//diy07DjexOgjkaO"], ["created_at", "2017-10-07 15:46:18.998228"], ["updated_at", "2017-10-07 15:46:18.998228"]]
  [1m[35m (81.0ms)[0m  commit transaction
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15903-c4khq6.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15903-mmigk7.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15903-mmigk7.png[0]'
Command :: convert '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15903-mmigk7.png[0]' -auto-orient -resize "300x300>" '/tmp/a3c86f7b3d8eefcd11f482ce7b59eee620171007-15903-1ju15nl'
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15903-gyvyj8.png'
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "establishments" ("title", "description", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["title", "Yundt LLC"], ["description", "Reprehenderit aut ut dolore quia eos eligendi dolorem."], ["image_file_name", "default.png"], ["image_content_type", "image/png"], ["image_file_size", 11378], ["image_updated_at", "2017-10-07 15:46:19.758100"], ["created_at", "2017-10-07 15:46:19.830675"], ["updated_at", "2017-10-07 15:46:19.830675"]]
  [1m[36m (106.9ms)[0m  [1mcommit transaction[0m
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15903-f38woj.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15903-pb3m8y.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15903-pb3m8y.png[0]'
Command :: convert '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15903-pb3m8y.png[0]' -auto-orient -resize "300x300>" '/tmp/2398454fc9dfcd56e71d8c54a2dba8d620171007-15903-14mj5ii'
  [1m[35m (0.1ms)[0m  begin transaction
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15903-mzfldv.png'
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "establishments" ("title", "description", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["title", "Botsford Inc"], ["description", "Iste et corrupti odit quaerat in qui."], ["image_file_name", "default.png"], ["image_content_type", "image/png"], ["image_file_size", 11378], ["image_updated_at", "2017-10-07 15:46:19.947908"], ["created_at", "2017-10-07 15:46:20.014331"], ["updated_at", "2017-10-07 15:46:20.014331"]]
  [1m[35m (67.7ms)[0m  commit transaction
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15903-1ajighg.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15903-10e22vz.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15903-10e22vz.png[0]'
Command :: convert '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15903-10e22vz.png[0]' -auto-orient -resize "300x300>" '/tmp/8b6601089cb31067596e6c1fc1baf0fc20171007-15903-961vl8'
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15903-148dmek.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "establishments" ("title", "description", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["title", "Schumm and Sons"], ["description", "Cupiditate voluptas ratione et blanditiis repellendus ut laborum consequatur."], ["image_file_name", "default.png"], ["image_content_type", "image/png"], ["image_file_size", 11378], ["image_updated_at", "2017-10-07 15:46:20.092195"], ["created_at", "2017-10-07 15:46:20.160723"], ["updated_at", "2017-10-07 15:46:20.160723"]]
  [1m[36m (66.7ms)[0m  [1mcommit transaction[0m
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15903-42mjwl.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15903-tw977k.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15903-tw977k.png[0]'
Command :: convert '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15903-tw977k.png[0]' -auto-orient -resize "300x300>" '/tmp/73d6705ea172c253dbafa17e86b5177b20171007-15903-ac5cj8'
  [1m[35m (0.2ms)[0m  begin transaction
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15903-1rkvvd7.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "establishments" ("title", "description", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["title", "Homenick, Crooks and McClure"], ["description", "Molestiae dolores officia sed voluptatum aliquid harum."], ["image_file_name", "default.png"], ["image_content_type", "image/png"], ["image_file_size", 11378], ["image_updated_at", "2017-10-07 15:46:20.236194"], ["created_at", "2017-10-07 15:46:20.304560"], ["updated_at", "2017-10-07 15:46:20.304560"]]
  [1m[35m (89.7ms)[0m  commit transaction
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15903-1yn9hop.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15903-igrp9c.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15903-igrp9c.png[0]'
Command :: convert '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15903-igrp9c.png[0]' -auto-orient -resize "300x300>" '/tmp/e61e0f83b005b5947cd2f1034b1b86cc20171007-15903-1agwcfq'
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Command :: file -b --mime '/tmp/c21f969b5f03d33d43e04f8f136e768220171007-15903-10n0j24.png'
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "establishments" ("title", "description", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["title", "Bins-Kuhlman"], ["description", "Voluptatem ea ut qui unde laboriosam et at velit."], ["image_file_name", "default.png"], ["image_content_type", "image/png"], ["image_file_size", 11378], ["image_updated_at", "2017-10-07 15:46:20.402634"], ["created_at", "2017-10-07 15:46:20.470020"], ["updated_at", "2017-10-07 15:46:20.470020"]]
  [1m[36m (77.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "indigo"], ["establishment_id", 1], ["created_at", "2017-10-07 15:46:20.567333"], ["updated_at", "2017-10-07 15:46:20.567333"]]
  [1m[35m (108.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Caesar Salad"], ["price", 16.0], ["description", "Sapiente quo voluptate ad nobis sequi."], ["category_id", 1], ["created_at", "2017-10-07 15:46:20.686934"], ["updated_at", "2017-10-07 15:46:20.686934"]]
  [1m[36m (78.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Pappardelle alla Bolognese"], ["price", 44.0], ["description", "Et laborum repellat veritatis et."], ["category_id", 1], ["created_at", "2017-10-07 15:46:20.768311"], ["updated_at", "2017-10-07 15:46:20.768311"]]
  [1m[35m (73.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Mushroom Risotto"], ["price", 35.0], ["description", "Repudiandae eum et hic."], ["category_id", 1], ["created_at", "2017-10-07 15:46:20.846068"], ["updated_at", "2017-10-07 15:46:20.846068"]]
  [1m[36m (85.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Fish and chips"], ["price", 50.0], ["description", "Repellendus ut minima non illo molestias."], ["category_id", 1], ["created_at", "2017-10-07 15:46:20.934310"], ["updated_at", "2017-10-07 15:46:20.934310"]]
  [1m[35m (167.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["title", "maroon"], ["establishment_id", 1], ["created_at", "2017-10-07 15:46:21.104075"], ["updated_at", "2017-10-07 15:46:21.104075"]]
  [1m[36m (138.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Meatballs with sauce"], ["price", 40.0], ["description", "Similique ut voluptatem aut vero architecto."], ["category_id", 2], ["created_at", "2017-10-07 15:46:21.245261"], ["updated_at", "2017-10-07 15:46:21.245261"]]
  [1m[35m (62.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Tuna sashimi"], ["price", 21.0], ["description", "Delectus ipsa et suscipit quidem et fugiat ducimus."], ["category_id", 2], ["created_at", "2017-10-07 15:46:21.311482"], ["updated_at", "2017-10-07 15:46:21.311482"]]
  [1m[36m (64.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "California maki"], ["price", 11.0], ["description", "Suscipit sunt vitae qui et qui illo similique."], ["category_id", 2], ["created_at", "2017-10-07 15:46:21.378235"], ["updated_at", "2017-10-07 15:46:21.378235"]]
  [1m[35m (97.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Souvlaki"], ["price", 32.0], ["description", "Vero dolorem laudantium amet velit ut omnis qui."], ["category_id", 2], ["created_at", "2017-10-07 15:46:21.478100"], ["updated_at", "2017-10-07 15:46:21.478100"]]
  [1m[36m (79.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "grey"], ["establishment_id", 4], ["created_at", "2017-10-07 15:46:21.560834"], ["updated_at", "2017-10-07 15:46:21.560834"]]
  [1m[35m (75.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Fish and chips"], ["price", 37.0], ["description", "Asperiores laudantium iste quo amet voluptatem."], ["category_id", 3], ["created_at", "2017-10-07 15:46:21.639189"], ["updated_at", "2017-10-07 15:46:21.639189"]]
  [1m[36m (134.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Souvlaki"], ["price", 18.0], ["description", "Consectetur iusto pariatur laborum."], ["category_id", 3], ["created_at", "2017-10-07 15:46:21.776786"], ["updated_at", "2017-10-07 15:46:21.776786"]]
  [1m[35m (85.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Chicken Fajitas"], ["price", 25.0], ["description", "Libero suscipit recusandae animi et quos ut."], ["category_id", 3], ["created_at", "2017-10-07 15:46:21.866416"], ["updated_at", "2017-10-07 15:46:21.866416"]]
  [1m[36m (63.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Salmon nigiri"], ["price", 31.0], ["description", "Magni aut et mollitia cupiditate autem in."], ["category_id", 3], ["created_at", "2017-10-07 15:46:21.933990"], ["updated_at", "2017-10-07 15:46:21.933990"]]
  [1m[35m (60.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["title", "lime"], ["establishment_id", 4], ["created_at", "2017-10-07 15:46:21.999270"], ["updated_at", "2017-10-07 15:46:21.999270"]]
  [1m[36m (102.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Risotto with seafood"], ["price", 24.0], ["description", "Laboriosam qui totam amet."], ["category_id", 4], ["created_at", "2017-10-07 15:46:22.104984"], ["updated_at", "2017-10-07 15:46:22.104984"]]
  [1m[35m (69.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Caesar Salad"], ["price", 17.0], ["description", "Porro placeat et sunt cupiditate."], ["category_id", 4], ["created_at", "2017-10-07 15:46:22.176780"], ["updated_at", "2017-10-07 15:46:22.176780"]]
  [1m[36m (75.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Linguine with clams"], ["price", 40.0], ["description", "Ut exercitationem vero dolores voluptatum officia aut fuga sunt."], ["category_id", 4], ["created_at", "2017-10-07 15:46:22.254657"], ["updated_at", "2017-10-07 15:46:22.254657"]]
  [1m[35m (85.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Mushroom Risotto"], ["price", 46.0], ["description", "Sit saepe similique nihil vero est quasi quis est."], ["category_id", 4], ["created_at", "2017-10-07 15:46:22.343664"], ["updated_at", "2017-10-07 15:46:22.343664"]]
  [1m[36m (74.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("title", "establishment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "lavender"], ["establishment_id", 5], ["created_at", "2017-10-07 15:46:22.421091"], ["updated_at", "2017-10-07 15:46:22.421091"]]
  [1m[35m (74.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Chicken milanese"], ["price", 30.0], ["description", "Ad cum laborum eum fugiat."], ["category_id", 5], ["created_at", "2017-10-07 15:46:22.498921"], ["updated_at", "2017-10-07 15:46:22.498921"]]
  [1m[36m (104.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Pork sausage roll"], ["price", 40.0], ["description", "Sint laborum illum quo ducimus voluptatem et saepe voluptatem."], ["category_id", 5], ["created_at", "2017-10-07 15:46:22.606316"], ["updated_at", "2017-10-07 15:46:22.606316"]]
  [1m[35m (67.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Pork belly buns"], ["price", 11.0], ["description", "Ducimus distinctio in voluptas velit voluptates."], ["category_id", 5], ["created_at", "2017-10-07 15:46:22.676235"], ["updated_at", "2017-10-07 15:46:22.676235"]]
  [1m[36m (63.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "dishes" ("title", "price", "description", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Caesar Salad"], ["price", 11.0], ["description", "Aut eaque dolore officia numquam optio molestiae adipisci."], ["category_id", 5], ["created_at", "2017-10-07 15:46:22.742766"], ["updated_at", "2017-10-07 15:46:22.742766"]]
  [1m[35m (96.3ms)[0m  commit transaction


Started GET "/" for 127.0.0.1 at 2017-10-07 21:46:25 +0600
Processing by EstablishmentsController#index as HTML
  [1m[36mEstablishment Load (1.2ms)[0m  [1mSELECT "establishments".* FROM "establishments"[0m
  Rendered establishments/index.html.erb within layouts/application (17.0ms)
Completed 200 OK in 96ms (Views: 88.3ms | ActiveRecord: 2.0ms)


Started GET "/establishments/1" for 127.0.0.1 at 2017-10-07 21:46:27 +0600
Processing by EstablishmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mEstablishment Load (0.4ms)[0m  SELECT  "establishments".* FROM "establishments" WHERE "establishments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."establishment_id" = ?[0m  [["establishment_id", 1]]
  [1m[35mDish Load (0.4ms)[0m  SELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?  [["category_id", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mDish Load (0.1ms)[0m  [1mSELECT "dishes".* FROM "dishes" WHERE "dishes"."category_id" = ?[0m  [["category_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  Rendered establishments/show.html.erb within layouts/application (52.8ms)
Completed 200 OK in 141ms (Views: 117.3ms | ActiveRecord: 3.2ms)
